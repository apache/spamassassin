------------------------------------------------------------------------
r528438 | sidney | 2007-04-13 11:02:26 +0000 (Fri, 13 Apr 2007) | 1 line

bug 5416: fix bad test for not connected that should use undef which failed when connected() returned 0
------------------------------------------------------------------------
r528391 | jm | 2007-04-13 08:50:02 +0000 (Fri, 13 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r528255 | jm | 2007-04-12 22:15:57 +0000 (Thu, 12 Apr 2007) | 1 line

bug 5414: remove calls to Symbol::delete_package() that are causing t/bayessql.t test to fail
------------------------------------------------------------------------
r528065 | dos | 2007-04-12 17:56:23 +0000 (Thu, 12 Apr 2007) | 1 line

set exec prop on runPerceptron
------------------------------------------------------------------------
r527994 | hstern | 2007-04-12 15:51:36 +0000 (Thu, 12 Apr 2007) | 1 line

Backing out accidental commit to perceptron.c.  svn commit -m never again
------------------------------------------------------------------------
r527990 | hstern | 2007-04-12 15:49:14 +0000 (Thu, 12 Apr 2007) | 1 line

Removing myself from the active committers list.
------------------------------------------------------------------------
r527963 | jm | 2007-04-12 14:50:28 +0000 (Thu, 12 Apr 2007) | 1 line

for next rc or the release -- update build instructions a little; remove the 3.2.0.txt announcement, and remove it from MANIFEST, since it's too complicated trying to update it *and* put it in the distribution tarball; update Dallas' email address for the change log; and set trunk back into dev mode, since the current tarball is being voted on from the rc2 tag.
------------------------------------------------------------------------
r527931 | jm | 2007-04-12 13:20:05 +0000 (Thu, 12 Apr 2007) | 1 line

forgot the Subject line's PRERELEASE warning
------------------------------------------------------------------------
r527926 | jm | 2007-04-12 13:12:09 +0000 (Thu, 12 Apr 2007) | 1 line

add rc2 announcement
------------------------------------------------------------------------
r527901 | jm | 2007-04-12 12:37:03 +0000 (Thu, 12 Apr 2007) | 1 line

preparing to release 3.2.0rc2
------------------------------------------------------------------------
r527871 | jm | 2007-04-12 10:20:11 +0000 (Thu, 12 Apr 2007) | 1 line

traditional sorting of MANIFEST
------------------------------------------------------------------------
r527868 | jm | 2007-04-12 09:56:08 +0000 (Thu, 12 Apr 2007) | 1 line

add a new, aggressive multi-process spamd preforking stress-test.  skipped by default, unless 'run_spamd_prefork_stress_test' is set to 'y' in t/config
------------------------------------------------------------------------
r527859 | jm | 2007-04-12 09:42:35 +0000 (Thu, 12 Apr 2007) | 1 line

add a deprecation message for 'uridnsbl_timeout'; since it was a public config setting in released code, there's a good chance users are using it, and removing it entirely would result in lint errors for them
------------------------------------------------------------------------
r527840 | jm | 2007-04-12 08:50:02 +0000 (Thu, 12 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r527787 | dos | 2007-04-12 06:26:14 +0000 (Thu, 12 Apr 2007) | 1 line

bah, twice today
------------------------------------------------------------------------
r527786 | dos | 2007-04-12 06:25:50 +0000 (Thu, 12 Apr 2007) | 12 lines

bug 5384: uridnsbl interaction with skip_rbl_checks in 3.2.0, differing behavior from 3.1.8

 - remove the uridnsbl_timeout option, it wasn't being used ever since the
   M::SA::AsyncLoop code was implemented

 - move the "query_launch_time" from M::SA::Dns into M::SA::AsyncLoop and have
   it set whenever $async->start_lookup is called so that code dealing with DNS
   timeouts isn't scattered all over the place (and via undocumented methods)

 - add a method to M::SA::AsyncLoop to get the start time of the last DNS query
   so that M::SA::Dns can (continue to) take care of timing out DNS queries

------------------------------------------------------------------------
r527741 | dos | 2007-04-12 01:29:10 +0000 (Thu, 12 Apr 2007) | 1 line

stray bit
------------------------------------------------------------------------
r527740 | dos | 2007-04-12 01:28:35 +0000 (Thu, 12 Apr 2007) | 49 lines

bug 5410: config options that cause DNS lookups should be privileged
          (and timeouts should require admin privs)

The following config options (all offered by plugins) can now only be used in
user_pref files (or equivalent) if allow_user_rules is enabled:

  MIMEHeader.pm:    setting => 'mimeheader',

  ReplaceTags.pm:    setting => 'replace_tag',
  ReplaceTags.pm:    setting => 'replace_pre',
  ReplaceTags.pm:    setting => 'replace_inter',
  ReplaceTags.pm:    setting => 'replace_post',
  ReplaceTags.pm:    setting => 'replace_rules',
  ReplaceTags.pm:    setting => 'replace_start',
  ReplaceTags.pm:    setting => 'replace_end',

  URIDetail.pm:    setting => 'uri_detail',

  URIDNSBL.pm:    setting => 'uridnsbl',
  URIDNSBL.pm:    setting => 'urirhsbl',
  URIDNSBL.pm:    setting => 'urirhssub',


The following config options (all offered by plugins) can now only be used in
site config files:

  ASN.pm:    setting => 'asn_lookup',

  DCC.pm:    setting => 'dcc_timeout',

  DKIM.pm:    setting => 'dkim_timeout',

  DomainKeys.pm:    setting => 'domainkeys_timeout',

  Pyzor.pm:    setting => 'pyzor_timeout',

  Razor2.pm:    setting => 'razor_timeout',
  Razor2.pm:    setting => 'razor_config',

  SPF.pm:    setting => 'spf_timeout',

  URIDNSBL.pm:    setting => 'uridnsbl_timeout',
  URIDNSBL.pm:    setting => 'uridnsbl_max_domains',


The following config option can now only be used in site config files:

  Conf.pm:    setting => 'rbl_timeout',

------------------------------------------------------------------------
r527640 | jm | 2007-04-11 20:01:48 +0000 (Wed, 11 Apr 2007) | 1 line

welcome, Doc, to the PMC ;)
------------------------------------------------------------------------
r527636 | jm | 2007-04-11 19:48:06 +0000 (Wed, 11 Apr 2007) | 1 line

fix spamc building on Win32 -- there's no replace/getopt.c anymore, just getopt.c
------------------------------------------------------------------------
r527418 | jm | 2007-04-11 08:50:02 +0000 (Wed, 11 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r527324 | maddoc | 2007-04-10 22:10:32 +0000 (Tue, 10 Apr 2007) | 1 line

Changes to 3.2.0.txt
------------------------------------------------------------------------
r527323 | maddoc | 2007-04-10 22:03:13 +0000 (Tue, 10 Apr 2007) | 1 line

Changes to 3.2.0.txt
------------------------------------------------------------------------
r527306 | dos | 2007-04-10 21:26:56 +0000 (Tue, 10 Apr 2007) | 1 line

make sure we don't use an unknown identity as a mfrom identity... just like I wrote in the POD
------------------------------------------------------------------------
r527265 | dos | 2007-04-10 19:52:47 +0000 (Tue, 10 Apr 2007) | 1 line

be a little more flexible with whitespace when re-using received-spf headers
------------------------------------------------------------------------
r527248 | dos | 2007-04-10 18:57:25 +0000 (Tue, 10 Apr 2007) | 1 line

trust algorithm no longer uses DNS, remove -L reference from whitelist_from_rcvd Conf POD
------------------------------------------------------------------------
r527228 | dos | 2007-04-10 18:04:25 +0000 (Tue, 10 Apr 2007) | 1 line

add missing 'of' in AsyncLoop POD
------------------------------------------------------------------------
r527062 | jm | 2007-04-10 08:50:04 +0000 (Tue, 10 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r527045 | dos | 2007-04-10 06:55:09 +0000 (Tue, 10 Apr 2007) | 18 lines

Most of the ASN plugin re-written:

 - remove potentially abusive duplicate lookup option
   (if you *really* need to query for the same thing two or more times in
    order to get a response, just duplicate the asn_lookup config lines)

 - re-implement the asn_lookup as an actual config option instead of a header
   eval function

 - allow for queries against more than one zone at a time

 - make the template tag names configurable

 - register the query with AsyncLoop

 - process the results via the callback rather than polling


------------------------------------------------------------------------
r526708 | jm | 2007-04-09 10:57:14 +0000 (Mon, 09 Apr 2007) | 1 line

bug 5408: ImageInfo rules weren't protected correctly by 'ifplugin' scoping
------------------------------------------------------------------------
r526706 | jm | 2007-04-09 10:53:39 +0000 (Mon, 09 Apr 2007) | 1 line

bug 5407: add ldaps support to configuration LDAP support
------------------------------------------------------------------------
r526674 | jm | 2007-04-09 08:50:03 +0000 (Mon, 09 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r526536 | jm | 2007-04-08 08:50:02 +0000 (Sun, 08 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r526412 | jm | 2007-04-07 08:50:02 +0000 (Sat, 07 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r526102 | jm | 2007-04-06 08:50:01 +0000 (Fri, 06 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r525941 | duncf | 2007-04-05 19:31:14 +0000 (Thu, 05 Apr 2007) | 1 line

Add explanation of how to plot "real" ROC graphs (as shown in the literature) in mk-roc-graphs
------------------------------------------------------------------------
r525807 | jm | 2007-04-05 12:44:49 +0000 (Thu, 05 Apr 2007) | 1 line

support ok_all_patterns() variant where it just checks all patterns and returns a success value, instead of calling ok()
------------------------------------------------------------------------
r525764 | jm | 2007-04-05 08:50:02 +0000 (Thu, 05 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r525460 | jm | 2007-04-04 08:50:01 +0000 (Wed, 04 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r525240 | jm | 2007-04-03 18:44:11 +0000 (Tue, 03 Apr 2007) | 1 line

update mimeparse test to take text/foo content-type parsing change into account; text/richtext is now parsed as text/plain
------------------------------------------------------------------------
r525238 | jm | 2007-04-03 18:35:55 +0000 (Tue, 03 Apr 2007) | 1 line

remove bug 5313 debugging log messages
------------------------------------------------------------------------
r525237 | jm | 2007-04-03 18:34:21 +0000 (Tue, 03 Apr 2007) | 1 line

bug 5313: fix spamd 'prefork: select returned -1, recovering: Bad file descriptor' error.  do this by ensuring FDs are fully cleaned up (and removed from the selector bitvec) if a child is killed, and a few other related cleanups, to fully clarify the code.  also, fix a case where write errors from child to parent were not being caught or logged, due to incorrect use of write() instead of die().  finally, add test instrumentation code, allowing simulation of certain reported system errors.  Note: this checkin also contains additional debugging log messages
------------------------------------------------------------------------
r525228 | jm | 2007-04-03 18:14:43 +0000 (Tue, 03 Apr 2007) | 1 line

bug 5399: add two additional required test message files
------------------------------------------------------------------------
r525227 | jm | 2007-04-03 18:14:30 +0000 (Tue, 03 Apr 2007) | 1 line

bug 5399: add two additional required test message files
------------------------------------------------------------------------
r525224 | jm | 2007-04-03 18:08:44 +0000 (Tue, 03 Apr 2007) | 1 line

bug 5399: if the content-type starts with /^text\b/i, and isn't in a list of already-dealt-with types, treat it as text/plain to emulate silly MUA behaviour
------------------------------------------------------------------------
r525090 | jm | 2007-04-03 08:50:01 +0000 (Tue, 03 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r524746 | jm | 2007-04-02 08:50:02 +0000 (Mon, 02 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r524559 | jm | 2007-04-01 08:50:01 +0000 (Sun, 01 Apr 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r524391 | jm | 2007-03-31 08:50:01 +0000 (Sat, 31 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r523994 | jm | 2007-03-30 08:50:01 +0000 (Fri, 30 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r523743 | jm | 2007-03-29 15:20:01 +0000 (Thu, 29 Mar 2007) | 1 line

bug 4747: oops, put this back to a dbg()
------------------------------------------------------------------------
r523738 | jm | 2007-03-29 15:13:02 +0000 (Thu, 29 Mar 2007) | 1 line

bug 4747: actually fix the 'Return-Path: <>' case; the search pattern for <> was incorrect, since get() returns the header value without the < and >, so the empty string
------------------------------------------------------------------------
r523730 | jm | 2007-03-29 14:52:48 +0000 (Thu, 29 Mar 2007) | 1 line

bug 4747: silence noisy warnings produced with a null sender (Return-Path: <>) when always_trust_envelope_sender was set to 1, and envelope_sender_header was set to Return-Path
------------------------------------------------------------------------
r523626 | jm | 2007-03-29 08:50:02 +0000 (Thu, 29 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r523403 | jm | 2007-03-28 16:38:58 +0000 (Wed, 28 Mar 2007) | 1 line

improve sa-update documentation a little, to cleanup some text and note '&& reload' idiom
------------------------------------------------------------------------
r523232 | jm | 2007-03-28 08:50:01 +0000 (Wed, 28 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r523025 | jm | 2007-03-27 18:33:24 +0000 (Tue, 27 Mar 2007) | 1 line

bug 5388: do not attempt to work with TCP connections that did not complete the accept() process, and are not connected
------------------------------------------------------------------------
r522813 | jm | 2007-03-27 08:50:01 +0000 (Tue, 27 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r522559 | jm | 2007-03-26 16:05:14 +0000 (Mon, 26 Mar 2007) | 1 line

use off-zone hosting for static files
------------------------------------------------------------------------
r522458 | jm | 2007-03-26 08:50:01 +0000 (Mon, 26 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r522258 | jm | 2007-03-25 13:04:54 +0000 (Sun, 25 Mar 2007) | 1 line

add new public API: Mail::SA::get_loaded_plugins_list(), to allow callers to get a list of the currently-loaded plugin objects
------------------------------------------------------------------------
r522255 | jm | 2007-03-25 12:52:35 +0000 (Sun, 25 Mar 2007) | 1 line

fix typo
------------------------------------------------------------------------
r522178 | jm | 2007-03-25 08:50:01 +0000 (Sun, 25 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r521993 | jm | 2007-03-24 08:50:02 +0000 (Sat, 24 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r521869 | jm | 2007-03-23 19:00:27 +0000 (Fri, 23 Mar 2007) | 1 line

minor changes to bring build notes up to speed with current practice
------------------------------------------------------------------------
r521628 | jm | 2007-03-23 08:50:01 +0000 (Fri, 23 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r521275 | jm | 2007-03-22 14:04:55 +0000 (Thu, 22 Mar 2007) | 1 line

preparing to release 3.2.0 release candidate 1, attempt number 2
------------------------------------------------------------------------
r521273 | jm | 2007-03-22 13:58:25 +0000 (Thu, 22 Mar 2007) | 1 line

argh, minotaur keeps changing under our feet; we need to move the build procedure to another host. /usr/local/bin/perl has disappeared; s/local\//g in build scripts
------------------------------------------------------------------------
r521266 | jm | 2007-03-22 13:47:41 +0000 (Thu, 22 Mar 2007) | 1 line

preparing to release 3.2.0 release candidate 1
------------------------------------------------------------------------
r521261 | jm | 2007-03-22 13:41:18 +0000 (Thu, 22 Mar 2007) | 1 line

trivial: rearrange @EXTRA_VERSION, improve its comment
------------------------------------------------------------------------
r521153 | jm | 2007-03-22 08:50:05 +0000 (Thu, 22 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r521140 | sidney | 2007-03-22 07:10:30 +0000 (Thu, 22 Mar 2007) | 1 line

update Changes file
------------------------------------------------------------------------
r520892 | jm | 2007-03-21 14:01:15 +0000 (Wed, 21 Mar 2007) | 1 line

remove ugly and superfluous line number from 'falling back to nobody' warning
------------------------------------------------------------------------
r520881 | jm | 2007-03-21 13:30:05 +0000 (Wed, 21 Mar 2007) | 1 line

bug 5365: spamd child falling back to 'nobody' due to unknown username passed from spamc, attempts to read previous user's bayes dbs (and fails).  fixed
------------------------------------------------------------------------
r520820 | jm | 2007-03-21 09:41:04 +0000 (Wed, 21 Mar 2007) | 1 line

deprioritise --updatedir, and recommend strongly that it not be used
------------------------------------------------------------------------
r520808 | jm | 2007-03-21 08:50:02 +0000 (Wed, 21 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r520455 | jm | 2007-03-20 16:00:04 +0000 (Tue, 20 Mar 2007) | 1 line

shortcircuiting during compile_now() meant that part of the ruleset went uncompiled until the first message was scanned in each spamd child. fix
------------------------------------------------------------------------
r520453 | jm | 2007-03-20 15:58:51 +0000 (Tue, 20 Mar 2007) | 1 line

note when rulesets are compiled; helps debugging
------------------------------------------------------------------------
r520388 | jm | 2007-03-20 13:50:13 +0000 (Tue, 20 Mar 2007) | 1 line

update with 2 new buildbots, thanks to Matthias Leisi <matthias at leisi.net>
------------------------------------------------------------------------
r520332 | jm | 2007-03-20 08:50:03 +0000 (Tue, 20 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r519878 | jm | 2007-03-19 08:50:02 +0000 (Mon, 19 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r519574 | jm | 2007-03-18 08:50:01 +0000 (Sun, 18 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r519264 | jm | 2007-03-17 08:50:02 +0000 (Sat, 17 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r519015 | jm | 2007-03-16 15:46:13 +0000 (Fri, 16 Mar 2007) | 1 line

cut 3.2.0-pre3 pre-release tarball; back to dev mode for the trunk
------------------------------------------------------------------------
r518998 | jm | 2007-03-16 15:07:41 +0000 (Fri, 16 Mar 2007) | 1 line

preparing to relase 3.2.0-pre3
------------------------------------------------------------------------
r518982 | jm | 2007-03-16 14:09:14 +0000 (Fri, 16 Mar 2007) | 1 line

bug 5338: check Config{installsiteman1dir} and Config{installvendorman1dir} as well as Config{installman1dir}, otherwise we can wind up not installing many of the important man pages when we should do so
------------------------------------------------------------------------
r518980 | jm | 2007-03-16 14:08:24 +0000 (Fri, 16 Mar 2007) | 1 line

fix indent in INSTALL docs
------------------------------------------------------------------------
r518890 | jm | 2007-03-16 08:50:02 +0000 (Fri, 16 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r518740 | jm | 2007-03-15 19:46:38 +0000 (Thu, 15 Mar 2007) | 1 line

inhibit noise from sa-compile
------------------------------------------------------------------------
r518736 | jm | 2007-03-15 19:32:15 +0000 (Thu, 15 Mar 2007) | 1 line

remove some vestigial code for user-defined HAMMYTOKENS/SPAMMYTOKENS formats, which was (a) a disabled code path and (b) would have been a security hole if it was enabled
------------------------------------------------------------------------
r518664 | dos | 2007-03-15 15:34:08 +0000 (Thu, 15 Mar 2007) | 1 line

prevent plugins from permanently disabling their dns tests, dns may become available again with re-testing of dns availability
------------------------------------------------------------------------
r518631 | jm | 2007-03-15 14:05:34 +0000 (Thu, 15 Mar 2007) | 1 line

bug 5344: binmode() causes 'CR NL' ('\r\n') to be read as 'NL' ('\n').  fix this by using the octal escape sequences: \015\012, instead, in the core spots where we access user-submitted mail data through a filehandle that may be affected by binmode.
------------------------------------------------------------------------
r518626 | jm | 2007-03-15 13:37:37 +0000 (Thu, 15 Mar 2007) | 1 line

bug 5371: sa-update could produce updates that load files in the wrong order; sort alphanumerically to avoid this
------------------------------------------------------------------------
r518615 | jm | 2007-03-15 13:01:09 +0000 (Thu, 15 Mar 2007) | 1 line

follow some good advice from Perl::Critic; "return undef" should be just "return" due to odd behaviour in wantarray mode
------------------------------------------------------------------------
r518521 | jm | 2007-03-15 08:50:02 +0000 (Thu, 15 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r518443 | dos | 2007-03-15 02:21:34 +0000 (Thu, 15 Mar 2007) | 1 line

add clear_msa_networks to tests where needed
------------------------------------------------------------------------
r518194 | jm | 2007-03-14 15:49:45 +0000 (Wed, 14 Mar 2007) | 1 line

oops, redefining an argument
------------------------------------------------------------------------
r518187 | jm | 2007-03-14 15:38:32 +0000 (Wed, 14 Mar 2007) | 1 line

refactor some shared code from spamd_hup.t, spamd_kill_restart.t and spamd_kill_restart_rr.t into SATest.pm; add new more-raceproof spamd_hup logic to other two tests, too
------------------------------------------------------------------------
r518167 | jm | 2007-03-14 15:00:34 +0000 (Wed, 14 Mar 2007) | 1 line

add some more sanity checks on pid file size
------------------------------------------------------------------------
r518147 | jm | 2007-03-14 14:00:03 +0000 (Wed, 14 Mar 2007) | 1 line

another attempt at a race-resistant spamd SIGHUP test case
------------------------------------------------------------------------
r518146 | jm | 2007-03-14 13:59:37 +0000 (Wed, 14 Mar 2007) | 1 line

add timestamped logs to the spamd test suite
------------------------------------------------------------------------
r518117 | jm | 2007-03-14 12:40:07 +0000 (Wed, 14 Mar 2007) | 1 line

add alternative fitness function: distance from a target false-positive rate.  This is easier to predict, and produces better GA results in fewer generations in 10-pass cross-validation tests.  However, it's not actually active yet in runGA; next time the GA is run, it will be worthwhile switching to this
------------------------------------------------------------------------
r518111 | jm | 2007-03-14 12:31:49 +0000 (Wed, 14 Mar 2007) | 1 line

GA improvements.  remove long-vestigial USE_LOG_SCORE_EVALUATION and exhaustive_eval code; make maxiter a command-line parameter; add a digit to the percentage counters in the output; silence some inscrutable noise in the output; and make the checkpoints output more frequently
------------------------------------------------------------------------
r518108 | jm | 2007-03-14 12:21:28 +0000 (Wed, 14 Mar 2007) | 1 line

bring 10-pass cross-validation driver script up to date with current runGA practices
------------------------------------------------------------------------
r518071 | jm | 2007-03-14 08:50:01 +0000 (Wed, 14 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r517847 | jm | 2007-03-13 20:12:46 +0000 (Tue, 13 Mar 2007) | 1 line

work around noisy and spurious test failures on solaris with perl 5.6.1
------------------------------------------------------------------------
r517835 | jm | 2007-03-13 20:00:42 +0000 (Tue, 13 Mar 2007) | 1 line

use STDIN instead of STDERR to determine if progress bars are appropriate; this is more std UNIXy, and also avoids 'stty: : No such device or address' errors on Solaris if a command is run < /dev/null
------------------------------------------------------------------------
r517750 | jm | 2007-03-13 16:09:42 +0000 (Tue, 13 Mar 2007) | 1 line

this should be an info, so people can know the compiled rules are in use
------------------------------------------------------------------------
r517684 | jm | 2007-03-13 13:23:14 +0000 (Tue, 13 Mar 2007) | 1 line

fix re2c code to support partially-overlapping patterns; e.g. 'abc' and 'bcd' in the string 'abcd'. do this by backtracking after each match to one char after the start of the match
------------------------------------------------------------------------
r517592 | jm | 2007-03-13 08:50:05 +0000 (Tue, 13 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r517533 | duncf | 2007-03-13 05:15:22 +0000 (Tue, 13 Mar 2007) | 2 lines

Fix logic error in score-ranges-from-freqs

------------------------------------------------------------------------
r517315 | duncf | 2007-03-12 18:14:28 +0000 (Mon, 12 Mar 2007) | 3 lines

Looks like "learn" is the proper tflag for BAYES rules (i.e. rules
ignored in sets 2 and 3)

------------------------------------------------------------------------
r517311 | duncf | 2007-03-12 17:59:30 +0000 (Mon, 12 Mar 2007) | 1 line

Fix logic error in parse-rules-for-masses, add bayes tflags to BAYES rules
------------------------------------------------------------------------
r517209 | jm | 2007-03-12 13:26:02 +0000 (Mon, 12 Mar 2007) | 1 line

fix t/rule_multiple.t failures; tflags multiple support had been broken by the code which merged dup rules together, and also by another bug in got_hit()
------------------------------------------------------------------------
r517190 | jm | 2007-03-12 12:24:04 +0000 (Mon, 12 Mar 2007) | 1 line

add to sa-compile doco
------------------------------------------------------------------------
r517133 | jm | 2007-03-12 08:50:01 +0000 (Mon, 12 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r517051 | jm | 2007-03-11 23:46:52 +0000 (Sun, 11 Mar 2007) | 1 line

aha. rules that are not 'tflags multiple' should be able to get a 'value' of 2 when in use as meta subrules
------------------------------------------------------------------------
r516901 | jm | 2007-03-11 13:41:15 +0000 (Sun, 11 Mar 2007) | 1 line

support another way perl 5.8.x outputs escape sequences from BodyRuleBaseExtractor
------------------------------------------------------------------------
r516873 | jm | 2007-03-11 08:50:01 +0000 (Sun, 11 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r516709 | jm | 2007-03-10 14:02:07 +0000 (Sat, 10 Mar 2007) | 1 line

store a perl copy of the bases from the compilation step in the 'compiled' area, too; improve sa-compile documentation
------------------------------------------------------------------------
r516707 | jm | 2007-03-10 13:33:58 +0000 (Sat, 10 Mar 2007) | 1 line

better UI for the time-consuming part of sa-compile; use progress bars, issue info() lines
------------------------------------------------------------------------
r516666 | jm | 2007-03-10 08:50:01 +0000 (Sat, 10 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r516606 | jm | 2007-03-09 23:47:54 +0000 (Fri, 09 Mar 2007) | 1 line

sa-compile now outputs a status line after extracting base strings
------------------------------------------------------------------------
r516581 | jm | 2007-03-09 22:20:08 +0000 (Fri, 09 Mar 2007) | 1 line

support \033 escapes in sa-compile for __ISO_JP_2022_DELIM
------------------------------------------------------------------------
r516532 | jm | 2007-03-09 20:07:17 +0000 (Fri, 09 Mar 2007) | 1 line

fix quite a few bugs in the body-rule base string extraction plugin, and add test cases for the bugs fixed
------------------------------------------------------------------------
r516332 | jm | 2007-03-09 08:50:02 +0000 (Fri, 09 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r516156 | jm | 2007-03-08 19:28:37 +0000 (Thu, 08 Mar 2007) | 1 line

oops, stray /
------------------------------------------------------------------------
r516154 | jm | 2007-03-08 19:19:31 +0000 (Thu, 08 Mar 2007) | 1 line

bug 5352: use zero-space lookbehind assertion to avoid ACM hosts
------------------------------------------------------------------------
r516072 | jm | 2007-03-08 15:28:26 +0000 (Thu, 08 Mar 2007) | 1 line

remove obsolete and unused dot_star and dot_plus code; write bases to a file named by the ruleset and priority, instead of overwriting one file, much more useful for the --keep-tmps case; and cd to / before running the rm -rf command in the non-keep-tmps case, to hopefully fix Sidney's bug
------------------------------------------------------------------------
r516070 | jm | 2007-03-08 15:27:10 +0000 (Thu, 08 Mar 2007) | 1 line

BodyRuleBaseExtractor issue: two rules with the same word as longest base string would sometimes overlap, resulting in one rule being discarded from the base string; fix
------------------------------------------------------------------------
r515972 | jm | 2007-03-08 08:50:01 +0000 (Thu, 08 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r515732 | dos | 2007-03-07 20:07:32 +0000 (Wed, 07 Mar 2007) | 1 line

change all tab indentations to a pair of spaces
------------------------------------------------------------------------
r515725 | dos | 2007-03-07 20:00:43 +0000 (Wed, 07 Mar 2007) | 1 line

bug 5348: add 25_asn.cf for ASN plugin and cleanup/clairify plugin POD
------------------------------------------------------------------------
r515643 | jm | 2007-03-07 16:57:02 +0000 (Wed, 07 Mar 2007) | 1 line

oops, typo
------------------------------------------------------------------------
r515640 | jm | 2007-03-07 16:53:53 +0000 (Wed, 07 Mar 2007) | 1 line

absorb meaningless warnings
------------------------------------------------------------------------
r515632 | jm | 2007-03-07 16:15:50 +0000 (Wed, 07 Mar 2007) | 1 line

Change BodyRuleBaseExtractor plugin to use perl's built-in regexp parser, 'perl -Mre=debug'.  This renders the code a lot more reliable, and it can now parse a wider range of regexps than before.   Improve Rule2XSBody diagnostics, in particular around which compiled regexp DFA is being loaded, and reasons why it discards some compiled rules; Remove some superfluous escaping from sa-compile.raw; and add several new test cases for BodyRuleBaseExtractor
------------------------------------------------------------------------
r515626 | jm | 2007-03-07 16:12:28 +0000 (Wed, 07 Mar 2007) | 1 line

mass-check should use blib before lib, so that @@LOCAL_STATE_DIR@@ and so on are correctly interpolated
------------------------------------------------------------------------
r515540 | jm | 2007-03-07 11:42:03 +0000 (Wed, 07 Mar 2007) | 1 line

add an UPGRADE section for 3.2.0, listing the 127/8-trusted issue and the new msa_networks setting; more to follow, no doubt
------------------------------------------------------------------------
r515496 | jm | 2007-03-07 08:50:01 +0000 (Wed, 07 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r515298 | jm | 2007-03-06 21:00:54 +0000 (Tue, 06 Mar 2007) | 43 lines

A couple of enhancements to Plugin::DKIM from Mark Martinec:

'prompted by recent enhancements to the underlying module Mail::DKIM, which now
also supports DomainKeys signatures in addition to DKIM signatures, and is
being actively maintained, unlike Mail::DomainKeys.

- separate a signature verification from fetching a policy, which makes it
  possible to avoid one DNS lookups (by not fetching a policy) for each
  unverified message by setting score to 0 for all policy-related rules
  (DKIM_POLICY_SIGNALL, DKIM_POLICY_SIGNSOME, and DKIM_POLICY_TESTING).


- let the check_dkim_testing() also take into account a testing flag
  in a public key, not just the one in a policy record (still lacks
  the final support in Mail::DKIM (missing a documented method),
  but the plugin is now ready). This is an equivalent change that
  was already made to Plugin::DomainKeys.


- skip fetching a policy (SSP) if a signature does verify, according
  to draft-allman-dkim-ssp-02: If the message contains a valid Originator
  Signature, no Sender Signing Practices check need be performed:
  the Verifier SHOULD NOT look up the Sender Signing Practices
  and the message SHOULD be considered non-Suspicious.
  This is an equivalent change that was already made
  to Plugin::DomainKeys.

- make some debugging messages more informative or concise;

- bug fix: protect fetching/parsing a policy record by eval { }
  to prevent a syntax error in a policy record from invalidating
  an already verified good signature;

- bug fix: if an identity tag (i=) is missing (this tag is optional),
  it should default to an '@' prepended to a domain (d=),
  according to draft-ietf-dkim-base-09; previously dkim whitelisting
  check was skipped when identity was not explicit ('i' tag missing);

- squash code in _check_dkim_whitelist() in half by factoring out
  duplicate code sections



------------------------------------------------------------------------
r515260 | jm | 2007-03-06 19:19:29 +0000 (Tue, 06 Mar 2007) | 1 line

try out the Cool Tools perl on the zone
------------------------------------------------------------------------
r515222 | jm | 2007-03-06 17:36:12 +0000 (Tue, 06 Mar 2007) | 1 line

make it clear that Mail::DKIM is better than Mail::DomainKeys
------------------------------------------------------------------------
r515103 | jm | 2007-03-06 12:34:50 +0000 (Tue, 06 Mar 2007) | 1 line

bug 5352: trivial rule fix to avoid HELO_DYNAMIC_DHCP hits on all mail via the ACM mail server
------------------------------------------------------------------------
r515028 | jm | 2007-03-06 08:50:02 +0000 (Tue, 06 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r514669 | jm | 2007-03-05 13:56:59 +0000 (Mon, 05 Mar 2007) | 1 line

fix more SVN breakage with home dirs on the zone
------------------------------------------------------------------------
r514663 | jm | 2007-03-05 13:09:48 +0000 (Mon, 05 Mar 2007) | 1 line

optimisations; no need to do a lot of the work performed for the ham case
------------------------------------------------------------------------
r514605 | jm | 2007-03-05 08:50:01 +0000 (Mon, 05 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r514401 | jm | 2007-03-04 13:44:08 +0000 (Sun, 04 Mar 2007) | 1 line

escape more bits from the output code file; uncomment some testing code lines; and fix '--sudo' mode to run more of the build process as non-root
------------------------------------------------------------------------
r514400 | jm | 2007-03-04 13:42:46 +0000 (Sun, 04 Mar 2007) | 1 line

oops. Rule2XSBody was looking at the wrong rendering of the body string; 'rawbody' instead of 'body'. fix
------------------------------------------------------------------------
r514375 | jm | 2007-03-04 08:50:01 +0000 (Sun, 04 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r514103 | jm | 2007-03-03 08:50:02 +0000 (Sat, 03 Mar 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r513827 | jm | 2007-03-02 16:23:14 +0000 (Fri, 02 Mar 2007) | 1 line

free up some more RAM
------------------------------------------------------------------------
r513818 | jm | 2007-03-02 15:53:02 +0000 (Fri, 02 Mar 2007) | 1 line

add recent additions to list of 3LDs via URIBL, thanks Dallas
------------------------------------------------------------------------
r513816 | jm | 2007-03-02 15:51:52 +0000 (Fri, 02 Mar 2007) | 1 line

avoid file descriptor leak if 'mass_check_skip_message' hook is used
------------------------------------------------------------------------
r513691 | jm | 2007-03-02 10:21:49 +0000 (Fri, 02 Mar 2007) | 1 line

bug 5362: add Mail::SPF as an optional module, and document its relationship to Mail::SPF::Query
------------------------------------------------------------------------
r513418 | jm | 2007-03-01 17:45:29 +0000 (Thu, 01 Mar 2007) | 1 line

bug 5360: spamd --daemonize fails to start if the MySQL or SQL BayesStore backends are in use, due to SIGPIPE delivered before signal handlers are set up.  fix
------------------------------------------------------------------------
r513348 | jm | 2007-03-01 14:29:40 +0000 (Thu, 01 Mar 2007) | 1 line

fix SVN failures on zone apps; explicitly set HOME env var for all daemons, since otherwise they will attempt to read the wrong SVN authorization files and fail all operations that involve the 'rulesrc' external
------------------------------------------------------------------------
r513343 | jm | 2007-03-01 14:21:21 +0000 (Thu, 01 Mar 2007) | 1 line

svnpath is a Debianism, not available on the zones
------------------------------------------------------------------------
r513309 | jm | 2007-03-01 13:23:27 +0000 (Thu, 01 Mar 2007) | 1 line

fix to use current SVN, not locked to version 1.1.4, for nightly mass-check tagging
------------------------------------------------------------------------
r512851 | jm | 2007-02-28 17:16:53 +0000 (Wed, 28 Feb 2007) | 1 line

preparing to build 3.2.0pre2 PRERELEASE
------------------------------------------------------------------------
r512747 | jm | 2007-02-28 13:13:31 +0000 (Wed, 28 Feb 2007) | 1 line

update STATISTICS files to list freqs against entire mass-check set, not the 1/10th test set
------------------------------------------------------------------------
r512746 | jm | 2007-02-28 13:12:48 +0000 (Wed, 28 Feb 2007) | 1 line

update Changes file
------------------------------------------------------------------------
r512705 | jm | 2007-02-28 11:18:29 +0000 (Wed, 28 Feb 2007) | 1 line

STATISTICS files should include the full freqs report, on the entire training log set, not the 1/10th test set
------------------------------------------------------------------------
r512496 | jm | 2007-02-27 23:40:40 +0000 (Tue, 27 Feb 2007) | 1 line

oops, another point where sudo is required
------------------------------------------------------------------------
r512495 | jm | 2007-02-27 23:39:38 +0000 (Tue, 27 Feb 2007) | 1 line

comment debugging noise
------------------------------------------------------------------------
r512494 | jm | 2007-02-27 23:38:30 +0000 (Tue, 27 Feb 2007) | 1 line

--sudo means skip the writable check
------------------------------------------------------------------------
r512482 | jm | 2007-02-27 23:17:02 +0000 (Tue, 27 Feb 2007) | 1 line

fix BodyRuleBaseExtractor and sa-compile to deal correctly with the SARE rulesets, which use backslashes in (previously untested) ways compared to the testing so far
------------------------------------------------------------------------
r512364 | hstern | 2007-02-27 19:09:30 +0000 (Tue, 27 Feb 2007) | 2 lines

Added .mobi to list of valid TLDs.

------------------------------------------------------------------------
r512321 | jm | 2007-02-27 16:58:28 +0000 (Tue, 27 Feb 2007) | 1 line

rebuilt STATS files for new scores
------------------------------------------------------------------------
r512267 | jm | 2007-02-27 14:56:39 +0000 (Tue, 27 Feb 2007) | 1 line

fix meta.t failures in new scoresets
------------------------------------------------------------------------
r512265 | jm | 2007-02-27 14:44:00 +0000 (Tue, 27 Feb 2007) | 1 line

bug 5270: redo scoresets 1 and 3, due to RCVD_IN_PBL omission in previous runs
------------------------------------------------------------------------
r512262 | jm | 2007-02-27 14:14:16 +0000 (Tue, 27 Feb 2007) | 1 line

more portability-friendly makefile; LIBDIR has to be update between solaris and linux.  also, fix deps for garescorer binary
------------------------------------------------------------------------
r512239 | jm | 2007-02-27 12:49:01 +0000 (Tue, 27 Feb 2007) | 1 line

discourage use of whitelist_from; the doco was not clear about this
------------------------------------------------------------------------
r511876 | felicity | 2007-02-26 16:22:53 +0000 (Mon, 26 Feb 2007) | 1 line

bug 5353: don't let boolean not match when neq is supposed to ...
------------------------------------------------------------------------
r511862 | jm | 2007-02-26 15:46:29 +0000 (Mon, 26 Feb 2007) | 1 line

fix PATH settings on the zone to include the correct version of subversion
------------------------------------------------------------------------
r511648 | jm | 2007-02-25 22:53:58 +0000 (Sun, 25 Feb 2007) | 1 line

bug 5340: sa-compile was complaining about being unable to write to the compiled-rules dir, incorrectly.  fix
------------------------------------------------------------------------
r511548 | jm | 2007-02-25 16:42:57 +0000 (Sun, 25 Feb 2007) | 1 line

duh, stupid typo in a scores line
------------------------------------------------------------------------
r511547 | jm | 2007-02-25 16:39:22 +0000 (Sun, 25 Feb 2007) | 1 line

ignore T_ rules with a zero score in rewrite
------------------------------------------------------------------------
r511543 | jm | 2007-02-25 16:34:02 +0000 (Sun, 25 Feb 2007) | 1 line

add additional virus-bounce pattern to VBounce ruleset
------------------------------------------------------------------------
r511540 | jm | 2007-02-25 16:27:03 +0000 (Sun, 25 Feb 2007) | 1 line

bug 5270: updated STATISTICS files and scores
------------------------------------------------------------------------
r511517 | jm | 2007-02-25 14:43:59 +0000 (Sun, 25 Feb 2007) | 1 line

more tmp files; use '-svn' instead of '-cvs' for version strings; filter out T_ rules in STATISTICS files; current 50_scores.cf
------------------------------------------------------------------------
r511505 | jm | 2007-02-25 13:17:32 +0000 (Sun, 25 Feb 2007) | 1 line

bug 5270: correctly track scores zeroed in score-ranges-from-freqs, so that they are output as 0 post-rescoring.  also, just use unique temp files instead of tmp/rules.pl
------------------------------------------------------------------------
r511470 | jm | 2007-02-25 08:50:02 +0000 (Sun, 25 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r511346 | jm | 2007-02-24 21:09:00 +0000 (Sat, 24 Feb 2007) | 1 line

bug 5257: set autolearn thresholds to be more conservative for learning mails as ham, due to anecdotal reports of problems
------------------------------------------------------------------------
r511345 | jm | 2007-02-24 21:08:38 +0000 (Sat, 24 Feb 2007) | 1 line

bug 4747: update documentation to match current EnvelopeFrom behaviour
------------------------------------------------------------------------
r511240 | jm | 2007-02-24 08:50:02 +0000 (Sat, 24 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r510873 | jm | 2007-02-23 08:50:01 +0000 (Fri, 23 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r510442 | jm | 2007-02-22 08:50:02 +0000 (Thu, 22 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r510008 | jm | 2007-02-21 13:38:54 +0000 (Wed, 21 Feb 2007) | 1 line

we should use the saved test log when generating stats, instead of assuming what's currently in spam-test.log is still usable
------------------------------------------------------------------------
r510005 | jm | 2007-02-21 13:33:11 +0000 (Wed, 21 Feb 2007) | 1 line

oops, that's a sh script
------------------------------------------------------------------------
r510001 | jm | 2007-02-21 13:25:45 +0000 (Wed, 21 Feb 2007) | 1 line

update stats-generation part of the script, to automate more of the hard work
------------------------------------------------------------------------
r509993 | jm | 2007-02-21 13:05:06 +0000 (Wed, 21 Feb 2007) | 1 line

update MANIFEST
------------------------------------------------------------------------
r509988 | jm | 2007-02-21 12:54:19 +0000 (Wed, 21 Feb 2007) | 1 line

bug 5270: add new helper script to ensure that rules listed in an active.list file are always published in future, since they now have evolved scores
------------------------------------------------------------------------
r509987 | jm | 2007-02-21 12:51:47 +0000 (Wed, 21 Feb 2007) | 1 line

make some of the imageinfo rules into meta subrules, in order to fix t/meta.t problems caused by new GA-evolved scores
------------------------------------------------------------------------
r509941 | jm | 2007-02-21 08:50:01 +0000 (Wed, 21 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r509710 | jm | 2007-02-20 19:05:42 +0000 (Tue, 20 Feb 2007) | 1 line

update to match build/parse-rules-for-masses
------------------------------------------------------------------------
r509555 | jm | 2007-02-20 13:35:10 +0000 (Tue, 20 Feb 2007) | 1 line

should run preflight mass-checks anyway even if lint checks fail for that set of rules files
------------------------------------------------------------------------
r509465 | jm | 2007-02-20 08:50:02 +0000 (Tue, 20 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r509134 | jm | 2007-02-19 08:50:02 +0000 (Mon, 19 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r508887 | jm | 2007-02-18 08:50:02 +0000 (Sun, 18 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r508786 | jm | 2007-02-17 18:02:15 +0000 (Sat, 17 Feb 2007) | 1 line

try to remove the requirement of single-threaded use of ../rules/50_scores.cf in runGA script; update configs to what was used in bug 5270
------------------------------------------------------------------------
r508785 | jm | 2007-02-17 18:01:16 +0000 (Sat, 17 Feb 2007) | 1 line

bug 5270: GA scores for set 3
------------------------------------------------------------------------
r508737 | jm | 2007-02-17 08:50:01 +0000 (Sat, 17 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r508709 | felicity | 2007-02-17 05:01:42 +0000 (Sat, 17 Feb 2007) | 1 line

bug 5337: change the start order for redhat such that spamd starts before the MTA
------------------------------------------------------------------------
r508679 | jm | 2007-02-17 01:35:11 +0000 (Sat, 17 Feb 2007) | 1 line

set 1 scores re-run with GA
------------------------------------------------------------------------
r508499 | jm | 2007-02-16 17:18:14 +0000 (Fri, 16 Feb 2007) | 1 line

avoid a 'may be used uninitialized' warning
------------------------------------------------------------------------
r508378 | jm | 2007-02-16 12:21:03 +0000 (Fri, 16 Feb 2007) | 1 line

bug 5270: new scores for scoreset 0.  also updates to runGA script
------------------------------------------------------------------------
r508376 | jm | 2007-02-16 12:02:37 +0000 (Fri, 16 Feb 2007) | 1 line

bug 5318: forgot score for this informational rule
------------------------------------------------------------------------
r508375 | jm | 2007-02-16 12:01:00 +0000 (Fri, 16 Feb 2007) | 1 line

increase URI length limit to 8k as discussed in bug 5318 comment 30
------------------------------------------------------------------------
r508349 | jm | 2007-02-16 08:50:01 +0000 (Fri, 16 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r508108 | felicity | 2007-02-15 19:48:39 +0000 (Thu, 15 Feb 2007) | 1 line

bug 5336: properly handle non-AI formatted targets, such as when no initial target is given
------------------------------------------------------------------------
r508081 | jm | 2007-02-15 19:07:18 +0000 (Thu, 15 Feb 2007) | 1 line

bug 5330: document that Mail::DKIM 0.20 will perform DomainKeys lookups automatically, as well as DKIM ones
------------------------------------------------------------------------
r508076 | jm | 2007-02-15 18:59:01 +0000 (Thu, 15 Feb 2007) | 1 line

bug 5179: perl does silly things with \r\n line endings on non-UNIX platforms.  use \015\012 instead
------------------------------------------------------------------------
r507951 | jm | 2007-02-15 15:06:58 +0000 (Thu, 15 Feb 2007) | 1 line

ensure rule-parsing inherently knows about bayes/net scoresets
------------------------------------------------------------------------
r507950 | jm | 2007-02-15 15:06:06 +0000 (Thu, 15 Feb 2007) | 1 line

typo; the tflag for BAYES rules is 'learn', not 'bayes'
------------------------------------------------------------------------
r507903 | jm | 2007-02-15 11:44:18 +0000 (Thu, 15 Feb 2007) | 1 line

rename 'evolve' to 'garescorer' for clarity, to differentiate from perceptron or future alternative score-evolving systems
------------------------------------------------------------------------
r507901 | jm | 2007-02-15 11:40:13 +0000 (Thu, 15 Feb 2007) | 1 line

fork copy of runGA script which uses the perceptron, rather than the GA
------------------------------------------------------------------------
r507900 | jm | 2007-02-15 11:39:50 +0000 (Thu, 15 Feb 2007) | 1 line

reinstate GA evolver code from r6318, due to issues with perceptron
------------------------------------------------------------------------
r507897 | jm | 2007-02-15 11:36:38 +0000 (Thu, 15 Feb 2007) | 1 line

reinstate GA evolver code from r6318, due to issues with perceptron
------------------------------------------------------------------------
r507884 | jm | 2007-02-15 10:51:03 +0000 (Thu, 15 Feb 2007) | 1 line

bug 5270: 3.2.0 rescoring.  this set of scores is for set 2
------------------------------------------------------------------------
r507856 | jm | 2007-02-15 08:50:04 +0000 (Thu, 15 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r507708 | jm | 2007-02-14 21:57:01 +0000 (Wed, 14 Feb 2007) | 1 line

stop zeroing scores; it seems to kill accuracy of the GA FP%/FN% computation compared to fp-fn-statistics. also, don't include T_ rules in the input files generated by logs-to-c. finally, support the LEARN_RATE var in validate-model
------------------------------------------------------------------------
r507674 | jm | 2007-02-14 20:09:41 +0000 (Wed, 14 Feb 2007) | 1 line

skip new '_scoreset' key where parse-rules-for-masses is used
------------------------------------------------------------------------
r507673 | jm | 2007-02-14 20:09:29 +0000 (Wed, 14 Feb 2007) | 1 line

skip new '_scoreset' key where parse-rules-for-masses is used
------------------------------------------------------------------------
r507645 | jm | 2007-02-14 18:04:44 +0000 (Wed, 14 Feb 2007) | 1 line

oops.  sorry Theo, my bad; fix die()s when running parse-rules-for-masses during nightly mass-check run
------------------------------------------------------------------------
r507521 | jm | 2007-02-14 13:06:37 +0000 (Wed, 14 Feb 2007) | 1 line

fix reported problem with VBounce plugin, caused by bug 5331; certain MIME structures are unparseable using Message::find_parts(), so just use the slower but more reliable full message rendering instead
------------------------------------------------------------------------
r507505 | jm | 2007-02-14 12:16:11 +0000 (Wed, 14 Feb 2007) | 1 line

bug 5328: always use an absolute path for the apache-spamd PidFile setting, thanks to Radoslaw Zielinski
------------------------------------------------------------------------
r507503 | jm | 2007-02-14 12:14:52 +0000 (Wed, 14 Feb 2007) | 1 line

bug 4329: support --cf 'config line' option in apache-spamd, thanks to Radoslaw Zielinski
------------------------------------------------------------------------
r507439 | jm | 2007-02-14 08:50:03 +0000 (Wed, 14 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r507306 | jm | 2007-02-13 23:46:02 +0000 (Tue, 13 Feb 2007) | 1 line

gratuitous paranoia; use a separate rules.pl file for each scoreset, and record the ruleset's scoreset in that file
------------------------------------------------------------------------
r507102 | felicity | 2007-02-13 17:05:27 +0000 (Tue, 13 Feb 2007) | 1 line

bug 5318: set a maximum internal length for URIs
------------------------------------------------------------------------
r506913 | jm | 2007-02-13 08:50:04 +0000 (Tue, 13 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r506604 | jm | 2007-02-12 19:44:11 +0000 (Mon, 12 Feb 2007) | 1 line

better scores for scoreset 1
------------------------------------------------------------------------
r506581 | jm | 2007-02-12 19:05:34 +0000 (Mon, 12 Feb 2007) | 1 line

more fixes for masses scripts; tenpass/split-log-into-buckets-cached needed to exit if the cached version was up to date; score-ranges-from-freqs should not mark 0-scored rules as immutable, unless they also had no hits, since the score could have been reset to 0 after the mass-check; and runGA could save disk by using ln instead of cp, and should save the freqs file used
------------------------------------------------------------------------
r506554 | jm | 2007-02-12 17:56:18 +0000 (Mon, 12 Feb 2007) | 1 line

turn off caching
------------------------------------------------------------------------
r506546 | jm | 2007-02-12 17:42:14 +0000 (Mon, 12 Feb 2007) | 1 line

tell us what is going on
------------------------------------------------------------------------
r506435 | jm | 2007-02-12 12:54:02 +0000 (Mon, 12 Feb 2007) | 1 line

ensure the gen-foo dir contains a copy of the full scores file
------------------------------------------------------------------------
r506376 | jm | 2007-02-12 08:50:03 +0000 (Mon, 12 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r506073 | jm | 2007-02-11 17:25:42 +0000 (Sun, 11 Feb 2007) | 1 line

improve caching
------------------------------------------------------------------------
r506071 | jm | 2007-02-11 17:18:36 +0000 (Sun, 11 Feb 2007) | 1 line

use tmp files
------------------------------------------------------------------------
r506070 | jm | 2007-02-11 17:14:35 +0000 (Sun, 11 Feb 2007) | 1 line

add new log-splitting script which caches the results
------------------------------------------------------------------------
r505940 | jm | 2007-02-11 12:42:42 +0000 (Sun, 11 Feb 2007) | 1 line

set 2 scores
------------------------------------------------------------------------
r505863 | jm | 2007-02-11 08:50:02 +0000 (Sun, 11 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r505660 | jm | 2007-02-10 08:50:02 +0000 (Sat, 10 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r505437 | jm | 2007-02-09 19:29:56 +0000 (Fri, 09 Feb 2007) | 1 line

scores for set 3.  these may need tuning
------------------------------------------------------------------------
r505327 | jm | 2007-02-09 15:36:36 +0000 (Fri, 09 Feb 2007) | 1 line

oops, checked into the wrong place before.  fix; RCVD_IN_WHOIS_HIJACKED should be a mutable score
------------------------------------------------------------------------
r505216 | jm | 2007-02-09 08:50:05 +0000 (Fri, 09 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r505029 | jm | 2007-02-08 20:34:18 +0000 (Thu, 08 Feb 2007) | 1 line

always ignore AWL in perceptron
------------------------------------------------------------------------
r505000 | jm | 2007-02-08 18:47:21 +0000 (Thu, 08 Feb 2007) | 1 line

correct scores for URIBL_RED and URIBL_GREY; neither should be mutable, and scores should be lower going by current contents of http://www.uribl.com/
------------------------------------------------------------------------
r504994 | jm | 2007-02-08 18:29:17 +0000 (Thu, 08 Feb 2007) | 1 line

masses: ensure that T_ rules are clamped to a score of 0.01 for perceptron runs, since they're only for testing
------------------------------------------------------------------------
r504983 | jm | 2007-02-08 18:01:15 +0000 (Thu, 08 Feb 2007) | 1 line

comment now-obsolete 'ignored rule test got a hit in file' warning in masses
------------------------------------------------------------------------
r504908 | jm | 2007-02-08 14:27:55 +0000 (Thu, 08 Feb 2007) | 1 line

bug 5285: reuse NJABL_DUL Dynablock hits as input for RCVD_IN_PBL during the perceptron run
------------------------------------------------------------------------
r504893 | jm | 2007-02-08 13:46:22 +0000 (Thu, 08 Feb 2007) | 1 line

bug 5271: more ImageInfo integration; update CREDITS to note that it was contributed by Dallas E. Engelken (thanks Dallas); add loadplugin line to MANIFEST; and comment out the rules that didn't reach quality levels in the ruleqa system (were still sandbox rules)
------------------------------------------------------------------------
r504890 | jm | 2007-02-08 13:42:56 +0000 (Thu, 08 Feb 2007) | 1 line

bug 5271: more ImageInfo integration; update CREDITS to note that it was contributed by Dallas E. Engelken (thanks Dallas), add loadplugin line to MANIFEST
------------------------------------------------------------------------
r504888 | jm | 2007-02-08 13:39:33 +0000 (Thu, 08 Feb 2007) | 1 line

bug 4271: move ImageInfo into 3.2.0 core ruleset
------------------------------------------------------------------------
r504823 | jm | 2007-02-08 08:50:02 +0000 (Thu, 08 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r504605 | felicity | 2007-02-07 16:18:09 +0000 (Wed, 07 Feb 2007) | 1 line

bug 5240: also disable auto_whitelist_factory in updates
------------------------------------------------------------------------
r504463 | jm | 2007-02-07 08:50:02 +0000 (Wed, 07 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r504039 | jm | 2007-02-06 08:50:04 +0000 (Tue, 06 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r503963 | felicity | 2007-02-06 02:45:08 +0000 (Tue, 06 Feb 2007) | 1 line

bug 5240: also disable bayes_store_module without --allowplugins
------------------------------------------------------------------------
r503590 | jm | 2007-02-05 08:50:04 +0000 (Mon, 05 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r503495 | jm | 2007-02-04 21:59:33 +0000 (Sun, 04 Feb 2007) | 1 line

bug 4576: handle mail.gmx.net-style qmail headers
------------------------------------------------------------------------
r503494 | jm | 2007-02-04 21:49:12 +0000 (Sun, 04 Feb 2007) | 1 line

rename rule-discovery script in MANIFEST.SKIP, too
------------------------------------------------------------------------
r503181 | jm | 2007-02-03 08:50:02 +0000 (Sat, 03 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r502688 | jm | 2007-02-02 18:32:48 +0000 (Fri, 02 Feb 2007) | 1 line

rename badly-named 'phrase-extract-in-log' script to be more consistent with its companion
------------------------------------------------------------------------
r502687 | jm | 2007-02-02 18:31:20 +0000 (Fri, 02 Feb 2007) | 1 line

reduce RAM usage in rule-seeker script; there's no need to track ham hits at all, just kill any potential rules as soon as a single ham is hit (and free up its memory)
------------------------------------------------------------------------
r502686 | jm | 2007-02-02 18:30:02 +0000 (Fri, 02 Feb 2007) | 1 line

sa-compile --list doesn't need write privs to /var/lib/spamassassin
------------------------------------------------------------------------
r502535 | jm | 2007-02-02 08:50:02 +0000 (Fri, 02 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r502161 | jm | 2007-02-01 08:50:05 +0000 (Thu, 01 Feb 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r502116 | felicity | 2007-02-01 04:15:39 +0000 (Thu, 01 Feb 2007) | 1 line

bug 5261: only try to match terminal size w/ regexp if variable is defined
------------------------------------------------------------------------
r501888 | jm | 2007-01-31 16:30:47 +0000 (Wed, 31 Jan 2007) | 1 line

oops.  scale to 0-100, not 0-1
------------------------------------------------------------------------
r501885 | jm | 2007-01-31 16:29:07 +0000 (Wed, 31 Jan 2007) | 1 line

add a percentage
------------------------------------------------------------------------
r501881 | jm | 2007-01-31 16:27:30 +0000 (Wed, 31 Jan 2007) | 1 line

a little bit clearer output
------------------------------------------------------------------------
r501877 | jm | 2007-01-31 16:17:26 +0000 (Wed, 31 Jan 2007) | 1 line

add a script to cut a log file up based on the age of the messages it describes
------------------------------------------------------------------------
r501866 | jm | 2007-01-31 15:55:31 +0000 (Wed, 31 Jan 2007) | 1 line

this should be checked in
------------------------------------------------------------------------
r501832 | jm | 2007-01-31 13:08:43 +0000 (Wed, 31 Jan 2007) | 1 line

add --ids switch to mboxget; just lists the ids, similar to awk '{print $3}'
------------------------------------------------------------------------
r501594 | jm | 2007-01-30 21:57:46 +0000 (Tue, 30 Jan 2007) | 1 line

use /tmpfs for temporary files on the zone, in nightly and preflight mass-checks
------------------------------------------------------------------------
r501592 | jm | 2007-01-30 21:55:45 +0000 (Tue, 30 Jan 2007) | 1 line

File::Spec was too paranoid; it ignores TMPDIR entirely if taint mode is active, hence we never used TMPDIR at all.  fix
------------------------------------------------------------------------
r501546 | jm | 2007-01-30 20:33:31 +0000 (Tue, 30 Jan 2007) | 1 line

split tmpfs stuff into its own init script
------------------------------------------------------------------------
r501545 | jm | 2007-01-30 20:31:39 +0000 (Tue, 30 Jan 2007) | 1 line

use buildbot scheduler to stagger mass-check startup times, to avoid peak load
------------------------------------------------------------------------
r501539 | jm | 2007-01-30 20:23:24 +0000 (Tue, 30 Jan 2007) | 1 line

makes more sense to just do the mkdir once
------------------------------------------------------------------------
r501537 | jm | 2007-01-30 20:21:22 +0000 (Tue, 30 Jan 2007) | 1 line

perhaps chmod 0 is a bit too much
------------------------------------------------------------------------
r501535 | jm | 2007-01-30 20:15:46 +0000 (Tue, 30 Jan 2007) | 1 line

reinstate wide use of /tmpfs, a memory-backed filesystem, to store the mass-check cache data.  This should help reduce I/O load on the zone
------------------------------------------------------------------------
r501519 | jm | 2007-01-30 18:57:55 +0000 (Tue, 30 Jan 2007) | 1 line

robots nein danke
------------------------------------------------------------------------
r501447 | jm | 2007-01-30 16:27:18 +0000 (Tue, 30 Jan 2007) | 1 line

add some files from /etc -- bits from /etc/passwd, and the contents of /etc/rsyncd.conf -- for safe keeping
------------------------------------------------------------------------
r501427 | jm | 2007-01-30 15:56:04 +0000 (Tue, 30 Jan 2007) | 1 line

replace use of /home with /export/home directly -- apparently it is better for zone I/O
------------------------------------------------------------------------
r501426 | jm | 2007-01-30 15:53:45 +0000 (Tue, 30 Jan 2007) | 1 line

replace use of /home with /export/home directly -- apparently it is better for zone I/O
------------------------------------------------------------------------
r501348 | jm | 2007-01-30 08:50:44 +0000 (Tue, 30 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r501246 | felicity | 2007-01-30 00:12:53 +0000 (Tue, 30 Jan 2007) | 1 line

mass-check in client mode should start by requesting a small amount of work and then adapt from there, not the opposite.
------------------------------------------------------------------------
r501231 | jm | 2007-01-29 23:27:38 +0000 (Mon, 29 Jan 2007) | 1 line

another place where Check is needed
------------------------------------------------------------------------
r501224 | jm | 2007-01-29 23:11:43 +0000 (Mon, 29 Jan 2007) | 1 line

another bit of code that wasn't loading Check
------------------------------------------------------------------------
r501219 | jm | 2007-01-29 23:01:29 +0000 (Mon, 29 Jan 2007) | 1 line

more efficient 'check_main'-implementation-required; change check_main API to return 1, and only if it returns undef (as it does when unimplemented), perform the have_plugin() call
------------------------------------------------------------------------
r501214 | jm | 2007-01-29 22:42:44 +0000 (Mon, 29 Jan 2007) | 1 line

oops.  abbreviated lint test run in mkrules doesn't load any .pre files, so (a) didn't do half of the linting and (b) died with the new check_main-implementor-required rule from bug 5311. fix
------------------------------------------------------------------------
r501210 | jm | 2007-01-29 22:39:30 +0000 (Mon, 29 Jan 2007) | 1 line

bug 5308: also list Mail::DKIM and Mail::DomainKeys version information in the --lint --debug 'diag:' output
------------------------------------------------------------------------
r501209 | jm | 2007-01-29 22:37:19 +0000 (Mon, 29 Jan 2007) | 1 line

remove redundant Mail::DKIM listing -- it was listed twice
------------------------------------------------------------------------
r501207 | jm | 2007-01-29 22:33:23 +0000 (Mon, 29 Jan 2007) | 1 line

prettify: sort the MANIFEST file
------------------------------------------------------------------------
r501206 | jm | 2007-01-29 22:32:31 +0000 (Mon, 29 Jan 2007) | 1 line

bug 5311: die() if no plugin implements 'check_main' and the check() API is called, otherwise it's reasonably easy to wind up with a non-scanning scanner.  also, add a test
------------------------------------------------------------------------
r501204 | jm | 2007-01-29 22:32:18 +0000 (Mon, 29 Jan 2007) | 1 line

bug 5311: die() if no plugin implements 'check_main' and the check() API is called, otherwise it's reasonably easy to wind up with a non-scanning scanner.  also, add a test
------------------------------------------------------------------------
r501198 | jm | 2007-01-29 22:15:46 +0000 (Mon, 29 Jan 2007) | 1 line

bug 5312: document Razor slowdown bug
------------------------------------------------------------------------
r501196 | jm | 2007-01-29 22:11:38 +0000 (Mon, 29 Jan 2007) | 1 line

check razor plugin with scores == 0, too
------------------------------------------------------------------------
r501075 | jm | 2007-01-29 15:03:20 +0000 (Mon, 29 Jan 2007) | 1 line

I lied
------------------------------------------------------------------------
r501073 | jm | 2007-01-29 14:56:29 +0000 (Mon, 29 Jan 2007) | 1 line

ok, really just one more test build
------------------------------------------------------------------------
r501072 | jm | 2007-01-29 14:54:23 +0000 (Mon, 29 Jan 2007) | 1 line

trigger just one more test build
------------------------------------------------------------------------
r501071 | jm | 2007-01-29 14:53:22 +0000 (Mon, 29 Jan 2007) | 1 line

yep, that worked
------------------------------------------------------------------------
r501070 | jm | 2007-01-29 14:51:00 +0000 (Mon, 29 Jan 2007) | 1 line

trigger a build
------------------------------------------------------------------------
r501069 | jm | 2007-01-29 14:46:33 +0000 (Mon, 29 Jan 2007) | 1 line

try to get builds triggering again
------------------------------------------------------------------------
r501067 | jm | 2007-01-29 14:42:08 +0000 (Mon, 29 Jan 2007) | 1 line

upgraded Buildbot on the zone to 0.7.5; these are the config file changes that were required due to its lack of decent backwards compatibility, grr
------------------------------------------------------------------------
r501060 | jm | 2007-01-29 14:22:54 +0000 (Mon, 29 Jan 2007) | 1 line

might as well include the release announcement in each tarball
------------------------------------------------------------------------
r500973 | jm | 2007-01-29 08:50:03 +0000 (Mon, 29 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r500504 | jm | 2007-01-27 08:50:03 +0000 (Sat, 27 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r500235 | jm | 2007-01-26 13:20:01 +0000 (Fri, 26 Jan 2007) | 1 line

add new Devel::SawAmpersand-based test, which detects use of the dollar-ampersand perlvar -- this slows down every regexp match performed in the perl interpreter afterwards, so is better avoided in SpamAssassin.  test is SVN-only and requires editing t/config to run
------------------------------------------------------------------------
r500184 | jm | 2007-01-26 08:50:03 +0000 (Fri, 26 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r500052 | dos | 2007-01-25 23:26:59 +0000 (Thu, 25 Jan 2007) | 1 line

bug 5305: add msa_networks to the list of config items with their own clone method
------------------------------------------------------------------------
r500015 | felicity | 2007-01-25 22:12:53 +0000 (Thu, 25 Jan 2007) | 3 lines

Add in my samailoffset script which can be used to retrieve messages from a
corpus, mostly for use with mass-check logs.

------------------------------------------------------------------------
r499778 | jm | 2007-01-25 13:03:52 +0000 (Thu, 25 Jan 2007) | 1 line

bug 5304: move documentation for whitelist_from, whitelist_from_rcvd, unwhitelist_from, def_whitelist_from_rcvd, whitelist_allows_relays, unwhitelist_from_rcvd, blacklist_from, unblacklist_from, whitelist_to, more_spam_to, all_spam_to, and blacklist_to, back to Conf.pm from Mail/SpamAssassin/Plugin/WLBLEval.pm -- since they are basic config settings, frequently used by endusers and documentation needs to be easily accessible.
------------------------------------------------------------------------
r499774 | jm | 2007-01-25 12:58:08 +0000 (Thu, 25 Jan 2007) | 1 line

bug 5295: add 'whitelist_auth', to whitelist addresses that send mail using sender-authorization systems like SPF, Domain Keys, and DKIM
------------------------------------------------------------------------
r499702 | jm | 2007-01-25 08:50:03 +0000 (Thu, 25 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r499691 | dos | 2007-01-25 07:22:38 +0000 (Thu, 25 Jan 2007) | 9 lines

- fix weak validation regexes in netset that caused
  "trusted_networks 10/8 !10/8" to be accepted as valid input
  (only complete dot-quads were being checked for duplication)

- redirect STDERR in t/trust_path.t when expecting netset to
  warn about bad trusted/internal/msa networks config; also cause the tests
  to fail if the expected warnings aren't triggered


------------------------------------------------------------------------
r499613 | dos | 2007-01-24 23:25:25 +0000 (Wed, 24 Jan 2007) | 36 lines

bug 5305: implement msa_networks for detecting MSAs and extending trust accordingly

	  If a host acts solely as an MSA (and not a combined MX/MSA and/or
	  intermediate relay) we can rely on it to take care of making sure
	  its clients pass some sort of auth check, and thus are trusted
	  (trusted in the sense of SAs trusted_networks).

	  Similar functionality exists now so long as the MSA included an
	  auth token in its Received header which is supported by SA.

	  msa_networks supports identifying clients of MSAs that don't include
	  any sort of visibile auth token, such as older versions of Postfix
	  and whatever it is that gmx.net is using (probably old Postfix).

	  Supporting MSAs without visible auth tokens (which includes new
	  versions of Postfix which has visible auth tokens disabled by
	  default) also satisfies the vocal minority who are super paranoid
	  (for some unknown reason) about others knowing that a client passed
	  some sort of auth check before relaying mail.


	  Usage notes:

	  If your MSA acts solely as an MSA, put the MSA in all three of
	  trusted_networks, internal_networks, msa_networks.

	  If your MSA is also acting as an MX server never, NEVER, include it
	  in msa_networks since you'll end up trusting everyone who submits
	  mail to the MX server.

	  If your MSA is also acting as an intermidiate relay that may
	  receive mail that was submitted to an MX server never, NEVER, include
	  it in msa_networks since you'll end up trusting everyone who submits
	  mail to the MX server.


------------------------------------------------------------------------
r499552 | jm | 2007-01-24 19:54:21 +0000 (Wed, 24 Jan 2007) | 1 line

don't need Crypt::OpenSSL::BigNum for this test
------------------------------------------------------------------------
r499388 | jm | 2007-01-24 13:00:50 +0000 (Wed, 24 Jan 2007) | 1 line

bug 5268: support single-digit hexadecimal numbers in the host part of URIs
------------------------------------------------------------------------
r499314 | jm | 2007-01-24 08:49:15 +0000 (Wed, 24 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r499154 | jm | 2007-01-23 22:07:14 +0000 (Tue, 23 Jan 2007) | 1 line

found some vbounce misses in traps; add rules
------------------------------------------------------------------------
r499101 | jm | 2007-01-23 19:16:04 +0000 (Tue, 23 Jan 2007) | 1 line

add NO_HEADERS_MESSAGE, rule to detect corrupt corpora
------------------------------------------------------------------------
r499099 | jm | 2007-01-23 19:14:30 +0000 (Tue, 23 Jan 2007) | 1 line

add the test that uses those two new test files
------------------------------------------------------------------------
r499097 | jm | 2007-01-23 18:42:57 +0000 (Tue, 23 Jan 2007) | 1 line

oops, forgot 2 new test files
------------------------------------------------------------------------
r499074 | maddoc | 2007-01-23 16:50:20 +0000 (Tue, 23 Jan 2007) | 1 line

Updated 3.2.0.txt
------------------------------------------------------------------------
r499012 | jm | 2007-01-23 13:08:29 +0000 (Tue, 23 Jan 2007) | 1 line

remove_spamassassin_markup() / spamassassin -d was broken with CR-LF line endings; it replaced them with LF.  fix, and add test case to strip2.t to prevent future regression.  Also, add a test case for markup (and removal) on a message with no body
------------------------------------------------------------------------
r499009 | jm | 2007-01-23 12:50:44 +0000 (Tue, 23 Jan 2007) | 1 line

bug 5250: previous fix didn't deal with messages with no header/body separator; also, this way is more efficient, by pushing the header-line-ending encoding nearer to point of insertion in the rewrite_report_safe() and rewrite_no_report_safe() methods
------------------------------------------------------------------------
r499007 | jm | 2007-01-23 12:48:34 +0000 (Tue, 23 Jan 2007) | 1 line

File::Compare actually *creates* nonexistent files, so some error conditions causing strip2.t test failure were masked in a very confusing way.  fix
------------------------------------------------------------------------
r498959 | jm | 2007-01-23 08:49:15 +0000 (Tue, 23 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r498825 | jm | 2007-01-22 22:05:21 +0000 (Mon, 22 Jan 2007) | 1 line

bug 5250: in rewrite_mail(), messages would have all line endings rewritten -- even inside 8bit binary parts.  fix
------------------------------------------------------------------------
r498777 | jm | 2007-01-22 20:11:40 +0000 (Mon, 22 Jan 2007) | 1 line

add the 3.2.0 announcement text -- match the scheme we've been using in 3.1.x
------------------------------------------------------------------------
r498650 | jm | 2007-01-22 15:29:12 +0000 (Mon, 22 Jan 2007) | 1 line

bug 5300: DKIM signature verification would fail to verify if a message contained DOS-style line endings.  fix from Jason Long <jlong at messiah.edu>
------------------------------------------------------------------------
r498626 | jm | 2007-01-22 14:42:25 +0000 (Mon, 22 Jan 2007) | 1 line

bug 5298: Mail::DKIM 0.18 apparently no longer needs Crypt::OpenSSL::Bignum, so remove it from the requires list in our plugin and let Mail::DKIM sort it out internally
------------------------------------------------------------------------
r498602 | jm | 2007-01-22 13:05:45 +0000 (Mon, 22 Jan 2007) | 1 line

no need to distribute those hack scripts
------------------------------------------------------------------------
r498601 | jm | 2007-01-22 13:04:40 +0000 (Mon, 22 Jan 2007) | 1 line

add a hack-in-progress to SVN; seek-phrases-in-corpus. Given a small corpus of spam, and a corpus of ham, seek out common phrases that appear only in the spam and would make good phrase rules, using a (simple but relatively memory-efficient) BLAST-style algorithm.
------------------------------------------------------------------------
r498595 | jm | 2007-01-22 12:31:32 +0000 (Mon, 22 Jan 2007) | 1 line

bug 4770: re-apply Mail::SpamAssassin::Plugin::ASN patch, now that licensing is sorted.  exposes ASN data as a Bayes token and the _ASNCIDR_ and _ASN_ header-rewriting tags.  thanks to Matthias Leisi <matthias /at/ leisi.net>
------------------------------------------------------------------------
r498559 | jm | 2007-01-22 08:49:16 +0000 (Mon, 22 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r498256 | jm | 2007-01-21 08:49:16 +0000 (Sun, 21 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r498092 | jm | 2007-01-20 08:49:17 +0000 (Sat, 20 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r497910 | felicity | 2007-01-19 19:12:52 +0000 (Fri, 19 Jan 2007) | 1 line

fix email address for the pmc tfor people to request submission accounts
------------------------------------------------------------------------
r497857 | jm | 2007-01-19 16:10:58 +0000 (Fri, 19 Jan 2007) | 1 line

um, try that again
------------------------------------------------------------------------
r497855 | jm | 2007-01-19 16:03:09 +0000 (Fri, 19 Jan 2007) | 1 line

change ruleqa default to show last-night's rules, not the most recent preflight mass-check
------------------------------------------------------------------------
r497852 | jm | 2007-01-19 15:55:59 +0000 (Fri, 19 Jan 2007) | 1 line

move 20_dynrdns.cf from sandbox into main ruleset, so RDNS_DYNAMIC and RDNS_NONE are core rules; lock their scores to an informational 0.1, however, since they still have a high ham hit-rate alone
------------------------------------------------------------------------
r497851 | jm | 2007-01-19 15:53:19 +0000 (Fri, 19 Jan 2007) | 1 line

update some build procedure notes for 3.2.0
------------------------------------------------------------------------
r497816 | jm | 2007-01-19 13:53:45 +0000 (Fri, 19 Jan 2007) | 1 line

add 'mass_check_skip_message' plugin hook to mass-check, allowing plugins to cause mass-check to ignore some messages; add 'GrepRenderedBody.pm' mass-check plugin, which allows callers to 'grep' messages for mass-check by regexps matched against the rendered message body
------------------------------------------------------------------------
r497792 | jm | 2007-01-19 12:41:35 +0000 (Fri, 19 Jan 2007) | 1 line

public APIs for accessing the decoded or rendered body arrays are undocumented; fix this.  TODO: should we keep those PerMsgStatus APIs private, and document the ones on Message.pm instead?
------------------------------------------------------------------------
r497791 | jm | 2007-01-19 12:29:25 +0000 (Fri, 19 Jan 2007) | 1 line

hmm.  we'd forgotten to document the 'have_shortcircuited' plugin hook; I wonder if we can hook up some greppy magic in the test suite to catch this kind of omission in future
------------------------------------------------------------------------
r497743 | jm | 2007-01-19 08:49:17 +0000 (Fri, 19 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r497475 | jm | 2007-01-18 16:04:59 +0000 (Thu, 18 Jan 2007) | 1 line

preparing to release 3.2.0-pre1 PRERELEASE
------------------------------------------------------------------------
r497472 | jm | 2007-01-18 15:59:39 +0000 (Thu, 18 Jan 2007) | 1 line

preparing to release 3.2.0-pre1 PRERELEASE
------------------------------------------------------------------------
r497461 | jm | 2007-01-18 15:39:42 +0000 (Thu, 18 Jan 2007) | 1 line

add a little explanatory comment for developers
------------------------------------------------------------------------
r497460 | jm | 2007-01-18 15:38:38 +0000 (Thu, 18 Jan 2007) | 1 line

bug 5172: more woes with stupid EAI_FOO error codes from getaddrinfo(); it turns out that not only does Cygwin omit some of them, so does FreeBSD 6.1p10.  Work around by using the magic of autoconf for all of: EAI_ADDRFAMILY, EAI_SYSTEM, EAI_NODATA.
------------------------------------------------------------------------
r497409 | jm | 2007-01-18 11:39:05 +0000 (Thu, 18 Jan 2007) | 1 line

no need to keep the temp checkout around
------------------------------------------------------------------------
r497356 | jm | 2007-01-18 08:49:17 +0000 (Thu, 18 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r497150 | jm | 2007-01-17 20:15:32 +0000 (Wed, 17 Jan 2007) | 1 line

stupid zone SVN is only v1.2; can't use svn info on a URL
------------------------------------------------------------------------
r497147 | jm | 2007-01-17 20:07:26 +0000 (Wed, 17 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r497145 | jm | 2007-01-17 20:03:06 +0000 (Wed, 17 Jan 2007) | 1 line

bug 5269: use tagging to ensure that different branches won't build updates with the same SVN revision number
------------------------------------------------------------------------
r497066 | jm | 2007-01-17 16:29:07 +0000 (Wed, 17 Jan 2007) | 1 line

oops, more RCVD_IN_NJABL_DUL work; remove descriptions from i18n files, and delete its scores.  Instead, copy its scores for RCVD_IN_PBL
------------------------------------------------------------------------
r497045 | jm | 2007-01-17 15:27:02 +0000 (Wed, 17 Jan 2007) | 1 line

update test case to use --headers instead of -A (thx Michael)
------------------------------------------------------------------------
r497041 | jm | 2007-01-17 15:09:18 +0000 (Wed, 17 Jan 2007) | 1 line

bug 4728: fix -notfirsthop DNSBL lookup rules to use -lastexternal instead, since it reduces FPs and is easier for legit senders to avoid
------------------------------------------------------------------------
r497038 | jm | 2007-01-17 15:05:23 +0000 (Wed, 17 Jan 2007) | 1 line

bug 5187: move RCVD_IN_PBL to main ruleset now that it's been released; bug 5285: retire RCVD_IN_NJABL_DUL in favour of RCVD_IN_PBL
------------------------------------------------------------------------
r497030 | jm | 2007-01-17 14:52:17 +0000 (Wed, 17 Jan 2007) | 1 line

bug 5296: add spamc --headers switch, which scans messages and transmits back just rewritten headers.  This is more bandwidth-efficient than the normal mode of scanning, but only works for 'report_safe 0'.  Bump spamc/spamd's protocol version to 1.4, to reflect new HEADERS verb.   update spamd/PROTOCOL for current protocol.  add 'sa-compile' to the SVN ignored-files list.
------------------------------------------------------------------------
r496964 | jm | 2007-01-17 08:49:18 +0000 (Wed, 17 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r496891 | jm | 2007-01-16 23:22:11 +0000 (Tue, 16 Jan 2007) | 1 line

remove obsolete spamd/README sections regarding libspamc and sslspamc
------------------------------------------------------------------------
r496621 | jm | 2007-01-16 08:49:18 +0000 (Tue, 16 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r496515 | jm | 2007-01-15 22:11:43 +0000 (Mon, 15 Jan 2007) | 1 line

bug 4770: revert; need to sort out copyright and CLA first
------------------------------------------------------------------------
r496501 | jm | 2007-01-15 21:32:42 +0000 (Mon, 15 Jan 2007) | 1 line

bug 4770: add ASN.pm plugin, contributed by Matthias Leisi <matthias at leisi.net>
------------------------------------------------------------------------
r496415 | jm | 2007-01-15 17:36:38 +0000 (Mon, 15 Jan 2007) | 1 line

fail early in sa-compile if there are not enough privileges to install the final compiled rules; add --sudo switch to allow use of 'sudo' to escalate privileges for the final writing step
------------------------------------------------------------------------
r496355 | jm | 2007-01-15 14:55:54 +0000 (Mon, 15 Jan 2007) | 1 line

we don't need to see text from the compilation msg
------------------------------------------------------------------------
r496308 | jm | 2007-01-15 13:19:37 +0000 (Mon, 15 Jan 2007) | 1 line

bug 5054: update documentation to match post-bug-5054 situation with trusted_networks inference algorithm; the Scott Flury algo is no more, due to differing results with/without -L
------------------------------------------------------------------------
r496249 | jm | 2007-01-15 08:49:19 +0000 (Mon, 15 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r496086 | jm | 2007-01-14 14:57:11 +0000 (Sun, 14 Jan 2007) | 1 line

bug 4999: ensure spamd --auth-ident requires ident match User header in all situations
------------------------------------------------------------------------
r496085 | jm | 2007-01-14 14:36:05 +0000 (Sun, 14 Jan 2007) | 1 line

bug 5294: RCVD_IN_XBL should use -lastexternal, not -notfirsthop
------------------------------------------------------------------------
r496037 | jm | 2007-01-14 08:49:20 +0000 (Sun, 14 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r496030 | dos | 2007-01-14 04:40:46 +0000 (Sun, 14 Jan 2007) | 1 line

avoid one more unnecessary if structure in manual trust path code
------------------------------------------------------------------------
r495996 | dos | 2007-01-13 23:07:20 +0000 (Sat, 13 Jan 2007) | 1 line

refactor code that determines what relays are trusted/internal to eliminate redundant if structures
------------------------------------------------------------------------
r495967 | jm | 2007-01-13 20:38:25 +0000 (Sat, 13 Jan 2007) | 1 line

bug 4322: comment unused {redirect_num} code
------------------------------------------------------------------------
r495965 | jm | 2007-01-13 20:34:49 +0000 (Sat, 13 Jan 2007) | 1 line

think this is the fix for the failures on the zone
------------------------------------------------------------------------
r495852 | jm | 2007-01-13 08:49:20 +0000 (Sat, 13 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r495708 | jm | 2007-01-12 19:46:52 +0000 (Fri, 12 Jan 2007) | 1 line

skip this until I can figure out what causes it to fail on the zone with perl 5.6.1
------------------------------------------------------------------------
r495649 | jm | 2007-01-12 17:21:25 +0000 (Fri, 12 Jan 2007) | 1 line

bug 5283: Message::get_pristine_header() should produce tainted output, since it's a section of the raw, tainted, input message.  Add taint_var() API to Util.pm to support this.   also, t/tainted_msg.t was being skipped on too many platforms unnecessarily
------------------------------------------------------------------------
r495648 | jm | 2007-01-12 17:21:03 +0000 (Fri, 12 Jan 2007) | 1 line

efficiency optimisation in test suite; don't run several commands before starting each test, unless they're required (ie. it's a spamd test)
------------------------------------------------------------------------
r495637 | jm | 2007-01-12 16:53:30 +0000 (Fri, 12 Jan 2007) | 1 line

oops, C++-style comment. bad Justin.  also fix the test, which wasn't failing
------------------------------------------------------------------------
r495515 | jm | 2007-01-12 08:49:21 +0000 (Fri, 12 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r495332 | jm | 2007-01-11 18:51:12 +0000 (Thu, 11 Jan 2007) | 1 line

oops.  no need for 'use_awl' here whatsoever; it's invalid
------------------------------------------------------------------------
r495226 | jm | 2007-01-11 13:57:27 +0000 (Thu, 11 Jan 2007) | 1 line

ensure mkrules compiler doesn't try using Bayes rules, since they're slow
------------------------------------------------------------------------
r495220 | jm | 2007-01-11 13:50:42 +0000 (Thu, 11 Jan 2007) | 1 line

bug 5278: remove 6-month limit imposed via the __UNUSABLE_MSGID rule on FORGED_MUA_* rules which use Message-ID header
------------------------------------------------------------------------
r495158 | jm | 2007-01-11 08:49:21 +0000 (Thu, 11 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r494934 | felicity | 2007-01-10 19:06:47 +0000 (Wed, 10 Jan 2007) | 1 line

bug 5289: if ignoring a message during learning, set the return code such that we didn't learn from it, not that there was an error during learning which could cause the caller to abort, etc.
------------------------------------------------------------------------
r494873 | jm | 2007-01-10 16:17:44 +0000 (Wed, 10 Jan 2007) | 1 line

bug 5290: remove 81 more obsolete rules
------------------------------------------------------------------------
r494823 | jm | 2007-01-10 14:28:01 +0000 (Wed, 10 Jan 2007) | 1 line

ensure rules always start off with mutable scores in each file
------------------------------------------------------------------------
r494820 | jm | 2007-01-10 14:10:21 +0000 (Wed, 10 Jan 2007) | 1 line

ignore test rules in perceptron runs
------------------------------------------------------------------------
r494819 | jm | 2007-01-10 14:08:08 +0000 (Wed, 10 Jan 2007) | 1 line

port over the fast log-parsing code from hit-frequencies to logs-to-c, which also correctly deals with the (very uncommon) case of no rule hits whatsoever
------------------------------------------------------------------------
r494768 | jm | 2007-01-10 08:49:22 +0000 (Wed, 10 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r494753 | felicity | 2007-01-10 07:25:18 +0000 (Wed, 10 Jan 2007) | 1 line

bug 5284: drop MIME_BOUND_NEXTPART due to bad performance
------------------------------------------------------------------------
r494733 | felicity | 2007-01-10 06:22:18 +0000 (Wed, 10 Jan 2007) | 1 line

bug 5288: switch ArchiveIterator to using the three-argument version of open() since otherwise leading and trailing whitespace is trimmed
------------------------------------------------------------------------
r494664 | jm | 2007-01-10 00:28:17 +0000 (Wed, 10 Jan 2007) | 1 line

use PATH perl rather than /usr/bin/perl, to work on solaris
------------------------------------------------------------------------
r494621 | jm | 2007-01-09 22:15:41 +0000 (Tue, 09 Jan 2007) | 1 line

solaris doesn't have 'seq'
------------------------------------------------------------------------
r494620 | jm | 2007-01-09 22:15:17 +0000 (Tue, 09 Jan 2007) | 1 line

shortcut syntax in compare-models; allow dir names to be specified, too, for brevity
------------------------------------------------------------------------
r494616 | jm | 2007-01-09 22:07:55 +0000 (Tue, 09 Jan 2007) | 1 line

add note for extra-warning compilation, and fix a bug found by that commandline regarding ISO C90 compatibility of the C zlib code
------------------------------------------------------------------------
r494613 | jm | 2007-01-09 21:57:52 +0000 (Tue, 09 Jan 2007) | 1 line

fix syntax errors in rule file; unclosed <gen:mutable> block allowed many rules to mutate; no need for BAYES scores to be non-zero in non-Bayes scoresets; DKIM_POLICY_SIGNSOME allowed to hit with tiny score
------------------------------------------------------------------------
r494566 | felicity | 2007-01-09 20:46:05 +0000 (Tue, 09 Jan 2007) | 1 line

update the comment in AWL wrt what tests are ignored for the score
------------------------------------------------------------------------
r494481 | jm | 2007-01-09 16:46:01 +0000 (Tue, 09 Jan 2007) | 1 line

bug 4471: add --connect-retries and --retry-sleep switches to spamc, thanks to John Madden <maddenj+spamassassin at skynet.ie>
------------------------------------------------------------------------
r494446 | jm | 2007-01-09 16:05:08 +0000 (Tue, 09 Jan 2007) | 1 line

bug 5286: fix spamc build failure when zlib is not available, fix from John Madden <maddenj+spamassassin at skynet.ie>
------------------------------------------------------------------------
r494435 | jm | 2007-01-09 15:32:38 +0000 (Tue, 09 Jan 2007) | 1 line

bug 5112: the default Debian configuration for Exim does not record a HELO string if the HELO matched reverse DNS; take this into account
------------------------------------------------------------------------
r494370 | jm | 2007-01-09 10:52:00 +0000 (Tue, 09 Jan 2007) | 1 line

bug 4687: exempt messages in 'big5' charset from MIME_BASE64_TEXT rule
------------------------------------------------------------------------
r494349 | jm | 2007-01-09 09:37:50 +0000 (Tue, 09 Jan 2007) | 1 line

no need to run the test if we're going to skip it
------------------------------------------------------------------------
r494342 | jm | 2007-01-09 08:49:24 +0000 (Tue, 09 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r494216 | jm | 2007-01-08 22:02:43 +0000 (Mon, 08 Jan 2007) | 1 line

hmm, workaround test failures, presumably from buildbot not using taint mode
------------------------------------------------------------------------
r494187 | jm | 2007-01-08 20:27:03 +0000 (Mon, 08 Jan 2007) | 1 line

add test to ensure that most of the Message APIs preserve the tainted status of the message data
------------------------------------------------------------------------
r494183 | jm | 2007-01-08 20:02:49 +0000 (Mon, 08 Jan 2007) | 1 line

fix test name
------------------------------------------------------------------------
r494182 | jm | 2007-01-08 20:02:32 +0000 (Mon, 08 Jan 2007) | 1 line

I don't think we actually have a test for this yet, which is an oversight
------------------------------------------------------------------------
r494106 | jm | 2007-01-08 16:00:03 +0000 (Mon, 08 Jan 2007) | 1 line

document the new Compress protocol header; clean up protocol doc a bit more, clarifying newlines, headers, and optional stuff
------------------------------------------------------------------------
r494093 | jm | 2007-01-08 15:33:53 +0000 (Mon, 08 Jan 2007) | 1 line

add spamc '-z' switch, which compresses mails to be scanned using zlib compression; very useful for long-distance use of spamc over the internet.  also add test script, INSTALL doc, and documentation.  backport from r481882 on 'jm_spamc_hacks' branch
------------------------------------------------------------------------
r493989 | jm | 2007-01-08 08:49:24 +0000 (Mon, 08 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r493785 | jm | 2007-01-07 17:59:18 +0000 (Sun, 07 Jan 2007) | 1 line

also don't turn N% into links in overlap output
------------------------------------------------------------------------
r493721 | jm | 2007-01-07 13:41:09 +0000 (Sun, 07 Jan 2007) | 1 line

bug 5278: measure real FP rates on rules using __UNUSABLE_MSGID
------------------------------------------------------------------------
r493708 | jm | 2007-01-07 12:38:10 +0000 (Sun, 07 Jan 2007) | 1 line

bug 5282: document that PERL5LIB is ignored, due to a feature in taint checking
------------------------------------------------------------------------
r493683 | jm | 2007-01-07 08:49:24 +0000 (Sun, 07 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r493435 | jm | 2007-01-06 08:49:25 +0000 (Sat, 06 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r493225 | dos | 2007-01-05 23:02:54 +0000 (Fri, 05 Jan 2007) | 1 line

ln -s /dev/amazon /dev/dos
------------------------------------------------------------------------
r493217 | dos | 2007-01-05 22:41:27 +0000 (Fri, 05 Jan 2007) | 29 lines

bug 5259: always trust 127/8 no matter how trusted/internal networks are
          configured, or even if they aren't configured

	  no provision for removing 127/8 from trusted/internal networks is
          provided since there is no reason why they cannot be trusted since
          you must trust the machine SA is running on (which could add local
          hops) and you'd have to first trust another relay that has it's own
          local hops before local hops on that other machine were considered
          trusted/internal

          if you think there's a reason to not consider 127/8 trusted/internal
          (even if it's mail submitted from a web server on the same machine)
          you're almost certainly misunderstading the meaning of
          trusted/internal networks


bug 5235: when trusted_networks are inferred (not manually configured) infer
          the same settings for internal_networks as we would for
          trusted_networks

          this makes the inferral method consistent with how we use the same
	  settings for both trusted and internal networks when only one of
          them are set manually

          this resolves a number of FP issues with tests, such as SPF and a
          number of DNSBL tests, that need to know where the handoff is
          between the remote and local domains


------------------------------------------------------------------------
r493195 | felicity | 2007-01-05 21:10:09 +0000 (Fri, 05 Jan 2007) | 1 line

add in t/util_wrap.t to MANIFEST
------------------------------------------------------------------------
r493191 | felicity | 2007-01-05 21:03:08 +0000 (Fri, 05 Jan 2007) | 1 line

bug 5279: remove excess continuation line in Makefile.PL
------------------------------------------------------------------------
r493035 | jm | 2007-01-05 13:59:09 +0000 (Fri, 05 Jan 2007) | 1 line

add some kind of rudimentary doco to Dumpmem
------------------------------------------------------------------------
r493029 | jm | 2007-01-05 13:26:39 +0000 (Fri, 05 Jan 2007) | 1 line

bug 5273: add _LASTEXTERNALIP_, _LASTEXTERNALRDNS_, _LASTEXTERNALHELO_ markup tags, to allow adding the connecting IP/HELO as markup to message headers
------------------------------------------------------------------------
r492944 | jm | 2007-01-05 08:49:25 +0000 (Fri, 05 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r492784 | jm | 2007-01-04 22:34:28 +0000 (Thu, 04 Jan 2007) | 1 line

bug 5259: revert vetoed change which made 127/8 always trusted and always internal
------------------------------------------------------------------------
r492719 | felicity | 2007-01-04 20:24:32 +0000 (Thu, 04 Jan 2007) | 1 line

bug 5051: deal with empty message/* parts appropriately
------------------------------------------------------------------------
r492522 | jm | 2007-01-04 11:19:03 +0000 (Thu, 04 Jan 2007) | 1 line

add test cases for Util::wrap() method
------------------------------------------------------------------------
r492459 | jm | 2007-01-04 08:49:26 +0000 (Thu, 04 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r492375 | felicity | 2007-01-04 01:00:57 +0000 (Thu, 04 Jan 2007) | 1 line

bug 5272: the new Util::wrap() function didn't properly allow the first entry on the line to overflow if overflow == 0, causing an infinite (or until OOM) loop. :(
------------------------------------------------------------------------
r492202 | jm | 2007-01-03 16:38:50 +0000 (Wed, 03 Jan 2007) | 1 line

bug 4820: fix get_and_create_userstate_dir() to create the .spamassassin directory in the correct location, if virtual users are being used (thanks to <support at math.uni-bonn.de>)
------------------------------------------------------------------------
r492076 | jm | 2007-01-03 08:49:26 +0000 (Wed, 03 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r491999 | felicity | 2007-01-03 01:08:05 +0000 (Wed, 03 Jan 2007) | 1 line

bug 5269: previous change broke sa-update, so reverting out
------------------------------------------------------------------------
r491914 | jm | 2007-01-02 19:58:41 +0000 (Tue, 02 Jan 2007) | 1 line

optimise parse_received_line().  don't look for IP_ADDRESS more often than necessary, as it's very slow; avoid .* usage in a few spots; and separate out matches for long static strings that appear near the end of REs with lots of variable-width matches beforehand, since that can be slow too.  result is a profile drop from 0.518s to 0.474s
------------------------------------------------------------------------
r491862 | jm | 2007-01-02 17:32:07 +0000 (Tue, 02 Jan 2007) | 1 line

removing over-noisy debugs about ruleset source freeing
------------------------------------------------------------------------
r491859 | jm | 2007-01-02 17:29:40 +0000 (Tue, 02 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r491858 | jm | 2007-01-02 17:26:34 +0000 (Tue, 02 Jan 2007) | 1 line

bug 5629: scope v3.2.0 updates with a 'magic' string so they won't collide with 3.1.x updates (or any future 3.3.x, 3.4.x, etc line)
------------------------------------------------------------------------
r491762 | jm | 2007-01-02 08:49:27 +0000 (Tue, 02 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r491726 | sidney | 2007-01-02 00:27:20 +0000 (Tue, 02 Jan 2007) | 1 line

bug 5254: allow for syswrite doing partial writes, fixing a problem with using SSL on some platforms
------------------------------------------------------------------------
r491725 | jm | 2007-01-02 00:26:40 +0000 (Tue, 02 Jan 2007) | 1 line

more efficient eval-glue implementation; the glue methods are global, so use a global hash to track them
------------------------------------------------------------------------
r491718 | sidney | 2007-01-02 00:16:58 +0000 (Tue, 02 Jan 2007) | 1 line

bug 5266: patch to treat command line argument space in a read-only fashion
------------------------------------------------------------------------
r491679 | sidney | 2007-01-01 23:09:18 +0000 (Mon, 01 Jan 2007) | 1 line

update perldoc and man pages for new ssl-version options in spamc and spamd
------------------------------------------------------------------------
r491666 | jm | 2007-01-01 22:40:53 +0000 (Mon, 01 Jan 2007) | 1 line

bug 5259: a bit I missed
------------------------------------------------------------------------
r491665 | jm | 2007-01-01 22:40:10 +0000 (Mon, 01 Jan 2007) | 1 line

bug 5259: always implicitly trust 127/8 and consider it internal; add test cases; support its removal too; and document it
------------------------------------------------------------------------
r491593 | sidney | 2007-01-01 15:48:22 +0000 (Mon, 01 Jan 2007) | 1 line

correct typo in MANIFEST
------------------------------------------------------------------------
r491592 | sidney | 2007-01-01 15:41:34 +0000 (Mon, 01 Jan 2007) | 1 line

bug 5265: Add SSL protocol options to spamc and spamd and make the default be a better choice for working on various platforms
------------------------------------------------------------------------
r491585 | sidney | 2007-01-01 15:18:15 +0000 (Mon, 01 Jan 2007) | 1 line

bug 5263: fix bugs when a longopt with no arguments is last on the command line
------------------------------------------------------------------------
r491546 | jm | 2007-01-01 08:49:27 +0000 (Mon, 01 Jan 2007) | 1 line

promotions validated
------------------------------------------------------------------------
r491519 | felicity | 2007-01-01 01:23:09 +0000 (Mon, 01 Jan 2007) | 1 line

promote BASE64_LENGTH_* rules which have good results from the nightly runs
------------------------------------------------------------------------
r491472 | jm | 2006-12-31 20:05:17 +0000 (Sun, 31 Dec 2006) | 1 line

slight speedup; 0.349s vs 0.061s in M::SA::PerMsgStatus::register_plugin_eval_glue
------------------------------------------------------------------------
r491398 | jm | 2006-12-31 08:49:27 +0000 (Sun, 31 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r491367 | felicity | 2006-12-31 02:29:53 +0000 (Sun, 31 Dec 2006) | 1 line

bug 5009: add in whitespace for both opening and closing whitespace tags
------------------------------------------------------------------------
r491332 | felicity | 2006-12-30 22:14:39 +0000 (Sat, 30 Dec 2006) | 1 line

change exists to defined for conf->envelope_sender_header since it always exists since undef is the default
------------------------------------------------------------------------
r491327 | felicity | 2006-12-30 21:50:28 +0000 (Sat, 30 Dec 2006) | 1 line

bug 5249: mail could have 8-bit data, need to have ArchiveIterator do binmode on some platforms
------------------------------------------------------------------------
r491319 | felicity | 2006-12-30 21:30:21 +0000 (Sat, 30 Dec 2006) | 1 line

bug 4747: better handle EnvelopeFrom determination
------------------------------------------------------------------------
r491312 | felicity | 2006-12-30 21:11:22 +0000 (Sat, 30 Dec 2006) | 1 line

bug 4747: use EnvelopeFrom:addr when we want the address and not the full header
------------------------------------------------------------------------
r491309 | felicity | 2006-12-30 20:50:33 +0000 (Sat, 30 Dec 2006) | 1 line

bug 5003: make the third-party modules used by sa-update required
------------------------------------------------------------------------
r491304 | felicity | 2006-12-30 20:21:18 +0000 (Sat, 30 Dec 2006) | 1 line

bug 5256: if we short-circuit, don't do auto-learning
------------------------------------------------------------------------
r491303 | felicity | 2006-12-30 20:13:22 +0000 (Sat, 30 Dec 2006) | 1 line

when paths are specified in a config (such as 'include ~/foo'), things like '~' aren't properly handled.  call sed_path to clean that up.  also, a debug statement was improperly set to the plugin channel instead of config.
------------------------------------------------------------------------
r491203 | felicity | 2006-12-30 10:00:08 +0000 (Sat, 30 Dec 2006) | 1 line

optimize the bayes stop-list via Regexp::Trie, add a pointer to the wiki page which has the word list, etc.
------------------------------------------------------------------------
r491195 | jm | 2006-12-30 08:49:28 +0000 (Sat, 30 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r491194 | felicity | 2006-12-30 08:39:57 +0000 (Sat, 30 Dec 2006) | 1 line

in mass-check when displaying the commandline, quote any arguments which have 'questionable' characters such as spaces, pipes, etc.
------------------------------------------------------------------------
r491191 | felicity | 2006-12-30 08:11:21 +0000 (Sat, 30 Dec 2006) | 1 line

mass-check's server mode should check for targets and allow -f, same as normal mode
------------------------------------------------------------------------
r490957 | jm | 2006-12-29 08:49:28 +0000 (Fri, 29 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r490767 | jm | 2006-12-28 17:58:49 +0000 (Thu, 28 Dec 2006) | 1 line

recognise 'last-night' and 'today' special daterev tokens
------------------------------------------------------------------------
r490760 | jm | 2006-12-28 16:44:58 +0000 (Thu, 28 Dec 2006) | 1 line

bug 5255: SIGHUP handler couldn't restart spamd if it had been started using an odd commandline (possibly only on solaris)
------------------------------------------------------------------------
r490743 | jm | 2006-12-28 15:46:19 +0000 (Thu, 28 Dec 2006) | 1 line

silence debugs; block bayes use in re_base_extraction.t
------------------------------------------------------------------------
r490720 | jm | 2006-12-28 13:39:16 +0000 (Thu, 28 Dec 2006) | 1 line

exclude mails with X-Cron-Env headers from the Auto-Submitted anti-bounce rule
------------------------------------------------------------------------
r490719 | jm | 2006-12-28 13:35:58 +0000 (Thu, 28 Dec 2006) | 1 line

ensure we don't keep rechecking IS_DNS_AVAILABLE and LAST_DNS_CHECK if DNS is unavailable from -L or module version issues
------------------------------------------------------------------------
r490713 | jm | 2006-12-28 12:54:53 +0000 (Thu, 28 Dec 2006) | 1 line

rework overlap output format again, to be more usable; this time, report RULE1-in-RULE2 overlap stats on the same line as the opposite (RULE2-in-RULE1), since that's the best way that makes sense for users
------------------------------------------------------------------------
r490679 | jm | 2006-12-28 08:49:29 +0000 (Thu, 28 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r490670 | felicity | 2006-12-28 06:59:55 +0000 (Thu, 28 Dec 2006) | 1 line

bug 5056: remove Text::Wrap and replace with out own version
------------------------------------------------------------------------
r490537 | jm | 2006-12-27 16:49:54 +0000 (Wed, 27 Dec 2006) | 1 line

oops, makes more sense with the short words included
------------------------------------------------------------------------
r490516 | jm | 2006-12-27 15:34:04 +0000 (Wed, 27 Dec 2006) | 1 line

fix overlaps display to not href-ify commentary
------------------------------------------------------------------------
r490465 | jm | 2006-12-27 08:49:29 +0000 (Wed, 27 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r490271 | jm | 2006-12-26 08:49:31 +0000 (Tue, 26 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r490265 | felicity | 2006-12-26 05:41:19 +0000 (Tue, 26 Dec 2006) | 1 line

replace TVD_STOCK1 with a better performing eval version
------------------------------------------------------------------------
r490264 | felicity | 2006-12-26 05:30:50 +0000 (Tue, 26 Dec 2006) | 1 line

bug 4459: update RCVD_ILLEGAL_IP to catch more illegal IPs, and allow 127.0.0.* since they appear in ham a bit
------------------------------------------------------------------------
r490117 | jm | 2006-12-25 08:49:31 +0000 (Mon, 25 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r490114 | felicity | 2006-12-25 07:47:58 +0000 (Mon, 25 Dec 2006) | 1 line

bug 3466: do the bayes expiry after results have been passed back to the client from spamd, helps avoid client timeouts, etc.
------------------------------------------------------------------------
r490006 | jm | 2006-12-24 08:49:31 +0000 (Sun, 24 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r489975 | felicity | 2006-12-24 04:08:09 +0000 (Sun, 24 Dec 2006) | 1 line

fix docs for cs_timeout, also allow noprogress as commandline option for mass-check
------------------------------------------------------------------------
r489869 | jm | 2006-12-23 08:49:31 +0000 (Sat, 23 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r489735 | jm | 2006-12-22 19:35:39 +0000 (Fri, 22 Dec 2006) | 1 line

'hit-frequencies -o' optimisation: both rules need at least one hit otherwise they can never overlap. this provides a 3x speedup
------------------------------------------------------------------------
r489722 | jm | 2006-12-22 18:50:12 +0000 (Fri, 22 Dec 2006) | 1 line

avoid undef warnings with -o
------------------------------------------------------------------------
r489701 | jm | 2006-12-22 17:31:09 +0000 (Fri, 22 Dec 2006) | 1 line

fix overlap reporting; much more useful to just report bi-directional overlaps (e.g. '100% of RULE1 hits also hit RULE2', '60% of RULE2 hits also hit RULE1') instead of the previous format
------------------------------------------------------------------------
r489688 | jm | 2006-12-22 16:50:14 +0000 (Fri, 22 Dec 2006) | 1 line

oops, don't forget the ham hits
------------------------------------------------------------------------
r489583 | jm | 2006-12-22 08:49:33 +0000 (Fri, 22 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r489437 | jm | 2006-12-21 18:49:21 +0000 (Thu, 21 Dec 2006) | 1 line

include the filename of the rules file in which errors are found in configuration-parsing lint error messages
------------------------------------------------------------------------
r489351 | jm | 2006-12-21 13:26:48 +0000 (Thu, 21 Dec 2006) | 1 line

pretty-print bayes score in mass-check logs
------------------------------------------------------------------------
r489346 | jm | 2006-12-21 13:17:26 +0000 (Thu, 21 Dec 2006) | 1 line

extend 'hit-frequencies -o' to log full overlap data, with hits-subsumption rates against each set of rule hit lines, for each rule
------------------------------------------------------------------------
r489341 | jm | 2006-12-21 12:45:35 +0000 (Thu, 21 Dec 2006) | 1 line

bug 5240: add sa-update --allowplugins switch, and automatically comment all 'loadplugin' or 'tryplugin' lines in downloaded rules files unless it is specified
------------------------------------------------------------------------
r489287 | jm | 2006-12-21 08:49:33 +0000 (Thu, 21 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r489084 | jm | 2006-12-20 13:29:18 +0000 (Wed, 20 Dec 2006) | 1 line

when using format=detect, format would be set by the first file/dir/mbox in a glob and then reused by all other locations; this was breaking the bb- mass-checks
------------------------------------------------------------------------
r488970 | jm | 2006-12-20 08:49:34 +0000 (Wed, 20 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r488585 | jm | 2006-12-19 08:49:34 +0000 (Tue, 19 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r488380 | jm | 2006-12-18 18:14:20 +0000 (Mon, 18 Dec 2006) | 1 line

use .raw scripts in test suite, since they still have that relative-path code intact
------------------------------------------------------------------------
r488376 | jm | 2006-12-18 18:02:29 +0000 (Mon, 18 Dec 2006) | 1 line

bug 4882: don't use relative paths in @INC in the installed SpamAssassin scripts; just in the uncompiled build tree
------------------------------------------------------------------------
r488156 | jm | 2006-12-18 08:49:34 +0000 (Mon, 18 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r488063 | jm | 2006-12-17 22:17:44 +0000 (Sun, 17 Dec 2006) | 1 line

the occasional failures on the Solaris zone appear to be fixed now, so reduce the noise level
------------------------------------------------------------------------
r487951 | jm | 2006-12-17 08:49:34 +0000 (Sun, 17 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r487940 | dos | 2006-12-17 04:44:30 +0000 (Sun, 17 Dec 2006) | 1 line

bug 5239: we can run SPF checks in local_tests_only mode now, re-using Received-SPF header results
------------------------------------------------------------------------
r487934 | dos | 2006-12-17 03:17:07 +0000 (Sun, 17 Dec 2006) | 1 line

bug 5239: move hackish M::SA::M:Node crap to M::SA::PMS where it should be
------------------------------------------------------------------------
r487789 | jm | 2006-12-16 11:54:04 +0000 (Sat, 16 Dec 2006) | 1 line

hack hack hack; update P595Body plugin to use the new blead feature of REGMARK, thanks to demerphq.  still needs speeding up unfortunately
------------------------------------------------------------------------
r487774 | jm | 2006-12-16 08:49:36 +0000 (Sat, 16 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r487661 | felicity | 2006-12-15 21:09:04 +0000 (Fri, 15 Dec 2006) | 1 line

bug 5246: drop INFO_TLD due to high FP rate
------------------------------------------------------------------------
r487599 | jm | 2006-12-15 17:02:37 +0000 (Fri, 15 Dec 2006) | 1 line

revert prev change; it's working now, sorry Daryl.  maybe it was a DNS thing? odd
------------------------------------------------------------------------
r487590 | jm | 2006-12-15 16:34:25 +0000 (Fri, 15 Dec 2006) | 1 line

bug 3808: send spamd 'result:' line to any listening plugins via new 'log_scan_result' plugin hook
------------------------------------------------------------------------
r487586 | jm | 2006-12-15 16:03:23 +0000 (Fri, 15 Dec 2006) | 1 line

bug 5243: add Plugin::register_method_priority() API, allowing plugins to control the relative ordering of plugin callbacks relative to other plugins' implementations
------------------------------------------------------------------------
r487485 | jm | 2006-12-15 08:49:36 +0000 (Fri, 15 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r487253 | jm | 2006-12-14 16:53:13 +0000 (Thu, 14 Dec 2006) | 1 line

another old-format test output filename; update
------------------------------------------------------------------------
r487243 | jm | 2006-12-14 15:47:47 +0000 (Thu, 14 Dec 2006) | 1 line

tidy up test log output; t/log/NAMEOFTEST/TESTNUM is the new format
------------------------------------------------------------------------
r487213 | jm | 2006-12-14 13:56:58 +0000 (Thu, 14 Dec 2006) | 1 line

oops; fix typo and increase test count
------------------------------------------------------------------------
r487210 | jm | 2006-12-14 13:49:51 +0000 (Thu, 14 Dec 2006) | 1 line

still test failures on the zone.  try to kill one possible race condition, in case that's causing them
------------------------------------------------------------------------
r487207 | jm | 2006-12-14 13:45:03 +0000 (Thu, 14 Dec 2006) | 1 line

ensure spf.t passes with just the old Mail::SPF::Query module, and not Mail::SPF, installed
------------------------------------------------------------------------
r487147 | dos | 2006-12-14 09:24:37 +0000 (Thu, 14 Dec 2006) | 1 line

bug 5239: add new test message to MANIFEST
------------------------------------------------------------------------
r487146 | dos | 2006-12-14 09:21:45 +0000 (Thu, 14 Dec 2006) | 31 lines

bug 5239: use results from Received-SPF header where possible

  - implements the ability to get a range of headers from get_all_headers()
    using the received headers as index points

  - adds "ALL-TRUSTED", "ALL-INTERNAL", "ALL-UNTRUSTED" and "ALL-EXTERNAL"
    pseudo-headers, like the current "ALL" pseudo-header; these pseudo-headers
    return all of the headers that were added by either trusted or internal
    relays and all of the headers that might have been added by either
    untrusted or external relays (most headers will have been added by
    untrusted or external relays but there's nothing stopping the trusted or
    internal relays from adding headers to the bottom of the message);
    these should be handy for header rules... almost everything that currently
    uses "ALL" should probably use "ALL-EXTERNAL" or "ALL-UNTRUSTED"

  - implements support for using the results found in "Received-SPF" headers
    found in the message; only headers that could have been added by internal
    relays are used so this is not susceptible to header forgery;
    "Received-SPF" header results are used by default, there's an option to
    disable their use; support for both the new and old style of
    "Received-SPF" headers is included; the new headers support both "mfrom"
    and "helo" results, the old ones only support "mfrom" AFAIK

  - added tests to t/spf.t and a new test message to test that the
    "Received-SPF" headers are only used when they should be (when they're
    found to be added by an internal relay) and that they're used correctly

  - slight improvement to the pattern that skips helo's that are IPs and not
    domain names


------------------------------------------------------------------------
r487138 | jm | 2006-12-14 08:49:37 +0000 (Thu, 14 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r486812 | sidney | 2006-12-13 19:38:01 +0000 (Wed, 13 Dec 2006) | 1 line

bug 5172: safer fix, conditionalized for Cygwin and fail safe if code uses symbols instead of defines
------------------------------------------------------------------------
r486653 | jm | 2006-12-13 13:52:53 +0000 (Wed, 13 Dec 2006) | 1 line

don't dist that script
------------------------------------------------------------------------
r486651 | jm | 2006-12-13 13:51:14 +0000 (Wed, 13 Dec 2006) | 1 line

helper script to randomise lines in a log file for masses -- surprised I'd never committed this
------------------------------------------------------------------------
r486643 | sidney | 2006-12-13 13:29:25 +0000 (Wed, 13 Dec 2006) | 1 line

bug 5172: finish up patch: fix compile time errors in CygWin
------------------------------------------------------------------------
r486633 | jm | 2006-12-13 13:07:13 +0000 (Wed, 13 Dec 2006) | 1 line

bug 5242: resurrect previously-removed rules HTML_IMAGE_RATIO_04, HTML_IMAGE_RATIO_06, HTML_IMAGE_RATIO_08
------------------------------------------------------------------------
r486619 | jm | 2006-12-13 12:26:19 +0000 (Wed, 13 Dec 2006) | 1 line

bug 4096: comment out references to unused {learn_with_whitelist} functionality
------------------------------------------------------------------------
r486549 | jm | 2006-12-13 08:49:39 +0000 (Wed, 13 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r486500 | dos | 2006-12-13 05:24:59 +0000 (Wed, 13 Dec 2006) | 1 line

bug 4347: move undefined meta dependency messages from info to dbg to keep them out of the syslog when the standard ruleset is used with some plugins disabled; anyone looking for meta rule debugging info should run test messages through SA with -Drules
------------------------------------------------------------------------
r486461 | dos | 2006-12-13 02:25:20 +0000 (Wed, 13 Dec 2006) | 22 lines

bug 5236: Support Mail::SPF replacement for Mail::SPF::Query

  - adds support for Mail::SPF while maintaining fall back support for
    Mail::SPF::Query; Mail::SPF is the current reference implementation for
    RFC 4408, it omits a lot of legacy crud present in Mail::SPF::Query

  - minor optimizations to and removal of crud from the SPF plugin

  - removes failure comments (for test logs) for all but mfrom or helo FAIL
    results per RFC 4408 section 6.2

  - handles some previously unchecked undef values in debugs

  - adds tests to t/spf.t for spf based whitelisting (previously untested)

  - modified t/spf.t to test both of the supported SPF modules specifically

  - adds an exteremely minimal errorstring() method to M::SA::DnsResolver
    so that Mail::SPF can use M::SA::DnsResolver instead of its own
    Net::DNS::Resolver object


------------------------------------------------------------------------
r486299 | jm | 2006-12-12 20:30:07 +0000 (Tue, 12 Dec 2006) | 1 line

bug 3933: add summary of important config items for novices
------------------------------------------------------------------------
r486197 | jm | 2006-12-12 15:49:57 +0000 (Tue, 12 Dec 2006) | 1 line

oops; removed a test, so test count needs to be updated too
------------------------------------------------------------------------
r486196 | jm | 2006-12-12 15:48:55 +0000 (Tue, 12 Dec 2006) | 1 line

remove test that the pid_file was removed; too prone to races, itself in turn
------------------------------------------------------------------------
r486142 | jm | 2006-12-12 13:53:30 +0000 (Tue, 12 Dec 2006) | 1 line

another spot where CPU contention can result in test suite moving faster than spamd, and tests failing as a result
------------------------------------------------------------------------
r486134 | jm | 2006-12-12 13:29:38 +0000 (Tue, 12 Dec 2006) | 1 line

allow a sleep in the prefork stress test for a new spamd child to start, before attempting to scan; this should fix the intermittent stress-test failures I see here
------------------------------------------------------------------------
r486122 | jm | 2006-12-12 13:03:29 +0000 (Tue, 12 Dec 2006) | 1 line

retry listening on spamd sockets 3 times, instead of once, before giving up and issuing an 'address already in use' fatal message.  hopefully this may help deal with the spamd_kill_restart.t test failures on the zone with perl 5.6.1
------------------------------------------------------------------------
r486062 | jm | 2006-12-12 08:49:37 +0000 (Tue, 12 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r485934 | jm | 2006-12-11 23:02:22 +0000 (Mon, 11 Dec 2006) | 1 line

this test keeps failing on the zone.  log more debugs until we can figure out why...
------------------------------------------------------------------------
r485853 | jm | 2006-12-11 20:23:48 +0000 (Mon, 11 Dec 2006) | 1 line

oops, fix the test to reflect changed debug message format
------------------------------------------------------------------------
r485810 | jm | 2006-12-11 18:54:14 +0000 (Mon, 11 Dec 2006) | 1 line

bug 4653: add note about compatibility with older versions of PgSQL, < 8.0
------------------------------------------------------------------------
r485800 | dos | 2006-12-11 18:39:12 +0000 (Mon, 11 Dec 2006) | 1 line

bug 4539: man page summaries for executables exceed 80 cols, fix
------------------------------------------------------------------------
r485668 | jm | 2006-12-11 14:03:13 +0000 (Mon, 11 Dec 2006) | 1 line

allow extraction of some rule bases with less changes made to the original regexp
------------------------------------------------------------------------
r485651 | jm | 2006-12-11 12:59:45 +0000 (Mon, 11 Dec 2006) | 1 line

note re2c version requirements for sa-compile
------------------------------------------------------------------------
r485646 | jm | 2006-12-11 12:40:54 +0000 (Mon, 11 Dec 2006) | 1 line

bug 5233: support rules of all priority levels in sa-compile
------------------------------------------------------------------------
r485645 | jm | 2006-12-11 12:28:31 +0000 (Mon, 11 Dec 2006) | 1 line

change rule-duplication warning to sound less scary
------------------------------------------------------------------------
r485632 | jm | 2006-12-11 12:07:55 +0000 (Mon, 11 Dec 2006) | 1 line

bug 5106: document -d/-x incompatibility
------------------------------------------------------------------------
r485627 | jm | 2006-12-11 11:58:56 +0000 (Mon, 11 Dec 2006) | 1 line

ensure base strings are sorted, to fix test failures from differing orders on perl 5.6.x and 5.8.x
------------------------------------------------------------------------
r485624 | jm | 2006-12-11 11:42:07 +0000 (Mon, 11 Dec 2006) | 1 line

bug 5148: fix Pyzor plugin to support lookups against multiple servers, summing their results.  improve Pyzor docs regarding timeouts, and lower the default timeout to 3.5 seconds.  thanks to John Hein <jhein at timing.com>
------------------------------------------------------------------------
r485584 | jm | 2006-12-11 10:00:07 +0000 (Mon, 11 Dec 2006) | 1 line

recomment optional plugin
------------------------------------------------------------------------
r485558 | jm | 2006-12-11 08:49:41 +0000 (Mon, 11 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r485523 | duncf | 2006-12-11 06:07:25 +0000 (Mon, 11 Dec 2006) | 2 lines

Fix incorrect documentation

------------------------------------------------------------------------
r485522 | duncf | 2006-12-11 06:06:11 +0000 (Mon, 11 Dec 2006) | 2 lines

Document logs-to-c

------------------------------------------------------------------------
r485521 | duncf | 2006-12-11 06:02:41 +0000 (Mon, 11 Dec 2006) | 2 lines

Document fp-fn-statistics

------------------------------------------------------------------------
r485513 | duncf | 2006-12-11 05:43:14 +0000 (Mon, 11 Dec 2006) | 2 lines

Clean up overlap and document

------------------------------------------------------------------------
r485479 | felicity | 2006-12-11 03:24:21 +0000 (Mon, 11 Dec 2006) | 1 line

bug 5023: add in conf options to update TLD and 2TLD list from conf files
------------------------------------------------------------------------
r485478 | felicity | 2006-12-11 03:22:51 +0000 (Mon, 11 Dec 2006) | 1 line

Fix 2TLD list and move 3TLD to the correct place...
------------------------------------------------------------------------
r485186 | sidney | 2006-12-10 14:17:12 +0000 (Sun, 10 Dec 2006) | 1 line

bug 5172: Revert to using gethostbyname (IPv4 only) instead of getaddrinfo with IPv6 support on platforms such as Cygwin that do not have getaddrinfo
------------------------------------------------------------------------
r485153 | sidney | 2006-12-10 10:20:24 +0000 (Sun, 10 Dec 2006) | 1 line

bug 3710: one line of fix was reverted by fix to bug 4477, this changes it back
------------------------------------------------------------------------
r485146 | jm | 2006-12-10 08:49:39 +0000 (Sun, 10 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r484949 | jm | 2006-12-09 08:49:39 +0000 (Sat, 09 Dec 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r484935 | duncf | 2006-12-09 06:10:00 +0000 (Sat, 09 Dec 2006) | 3 lines

Get rid of extract-message-from-mbox, there's nothing it can do that
mboxget can't. Add a --headers option to mboxget and document it.

------------------------------------------------------------------------
r484931 | duncf | 2006-12-09 05:24:44 +0000 (Sat, 09 Dec 2006) | 2 lines

Fix bug in mboxget for 0 offset

------------------------------------------------------------------------
r484901 | duncf | 2006-12-09 03:08:53 +0000 (Sat, 09 Dec 2006) | 3 lines

Document rewrite-cf-with-new-scores, clean it up to use command line
options properly, while keeping backward compatibility.

------------------------------------------------------------------------
r484893 | duncf | 2006-12-09 01:52:13 +0000 (Sat, 09 Dec 2006) | 2 lines

Document perceptron

------------------------------------------------------------------------
r484892 | duncf | 2006-12-09 01:45:15 +0000 (Sat, 09 Dec 2006) | 2 lines

Document hit-frequencies and minor cleanup.

------------------------------------------------------------------------
r484883 | duncf | 2006-12-09 01:29:44 +0000 (Sat, 09 Dec 2006) | 2 lines

Fix headers for -f option

------------------------------------------------------------------------
r484880 | duncf | 2006-12-09 01:23:45 +0000 (Sat, 09 Dec 2006) | 2 lines

Call make with the right scoreset when generating ranges data in logs-to-c.

------------------------------------------------------------------------
r484879 | duncf | 2006-12-09 01:22:57 +0000 (Sat, 09 Dec 2006) | 3 lines

Fix the output headings, fix the -T (timings) option to properly imply
-p and -x.

------------------------------------------------------------------------
r484873 | felicity | 2006-12-09 01:07:51 +0000 (Sat, 09 Dec 2006) | 1 line

deal with multiple DK/DKIM headers if they exist
------------------------------------------------------------------------
r484837 | dos | 2006-12-08 23:08:47 +0000 (Fri, 08 Dec 2006) | 1 line

bug 5234: parse HELO value from Communigate Pro 5.1.3 header
------------------------------------------------------------------------
r484720 | felicity | 2006-12-08 20:01:05 +0000 (Fri, 08 Dec 2006) | 1 line

bug 4688: revert out patch to avoid hiding larger issue with unset type
------------------------------------------------------------------------
r484706 | felicity | 2006-12-08 19:30:19 +0000 (Fri, 08 Dec 2006) | 1 line

look at both domainkey-signature and dkim-signature...
------------------------------------------------------------------------
r484699 | felicity | 2006-12-08 19:14:25 +0000 (Fri, 08 Dec 2006) | 1 line

take the domain specified in DK and add it to the parsed uri list as a new domainkeys type.  generalize the get_uri_detail() handling of parsed to deal with different types.
------------------------------------------------------------------------
r484668 | jm | 2006-12-08 17:38:26 +0000 (Fri, 08 Dec 2006) | 1 line

use Daryl's suggestion -- no need to use a real value where undef will do
------------------------------------------------------------------------
r484630 | jm | 2006-12-08 15:07:37 +0000 (Fri, 08 Dec 2006) | 1 line

more improvement of debug support; less undef value warnings
------------------------------------------------------------------------
r484627 | jm | 2006-12-08 15:03:16 +0000 (Fri, 08 Dec 2006) | 1 line

looks like this was an omission; one Received header format was recognized and parsed, but then would fall through and be treated as unparseable
------------------------------------------------------------------------
r484625 | jm | 2006-12-08 15:00:22 +0000 (Fri, 08 Dec 2006) | 1 line

more debugs for failure to get list of promotable rules
------------------------------------------------------------------------
r484624 | jm | 2006-12-08 14:59:47 +0000 (Fri, 08 Dec 2006) | 1 line

ruleqa.cgi: fix bug where XML output was inhibiting any rule output whatsoever, which was causing rule-update production to stop
------------------------------------------------------------------------
r483650 | jm | 2006-12-07 20:37:31 +0000 (Thu, 07 Dec 2006) | 1 line

bug 5206: detect duplicate rules, and silently merge them internally for greater efficiency.  This results in about 100-120KB RAM usage saving in current svn trunk's ruleset, detecting lots of duplicate rules -- so is well worth doing.  also, change t/priorities.t so it doesn't accidentally confuse itself with duplicate rules
------------------------------------------------------------------------
r483497 | jm | 2006-12-07 15:35:58 +0000 (Thu, 07 Dec 2006) | 1 line

comment the use of regmust
------------------------------------------------------------------------
r483495 | jm | 2006-12-07 15:33:47 +0000 (Thu, 07 Dec 2006) | 1 line

sa-learn used odd --debug-level switch instead of --debug as used everywhere else, and also didn't support debug channels like the other tools do, and as its doco suggests it did; fix, and dup fix in sa-compile too
------------------------------------------------------------------------
r483476 | jm | 2006-12-07 15:08:59 +0000 (Thu, 07 Dec 2006) | 1 line

test plugin which outputs 'body' text to stdout; load using e.g. 'spamassassin --cf="loadplugin Dumptext masses/plugins/Dumptext.pm" -Lt < sample-spam.txt', or similar in mass-check
------------------------------------------------------------------------
r483384 | sidney | 2006-12-07 09:03:37 +0000 (Thu, 07 Dec 2006) | 1 line

last checkin forgot to increment test count when adding a new test
------------------------------------------------------------------------
r483247 | felicity | 2006-12-06 21:41:56 +0000 (Wed, 06 Dec 2006) | 1 line

oops... need to register the eval to test them. :(
------------------------------------------------------------------------
r483222 | dos | 2006-12-06 20:49:05 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5223: allow for Sendmail's 'may be forged' comment when looking to see if a relay was authenticated
------------------------------------------------------------------------
r483169 | dos | 2006-12-06 18:30:15 +0000 (Wed, 06 Dec 2006) | 1 line

remove bogus info from USAGE documentation
------------------------------------------------------------------------
r483161 | jm | 2006-12-06 17:41:14 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5221: merge back sa-compile ruleset-compiler from jm_re2c_hacks branch to trunk; third patch, make some experimental components SVN-only
------------------------------------------------------------------------
r483158 | jm | 2006-12-06 17:35:08 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5221: merge back sa-compile ruleset-compiler from jm_re2c_hacks branch to trunk; second patch, full back-merge of remaining diffs
------------------------------------------------------------------------
r483156 | jm | 2006-12-06 17:28:36 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5221: merge back sa-compile ruleset-compiler from jm_re2c_hacks branch to trunk; first patch, changes to core modules
------------------------------------------------------------------------
r483155 | felicity | 2006-12-06 17:24:08 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5200: add in documentation about the new else statement
------------------------------------------------------------------------
r483154 | felicity | 2006-12-06 17:13:43 +0000 (Wed, 06 Dec 2006) | 1 line

throw errors if else/endif found without a matching conditional
------------------------------------------------------------------------
r483151 | felicity | 2006-12-06 17:00:15 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5200: allow 'else' statements
------------------------------------------------------------------------
r483150 | jm | 2006-12-06 17:00:08 +0000 (Wed, 06 Dec 2006) | 1 line

bug 4528: fix false positives on Yahoo corporate mail and Yahoo Auto Responses from FORGED_YAHOO_RCVD
------------------------------------------------------------------------
r483140 | jm | 2006-12-06 16:42:30 +0000 (Wed, 06 Dec 2006) | 1 line

bug 3456: avoid an undef warning if stat() fails
------------------------------------------------------------------------
r483138 | felicity | 2006-12-06 16:32:23 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5052: update AntiVirus plugin to ignore content-type when looking for exe files
------------------------------------------------------------------------
r483072 | jm | 2006-12-06 13:35:43 +0000 (Wed, 06 Dec 2006) | 1 line

bug 5146: remove 25_body_tests_pl.cf from distribution, move to http://wiki.apache.org/spamassassin/CustomRulesets
------------------------------------------------------------------------
r483064 | jm | 2006-12-06 13:08:59 +0000 (Wed, 06 Dec 2006) | 1 line

oops.  t/db_awl_path.t was failing due to this, since eval { } scope is used extensively to catch stuff that needs to be cleaned up, causing the warn messages to be hidden since it was in an eval scope
------------------------------------------------------------------------
r483050 | jm | 2006-12-06 12:27:17 +0000 (Wed, 06 Dec 2006) | 1 line

use $^S to avoid logging inside evals.  you learn something new every day
------------------------------------------------------------------------
r483047 | jm | 2006-12-06 12:06:54 +0000 (Wed, 06 Dec 2006) | 1 line

bug 4605: trivial fix: add note that the module should really have been called RegistryBoundaries ;)
------------------------------------------------------------------------
r482735 | felicity | 2006-12-05 18:46:00 +0000 (Tue, 05 Dec 2006) | 1 line

bug 4459: add another test for: allow 127.0.0.\d+, and look for other illegals
------------------------------------------------------------------------
r482734 | felicity | 2006-12-05 18:43:58 +0000 (Tue, 05 Dec 2006) | 1 line

bug 4459: allow 127.0.0.\d+, and look for other illegals
------------------------------------------------------------------------
r482445 | felicity | 2006-12-05 01:47:59 +0000 (Tue, 05 Dec 2006) | 1 line

fix typo
------------------------------------------------------------------------
r482378 | felicity | 2006-12-04 21:49:35 +0000 (Mon, 04 Dec 2006) | 1 line

update token REs to better deal with numbers
------------------------------------------------------------------------
r482371 | felicity | 2006-12-04 21:37:59 +0000 (Mon, 04 Dec 2006) | 1 line

bug 5142: allow decimal numbers, and positive/negative marked numbers in meta rules.  when tokenizing, don't require rule names to be over 1 character in length.
------------------------------------------------------------------------
r482346 | felicity | 2006-12-04 20:43:28 +0000 (Mon, 04 Dec 2006) | 1 line

missed some mail_open() calls. :(
------------------------------------------------------------------------
r482309 | felicity | 2006-12-04 19:34:31 +0000 (Mon, 04 Dec 2006) | 1 line

change ArchiveIterator function names to more clearly suggest what is public and what isn't.  mass-check breaks into the object a lot and uses private functions and data, so change there as well...
------------------------------------------------------------------------
r482295 | jm | 2006-12-04 19:13:41 +0000 (Mon, 04 Dec 2006) | 1 line

add wiki links
------------------------------------------------------------------------
r482288 | jm | 2006-12-04 18:56:13 +0000 (Mon, 04 Dec 2006) | 1 line

bug 4771: add a 'more info' link to the wiki from the rules page
------------------------------------------------------------------------
r482224 | jm | 2006-12-04 15:48:05 +0000 (Mon, 04 Dec 2006) | 1 line

make MY_SERVERS_FOUND a subrule, since it may not be defined if the VBounce.pm plugin is not loaded; also, move plugin loading to v320.pre
------------------------------------------------------------------------
r482223 | jm | 2006-12-04 15:44:10 +0000 (Mon, 04 Dec 2006) | 1 line

remove spurious descriptions for obsolete meta subrule __RCVD_IN_SBL_XBL; this was causing t/lang_lint.t to fail
------------------------------------------------------------------------
r482217 | jm | 2006-12-04 15:20:43 +0000 (Mon, 04 Dec 2006) | 1 line

virus-bounce ruleset integration; move the scores into 50_scores.cf
------------------------------------------------------------------------
r482216 | jm | 2006-12-04 15:20:28 +0000 (Mon, 04 Dec 2006) | 1 line

virus-bounce ruleset integration; move the scores into 50_scores.cf
------------------------------------------------------------------------
r482213 | jm | 2006-12-04 15:16:09 +0000 (Mon, 04 Dec 2006) | 1 line

move virus-bounce ruleset out of sandbox, into the 3.2.0 distribution rules dir; it's done
------------------------------------------------------------------------
r482209 | jm | 2006-12-04 15:15:09 +0000 (Mon, 04 Dec 2006) | 1 line

move virus-bounce ruleset out of sandbox, into the 3.2.0 distribution rules dir; it's done
------------------------------------------------------------------------
r482207 | jm | 2006-12-04 15:14:02 +0000 (Mon, 04 Dec 2006) | 1 line

move virus-bounce ruleset out of sandbox, into the 3.2.0 distribution rules dir; it's done
------------------------------------------------------------------------
r482161 | jm | 2006-12-04 13:03:48 +0000 (Mon, 04 Dec 2006) | 1 line

bug 5187: replace use of sbl-xbl.spamhaus.org with new zen.spamhaus.org zone; leave RCVD_IN_PBL in sandbox as it's still unreleased
------------------------------------------------------------------------
r482088 | felicity | 2006-12-04 05:52:32 +0000 (Mon, 04 Dec 2006) | 1 line

get rid of another opt_n reference in AI
------------------------------------------------------------------------
r481898 | jm | 2006-12-03 21:19:36 +0000 (Sun, 03 Dec 2006) | 1 line

bug 5132: fix typo in rules/25_replace.cf for SUBJECT_FUZZY_VPILL description, thanks to Dave Lukes <davel at anvil.com>
------------------------------------------------------------------------
r481885 | duncf | 2006-12-03 20:49:54 +0000 (Sun, 03 Dec 2006) | 4 lines

Split the --count functionality out of logs-to-c and put it in
fp-fn-statistics. Clean both scripts up, make them both run with "use
strict". Correct other scripts which call either of them.

------------------------------------------------------------------------
r481873 | felicity | 2006-12-03 20:21:15 +0000 (Sun, 03 Dec 2006) | 1 line

bug 5145: better deal with STDIN in spamassassin and sa-learn, since ArchiveIterator doesn't deal with it so well
------------------------------------------------------------------------
r481861 | felicity | 2006-12-03 19:16:01 +0000 (Sun, 03 Dec 2006) | 1 line

revert r481828 due to errors. :(
------------------------------------------------------------------------
r481828 | felicity | 2006-12-03 17:22:51 +0000 (Sun, 03 Dec 2006) | 1 line

bug 5145: better deal with STDIN in spamassassin and sa-learn, since ArchiveIterator doesn't deal with it so well
------------------------------------------------------------------------
r481716 | felicity | 2006-12-03 04:33:01 +0000 (Sun, 03 Dec 2006) | 1 line

have to set opt_want_date as appropriate now since opt_n is gone from AI
------------------------------------------------------------------------
r481710 | felicity | 2006-12-03 04:13:09 +0000 (Sun, 03 Dec 2006) | 1 line

move more code from ArchiveIterator to mass-check, since it's the only script we have that uses the code.  pass bookkeeping function to the scan_* functions so that the AI caller can control the message data storage, ala bug 5141.
------------------------------------------------------------------------
r481645 | felicity | 2006-12-02 22:28:19 +0000 (Sat, 02 Dec 2006) | 1 line

opt_j isn't in ArchiveIterator anymore, so stop using it
------------------------------------------------------------------------
r481298 | dos | 2006-12-01 17:05:11 +0000 (Fri, 01 Dec 2006) | 1 line

(trivial) avoid one last place where $1 might be randomly tainted (and cause a problem) in sa-update
------------------------------------------------------------------------
r481291 | dos | 2006-12-01 16:50:32 +0000 (Fri, 01 Dec 2006) | 1 line

bug 5216: avoid random taint flagging of $1 in sa-update
------------------------------------------------------------------------
r481144 | parker | 2006-12-01 04:25:09 +0000 (Fri, 01 Dec 2006) | 1 line

You can not finish up the learner before checking did_learn because it clears that status
------------------------------------------------------------------------
r480126 | jm | 2006-11-28 16:51:53 +0000 (Tue, 28 Nov 2006) | 1 line

ok, it really is quite noisy
------------------------------------------------------------------------
r480054 | jm | 2006-11-28 14:11:50 +0000 (Tue, 28 Nov 2006) | 1 line

don't need the debugs anymore
------------------------------------------------------------------------
r480050 | jm | 2006-11-28 14:09:11 +0000 (Tue, 28 Nov 2006) | 1 line

always rewrite the fastinfo.xml file; the input file list gradually builds up over multiple runs
------------------------------------------------------------------------
r480048 | jm | 2006-11-28 14:05:56 +0000 (Tue, 28 Nov 2006) | 1 line

keep debugging, that wasn't it
------------------------------------------------------------------------
r480045 | jm | 2006-11-28 14:03:02 +0000 (Tue, 28 Nov 2006) | 1 line

ah, format change was missed
------------------------------------------------------------------------
r480043 | jm | 2006-11-28 14:01:15 +0000 (Tue, 28 Nov 2006) | 1 line

reenable some noise to try and debug why only one mass-check contributor is being listed in ruleqa app
------------------------------------------------------------------------
r479796 | felicity | 2006-11-27 22:59:49 +0000 (Mon, 27 Nov 2006) | 1 line

if we store a part in a temp file, leave it there.
------------------------------------------------------------------------
r479738 | felicity | 2006-11-27 19:44:23 +0000 (Mon, 27 Nov 2006) | 1 line

oops, fix typo -- use the part, not self...
------------------------------------------------------------------------
r479736 | felicity | 2006-11-27 19:41:16 +0000 (Mon, 27 Nov 2006) | 1 line

bug 5210: don't bother undefining variables, drop them from the object entirely.  also deal with the root node data.
------------------------------------------------------------------------
r479732 | felicity | 2006-11-27 19:31:22 +0000 (Mon, 27 Nov 2006) | 1 line

bug 5210: add back Message::finish() since perl's GC may not completely clean up after our tree, and close non-referenced fd's, etc.
------------------------------------------------------------------------
r479728 | felicity | 2006-11-27 19:20:20 +0000 (Mon, 27 Nov 2006) | 1 line

if a temp file's contents are read back in, we may as well continue to store that information in memory.
------------------------------------------------------------------------
r479430 | jm | 2006-11-26 21:23:23 +0000 (Sun, 26 Nov 2006) | 1 line

use strings instead of arrayrefs to store eval-rule data.  this saves 250KB, believe it or not; memory usage drops from 37692KB to 37452KB for mass-check
------------------------------------------------------------------------
r479423 | jm | 2006-11-26 20:32:15 +0000 (Sun, 26 Nov 2006) | 1 line

fix bug: eval ruleset cannot be freed here, since it's needed again if/when another scoreset becomes used
------------------------------------------------------------------------
r478924 | fanf | 2006-11-24 17:27:23 +0000 (Fri, 24 Nov 2006) | 2 lines

I'm joining the team!

------------------------------------------------------------------------
r478876 | jm | 2006-11-24 13:30:10 +0000 (Fri, 24 Nov 2006) | 1 line

oops. wierdness with 'no strict' pragma vs the run_compiled_method label, fix
------------------------------------------------------------------------
r478874 | jm | 2006-11-24 13:25:41 +0000 (Fri, 24 Nov 2006) | 1 line

refactor Plugin/Check.pm heavily to share more common code, for the rule-compilation steps; this removes a lot of redundant code, with diffstat reporting just 271 insertions vs 484 deletions.  Also, remove shortcircuited_p() and just call plugin directly, and finally s/body_uri/uri/ for sanity
------------------------------------------------------------------------
r478768 | dos | 2006-11-24 04:49:13 +0000 (Fri, 24 Nov 2006) | 1 line

bug 4678: avoid some RATWARE_MS_HASH and RATWARE_OUTLOOK_NONAME FPs
------------------------------------------------------------------------
r478757 | felicity | 2006-11-24 03:17:42 +0000 (Fri, 24 Nov 2006) | 1 line

convert opt_before and opt_after from '-7 days' to time_t when processing the option, since target() relies on it being a number
------------------------------------------------------------------------
r478656 | jm | 2006-11-23 20:26:57 +0000 (Thu, 23 Nov 2006) | 1 line

remove unnecessary lib/Mail/SpamAssassin/PerMsgStatus.pm scoping
------------------------------------------------------------------------
r478648 | jm | 2006-11-23 19:30:39 +0000 (Thu, 23 Nov 2006) | 1 line

bug 5191: README file does not mention local state dir, fix
------------------------------------------------------------------------
r478587 | jm | 2006-11-23 14:23:03 +0000 (Thu, 23 Nov 2006) | 1 line

update buildbot, apache config to match current zone; use std link href for CSS link
------------------------------------------------------------------------
r478580 | jm | 2006-11-23 14:08:24 +0000 (Thu, 23 Nov 2006) | 1 line

refactor out CSS file; add XHTML-style valid quoting of HTML tags
------------------------------------------------------------------------
r478577 | jm | 2006-11-23 14:00:39 +0000 (Thu, 23 Nov 2006) | 1 line

more URL-shortening; also, make the administrivia text at EOF use the grey UI style
------------------------------------------------------------------------
r478574 | jm | 2006-11-23 13:54:33 +0000 (Thu, 23 Nov 2006) | 1 line

remove redundant DETAILs prefix from permalink
------------------------------------------------------------------------
r478573 | jm | 2006-11-23 13:49:07 +0000 (Thu, 23 Nov 2006) | 1 line

new, shorter, more pasteable permalinks
------------------------------------------------------------------------
r478570 | jm | 2006-11-23 13:43:11 +0000 (Thu, 23 Nov 2006) | 1 line

more noise-removal from the generated URLs
------------------------------------------------------------------------
r478568 | jm | 2006-11-23 13:38:16 +0000 (Thu, 23 Nov 2006) | 1 line

oops, really should display results from at least one set
------------------------------------------------------------------------
r478567 | jm | 2006-11-23 13:35:14 +0000 (Thu, 23 Nov 2006) | 1 line

remove several options that were just adding too much choice without ever being used, or had been partially removed anyway; that's 'hide zero-hitters', 'display HTML-only corpus results', and the obsolete 's_net'
------------------------------------------------------------------------
r478466 | felicity | 2006-11-23 05:06:21 +0000 (Thu, 23 Nov 2006) | 1 line

missed this for the parse-rules-for-masses masses->build move :(
------------------------------------------------------------------------
r478457 | felicity | 2006-11-23 04:04:33 +0000 (Thu, 23 Nov 2006) | 1 line

bug 5091: drop the masses, contrib, and tools directory from the tarball.  access to these via SVN is available.
------------------------------------------------------------------------
r478451 | felicity | 2006-11-23 03:34:13 +0000 (Thu, 23 Nov 2006) | 1 line

MemoryDump is a devel plugin, don't include it by default
------------------------------------------------------------------------
r478246 | jm | 2006-11-22 17:14:29 +0000 (Wed, 22 Nov 2006) | 1 line

mass-check now supports different options for each target, e.g. 'mass-check --scanprob=0.5 --tail=5000 spam:dir:/spam --scanprob=1.0 --tail=99999 ham:dir:/ham'
------------------------------------------------------------------------
r478223 | jm | 2006-11-22 16:38:04 +0000 (Wed, 22 Nov 2006) | 1 line

--scanprob switch for mass-check; skip some desired proportion of messages from scanning
------------------------------------------------------------------------
r478090 | jm | 2006-11-22 08:49:47 +0000 (Wed, 22 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r477679 | jm | 2006-11-21 14:14:07 +0000 (Tue, 21 Nov 2006) | 1 line

more UI work; labels, proper HTML quoting, ick, font sizes
------------------------------------------------------------------------
r477677 | jm | 2006-11-21 14:06:10 +0000 (Tue, 21 Nov 2006) | 1 line

more UI; css style for main dashboard UI elements
------------------------------------------------------------------------
r477674 | jm | 2006-11-21 14:01:52 +0000 (Tue, 21 Nov 2006) | 1 line

oops, need to fix those URLs in the template; also prettify the UI
------------------------------------------------------------------------
r477672 | jm | 2006-11-21 13:59:54 +0000 (Tue, 21 Nov 2006) | 1 line

oops, need to fix those URLs in the template
------------------------------------------------------------------------
r477671 | jm | 2006-11-21 13:58:02 +0000 (Tue, 21 Nov 2006) | 1 line

add links for last-night, today daterev strings
------------------------------------------------------------------------
r477582 | jm | 2006-11-21 08:49:48 +0000 (Tue, 21 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r477224 | jm | 2006-11-20 15:27:34 +0000 (Mon, 20 Nov 2006) | 1 line

add --cf switch to mass-check
------------------------------------------------------------------------
r477138 | jm | 2006-11-20 10:38:24 +0000 (Mon, 20 Nov 2006) | 1 line

trivial doc addition: reference spamc -L in sa-learn manual
------------------------------------------------------------------------
r477109 | jm | 2006-11-20 08:49:49 +0000 (Mon, 20 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r476771 | jm | 2006-11-19 08:49:48 +0000 (Sun, 19 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r476665 | dos | 2006-11-19 00:11:57 +0000 (Sun, 19 Nov 2006) | 8 lines

bug 5171: remove temporary fix now that sa-update uses the site's pre files
          and "core rules" that are now in plugins rules have been moved
          inside their required ifplugin lines


NOTE: Anybody using 3.2 needs to update their copy of sa-update before trying
      to use the next 3.2 update that is generated.

------------------------------------------------------------------------
r476657 | dos | 2006-11-18 23:31:45 +0000 (Sat, 18 Nov 2006) | 1 line

bug 5171: CHARSET_FARAWAY(_HEADER) weren't supposed to be made mutable when moved inside ifplugin lines, fixed
------------------------------------------------------------------------
r476478 | dos | 2006-11-18 09:32:54 +0000 (Sat, 18 Nov 2006) | 1 line

bug 5171: move HEAD_LONG inside ifplugin lines
------------------------------------------------------------------------
r476474 | jm | 2006-11-18 08:49:50 +0000 (Sat, 18 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r476455 | dos | 2006-11-18 06:27:54 +0000 (Sat, 18 Nov 2006) | 1 line

bug 5171: move score lines for core rules that were moved to plugins so that they are inside ifplugin lines
------------------------------------------------------------------------
r476081 | jm | 2006-11-17 08:49:50 +0000 (Fri, 17 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r476035 | dos | 2006-11-17 03:09:41 +0000 (Fri, 17 Nov 2006) | 1 line

bug 5171: load site pre files when lint checking sa-update channel updates
------------------------------------------------------------------------
r475881 | jm | 2006-11-16 19:18:33 +0000 (Thu, 16 Nov 2006) | 1 line

update corpus-nightly with reliability, usability and error-checking improvements
------------------------------------------------------------------------
r475667 | jm | 2006-11-16 09:55:22 +0000 (Thu, 16 Nov 2006) | 1 line

insert literal priority values into generated methods, instead of relying on closure-style sharing.  funny that only the mc-fast buildbot slaves catch this
------------------------------------------------------------------------
r475642 | jm | 2006-11-16 08:49:51 +0000 (Thu, 16 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r475472 | jm | 2006-11-15 22:38:16 +0000 (Wed, 15 Nov 2006) | 1 line

revert broken optimisation
------------------------------------------------------------------------
r475469 | jm | 2006-11-15 22:32:00 +0000 (Wed, 15 Nov 2006) | 1 line

oops, comment
------------------------------------------------------------------------
r475450 | jm | 2006-11-15 21:58:56 +0000 (Wed, 15 Nov 2006) | 1 line

fix typo; ran_rule_plugin_code() takes 2 args, not 3
------------------------------------------------------------------------
r475447 | jm | 2006-11-15 21:55:56 +0000 (Wed, 15 Nov 2006) | 1 line

couple of minor speedups
------------------------------------------------------------------------
r475440 | jm | 2006-11-15 21:36:49 +0000 (Wed, 15 Nov 2006) | 1 line

backport some good bits from the rule2c branch: modularise make_qr() into a Util function; add a 'priority' parameter for the start_rules plugin hook; and remove a couple of redundant local($_) lines
------------------------------------------------------------------------
r475391 | jm | 2006-11-15 20:09:18 +0000 (Wed, 15 Nov 2006) | 1 line

add note about ZEN plans
------------------------------------------------------------------------
r475377 | jm | 2006-11-15 19:39:48 +0000 (Wed, 15 Nov 2006) | 1 line

avoid re-creating info XML files that already exist
------------------------------------------------------------------------
r475353 | dos | 2006-11-15 18:45:20 +0000 (Wed, 15 Nov 2006) | 1 line

bug 5165: check all sa-update channels for updates in --checkonly mode
------------------------------------------------------------------------
r475313 | jm | 2006-11-15 17:29:47 +0000 (Wed, 15 Nov 2006) | 1 line

fix t/spamd_allow_user_rules.t test failure; turns out the optimisation of header rules in the non-tflags-multiple case was buggy, causing rule misses, since a m//g modifier was being used when it shouldn't have been.  Also, don't delete the source_file hash etc. if we are using allow_user_rules; that stuff is used to recompile the ruleset
------------------------------------------------------------------------
r475239 | jm | 2006-11-15 14:05:55 +0000 (Wed, 15 Nov 2006) | 1 line

comment out now always-dead buildbots
------------------------------------------------------------------------
r475161 | jm | 2006-11-15 08:49:50 +0000 (Wed, 15 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r474920 | jm | 2006-11-14 18:57:51 +0000 (Tue, 14 Nov 2006) | 1 line

bug 5123: remove some more vestiges of now-obsolete eval rules, namely the following HTML flags and range variables: attr_seen_* attr_unique_bad attr_bad html_event_unsafe big_font font_face_caps font_invisible tiny_font max_shouting text_after_body text_after_html
------------------------------------------------------------------------
r474917 | jm | 2006-11-14 18:40:53 +0000 (Tue, 14 Nov 2006) | 1 line

remove (commented) debugging code
------------------------------------------------------------------------
r474914 | jm | 2006-11-14 18:38:42 +0000 (Tue, 14 Nov 2006) | 1 line

this test should not depend on rule scores; just check to ensure the header appears
------------------------------------------------------------------------
r474909 | jm | 2006-11-14 18:26:23 +0000 (Tue, 14 Nov 2006) | 1 line

optimise out tflags-multiple support code in header rules when it's not necessary
------------------------------------------------------------------------
r474703 | jm | 2006-11-14 08:49:52 +0000 (Tue, 14 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r474449 | jm | 2006-11-13 19:23:00 +0000 (Mon, 13 Nov 2006) | 1 line

more RAM usage trimming.  tflags don't need to be defined if they are '', so do that.  meta_dependencies can be stored as a string rather than an arrayref.  don't create an entry in {tests_already_hit} for every rule used in a meta rule; instead, use the ($var||0) trick to avoid undefs.  this all trims off about 600KB of RAM usage afaics
------------------------------------------------------------------------
r474276 | jm | 2006-11-13 12:18:36 +0000 (Mon, 13 Nov 2006) | 1 line

return real undef values instead of our magic token; require defined keys
------------------------------------------------------------------------
r474270 | jm | 2006-11-13 12:05:24 +0000 (Mon, 13 Nov 2006) | 1 line

remove the descriptions_str hack; instead, use a tie() class, Mail/SpamAssassin/Util/TieOneStringHash, for descriptions.  This class facades a single string with a hash interface, providing a slow but very memory-efficient hash-like structure, perfect for descriptions
------------------------------------------------------------------------
r474257 | jm | 2006-11-13 11:27:41 +0000 (Mon, 13 Nov 2006) | 1 line

'make clean' would delete the plugin .pm files, which were then not being re-copied since the rules dir was newer than rulesrc.  fix by ensuring that all .pm files found in rulesrc also appear in rules
------------------------------------------------------------------------
r474254 | jm | 2006-11-13 11:21:17 +0000 (Mon, 13 Nov 2006) | 1 line

I think everyone's got rid of rules/70_inactive.cf by now
------------------------------------------------------------------------
r474219 | jm | 2006-11-13 09:39:31 +0000 (Mon, 13 Nov 2006) | 1 line

check syntax error in check_for_faraway_charset() eval rule; are_more_high_bits_set() is not on the PerMsgStatus object any more
------------------------------------------------------------------------
r474216 | sidney | 2006-11-13 09:36:53 +0000 (Mon, 13 Nov 2006) | 1 line

bug 5179: DKIM plugin was adding blank line after headers when they use DOS style newlines
------------------------------------------------------------------------
r474215 | jm | 2006-11-13 09:36:31 +0000 (Mon, 13 Nov 2006) | 1 line

comment fix; keep_config_parsing_metadata is for a different script
------------------------------------------------------------------------
r474195 | jm | 2006-11-13 08:49:52 +0000 (Mon, 13 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r474081 | jm | 2006-11-12 22:48:14 +0000 (Sun, 12 Nov 2006) | 1 line

re-enable if_stack and a few others, depending on a Mail::SA ctor parameter, for listpromotable script to use
------------------------------------------------------------------------
r474078 | jm | 2006-11-12 22:36:43 +0000 (Sun, 12 Nov 2006) | 1 line

fix some code to access aliases only if there _are_ aliases present; avoids creation of empty lists
------------------------------------------------------------------------
r474077 | jm | 2006-11-12 22:36:05 +0000 (Sun, 12 Nov 2006) | 1 line

fix dumping code
------------------------------------------------------------------------
r474073 | jm | 2006-11-12 22:31:17 +0000 (Sun, 12 Nov 2006) | 1 line

delete the rules_to_replace flag hash once it's been used
------------------------------------------------------------------------
r474065 | jm | 2006-11-12 22:19:53 +0000 (Sun, 12 Nov 2006) | 1 line

damn Exporter not working
------------------------------------------------------------------------
r474063 | jm | 2006-11-12 22:17:08 +0000 (Sun, 12 Nov 2006) | 1 line

add MemoryDump debugging class, with helper methods to debug memory allocation and arena RAM usage (manually loaded)
------------------------------------------------------------------------
r474059 | jm | 2006-11-12 22:10:21 +0000 (Sun, 12 Nov 2006) | 1 line

reduce memory footprint by about 750KB by: deleting the source for compiled rulesets; deleting stuff used to parse config; compacting the descriptions hash into a single string, for more RAM-efficient but slower lookups
------------------------------------------------------------------------
r474003 | jm | 2006-11-12 17:37:25 +0000 (Sun, 12 Nov 2006) | 1 line

remove {tz} entry from Bayes object; no longer used
------------------------------------------------------------------------
r473987 | jm | 2006-11-12 16:54:04 +0000 (Sun, 12 Nov 2006) | 1 line

silence buggy crap from Text::Wrap
------------------------------------------------------------------------
r473908 | jm | 2006-11-12 08:49:53 +0000 (Sun, 12 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r473730 | jm | 2006-11-11 15:30:35 +0000 (Sat, 11 Nov 2006) | 1 line

bug 5116: 'header RULENAME header:raw' shouldn't strip spaces.  ensure it keeps a pristine copy of the header string for matching, and use the test added in the previous checkin (oops ;)
------------------------------------------------------------------------
r473728 | jm | 2006-11-11 15:28:35 +0000 (Sat, 11 Nov 2006) | 1 line

remove tests of rulesrc/core; this is no longer supported by mkrules so tests were breaking
------------------------------------------------------------------------
r473715 | jm | 2006-11-11 13:39:16 +0000 (Sat, 11 Nov 2006) | 1 line

reactivate make-style file modtime optimisation for build/mkrules, but fixed this time to deal with the case when an output file has been deleted; also, remove last vestiges of support for 'pubfile' declaration, and enforce output to only two files, 70_sandbox.cf and 72_active.cf.  refactor a little bit of common code, too
------------------------------------------------------------------------
r473669 | jm | 2006-11-11 08:49:53 +0000 (Sat, 11 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r473556 | sidney | 2006-11-10 22:50:54 +0000 (Fri, 10 Nov 2006) | 1 line

bug 3991: fix testing ssl options in wrong order. --ssl --port=n should disable listening on non-ssl inet port n
------------------------------------------------------------------------
r473262 | jm | 2006-11-10 08:49:57 +0000 (Fri, 10 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r473083 | jm | 2006-11-09 21:45:21 +0000 (Thu, 09 Nov 2006) | 1 line

bug 5147: add 'create new rules update after release' step to the 3.2.0 build process
------------------------------------------------------------------------
r473080 | jm | 2006-11-09 21:41:11 +0000 (Thu, 09 Nov 2006) | 1 line

bug 4931: avoid misleading 'uninitialized value' message
------------------------------------------------------------------------
r472994 | jm | 2006-11-09 17:57:54 +0000 (Thu, 09 Nov 2006) | 1 line

bug 5171: copy in distro-default .pre files into updates in order for sa-update lint checks to pass
------------------------------------------------------------------------
r472812 | jm | 2006-11-09 08:49:58 +0000 (Thu, 09 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r472539 | jm | 2006-11-08 16:46:05 +0000 (Wed, 08 Nov 2006) | 1 line

bug 5171: allow rules/*.pre files to be added to rules updates; otherwise none of the core eval-rule ruleset are defined, causing lots of lint failures
------------------------------------------------------------------------
r472426 | jm | 2006-11-08 08:49:55 +0000 (Wed, 08 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r472035 | jm | 2006-11-07 08:49:55 +0000 (Tue, 07 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r471778 | jm | 2006-11-06 16:08:05 +0000 (Mon, 06 Nov 2006) | 1 line

it should be possible to listen on both SSL and UNIX domain sockets
------------------------------------------------------------------------
r471670 | jm | 2006-11-06 08:49:55 +0000 (Mon, 06 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r471380 | jm | 2006-11-05 08:49:56 +0000 (Sun, 05 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r471141 | jm | 2006-11-04 08:49:57 +0000 (Sat, 04 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r471136 | duncf | 2006-11-04 07:43:48 +0000 (Sat, 04 Nov 2006) | 3 lines

Bug 5166: Close temp files instead of just deleting the filehandles
when we clean up MIME parts.

------------------------------------------------------------------------
r471135 | duncf | 2006-11-04 07:40:56 +0000 (Sat, 04 Nov 2006) | 4 lines

Fix logic error when determining whether to create SSL sockets, also a
few other SSL related cleanups -- changing $opt{'ssl'} to $listen_ssl
now that we can use ssl with --ssl-port and this may not require --ssl.

------------------------------------------------------------------------
r470939 | jm | 2006-11-03 18:40:46 +0000 (Fri, 03 Nov 2006) | 1 line

bug 5140: fix parsing of DK tags, tags are case-sensitive, and whitespace may appear before and after tag name and value.  let DK_POLICY_TESTING be true if t=y appears in a public key, even when policy record is not fetched.  thanks to Mark Martinec <Mark.Martinec /at/ ijs.si>
------------------------------------------------------------------------
r470935 | jm | 2006-11-03 18:32:30 +0000 (Fri, 03 Nov 2006) | 1 line

bug 5165: 'sa-update --checkonly' added to check for updates without applying them; thanks to <anomie /at/ users.sourceforge.net>
------------------------------------------------------------------------
r470934 | jm | 2006-11-03 18:31:00 +0000 (Fri, 03 Nov 2006) | 1 line

bug 3991: spamd can now listen on UNIX domain, TCP, and SSL sockets simultaneously.  Command-line semantics extended slightly, although fully backwards compatibly; add the --ssl-port switch to allow TCP and SSL listening at the same time
------------------------------------------------------------------------
r470927 | jm | 2006-11-03 17:55:45 +0000 (Fri, 03 Nov 2006) | 1 line

no point hanging around waiting for spamd when there are obvious errors
------------------------------------------------------------------------
r470724 | jm | 2006-11-03 08:49:57 +0000 (Fri, 03 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r470533 | jm | 2006-11-02 21:39:39 +0000 (Thu, 02 Nov 2006) | 1 line

bug 5140: improvements to DomainKeys support, thanks to Mark Martinec: improve debugging; avoid fetching DK policy when the signature is valid (verifies), as required by draft-delany-domainkeys-base-06; avoid sanitizing header (stripping away trailing header fields likely to be inserted by LDA or MUA) when signature header contains a h tag, which explicitly lists header fields which were included in signature calculation.
------------------------------------------------------------------------
r470280 | jm | 2006-11-02 08:49:57 +0000 (Thu, 02 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r470240 | duncf | 2006-11-02 06:11:32 +0000 (Thu, 02 Nov 2006) | 2 lines

Bug 4688: Avoid uninitialized value error

------------------------------------------------------------------------
r469928 | jm | 2006-11-01 15:18:14 +0000 (Wed, 01 Nov 2006) | 1 line

clean up this warning a bit more
------------------------------------------------------------------------
r469912 | jm | 2006-11-01 14:07:33 +0000 (Wed, 01 Nov 2006) | 1 line

need a newline on this warning
------------------------------------------------------------------------
r469910 | jm | 2006-11-01 14:06:22 +0000 (Wed, 01 Nov 2006) | 1 line

bug 5125: shorten some padding to fit into 78 chars neatly
------------------------------------------------------------------------
r469909 | jm | 2006-11-01 14:04:23 +0000 (Wed, 01 Nov 2006) | 1 line

bug 5125: a little nicer formatting
------------------------------------------------------------------------
r469907 | jm | 2006-11-01 13:59:38 +0000 (Wed, 01 Nov 2006) | 1 line

bug 5125: add a 'text format' button for freqs tables in the ruleqa app so that freqs can be pasted nicely
------------------------------------------------------------------------
r469901 | jm | 2006-11-01 13:35:28 +0000 (Wed, 01 Nov 2006) | 1 line

bug 4342: fix hotmail.com FPs on MSGID_FROM_MTA_HEADER, thanks Bob Menschel
------------------------------------------------------------------------
r469868 | jm | 2006-11-01 11:32:26 +0000 (Wed, 01 Nov 2006) | 1 line

nicer wording
------------------------------------------------------------------------
r469866 | jm | 2006-11-01 11:31:08 +0000 (Wed, 01 Nov 2006) | 1 line

hide now-superceded 'Which Corpus?' section of the form; expose detail checkbox
------------------------------------------------------------------------
r469865 | jm | 2006-11-01 11:27:50 +0000 (Wed, 01 Nov 2006) | 1 line

fix tag-missing typo
------------------------------------------------------------------------
r469862 | jm | 2006-11-01 11:25:25 +0000 (Wed, 01 Nov 2006) | 1 line

avoid unavailable data crashing the entire script
------------------------------------------------------------------------
r469858 | jm | 2006-11-01 11:20:30 +0000 (Wed, 01 Nov 2006) | 1 line

include a bit more overlap data in results
------------------------------------------------------------------------
r469848 | jm | 2006-11-01 10:34:58 +0000 (Wed, 01 Nov 2006) | 1 line

add more documentation about the 'X-Spam-Relays-*' pseudo-headers, which were woefully under-docced in the POD
------------------------------------------------------------------------
r469826 | jm | 2006-11-01 08:49:58 +0000 (Wed, 01 Nov 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r469501 | jm | 2006-10-31 14:34:29 +0000 (Tue, 31 Oct 2006) | 1 line

update MANIFEST
------------------------------------------------------------------------
r469477 | parker | 2006-10-31 13:26:22 +0000 (Tue, 31 Oct 2006) | 4 lines

Move rule functionality and checking into separate Check plugin.

Bug: 4776

------------------------------------------------------------------------
r469416 | jm | 2006-10-31 08:50:00 +0000 (Tue, 31 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r469094 | jm | 2006-10-30 08:50:00 +0000 (Mon, 30 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r468845 | jm | 2006-10-29 08:50:00 +0000 (Sun, 29 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r468663 | jm | 2006-10-28 08:50:00 +0000 (Sat, 28 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r468385 | jm | 2006-10-27 13:54:38 +0000 (Fri, 27 Oct 2006) | 1 line

bug 4681: work around race condition between Makefile.PL and the generated file rules/72_active.cf; create the file at Makefile.PL time, so that it will be installed and to silence a silly warning
------------------------------------------------------------------------
r468374 | jm | 2006-10-27 13:31:58 +0000 (Fri, 27 Oct 2006) | 1 line

trivial fix for bug 5134: fix error in sa-update's warning issued on missing/unsigned/untrusted GPG key, so that it refers to 'sa-update --import' instead of 'gpg --import'
------------------------------------------------------------------------
r468372 | jm | 2006-10-27 13:28:00 +0000 (Fri, 27 Oct 2006) | 1 line

bug 4628: remove the poorly-performing RFC-ignorant subrules, turning them into informational-only, zero-scoring meta subrules: DNS_FROM_RFC_POST, DNS_FROM_RFC_ABUSE, DNS_FROM_RFC_WHOIS
------------------------------------------------------------------------
r468321 | jm | 2006-10-27 08:50:01 +0000 (Fri, 27 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r467919 | jm | 2006-10-26 08:50:01 +0000 (Thu, 26 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r467702 | jm | 2006-10-25 16:17:18 +0000 (Wed, 25 Oct 2006) | 1 line

bug 5115: make Net::DNS a required module; so many good rules require it that we should try to make it the default
------------------------------------------------------------------------
r467658 | jm | 2006-10-25 14:01:16 +0000 (Wed, 25 Oct 2006) | 1 line

meta rules had a side-effect of setting the tests_already_hit entry for their subrules to 0; however, the DNSBL rules assumed that if an entry was defined (even 0), the rule had already run.  this is normally invisible, due to rule ordering, but with Shortcircuiting, it became obvious since metas could then be run before dnsbl completion.  fix, and add test
------------------------------------------------------------------------
r467632 | jm | 2006-10-25 13:05:20 +0000 (Wed, 25 Oct 2006) | 1 line

fix test failure in t/trust_path.t caused by mimeheader rule generated methods not being freed up by Mail::SA::finish()
------------------------------------------------------------------------
r467629 | jm | 2006-10-25 12:57:25 +0000 (Wed, 25 Oct 2006) | 1 line

add public API to allow plugins to add methods to @TEMPORARY_METHODS.  Michael, may need to redo parts of this with backporting from yr branch, but it's required in trunk to fix a test failure here
------------------------------------------------------------------------
r467582 | jm | 2006-10-25 08:50:02 +0000 (Wed, 25 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r467393 | jm | 2006-10-24 17:28:03 +0000 (Tue, 24 Oct 2006) | 1 line

turn off use of '-Wextra -Wdeclaration-after-statement' in spamc build files; gcc 3.3.x doesn't support them
------------------------------------------------------------------------
r467391 | jm | 2006-10-24 17:16:22 +0000 (Tue, 24 Oct 2006) | 1 line

insert temporary deletion of unwanted rule file; remove this before releasing 3.2.0
------------------------------------------------------------------------
r467354 | jm | 2006-10-24 15:17:46 +0000 (Tue, 24 Oct 2006) | 1 line

more efficient to use a meta rule than a /.*/ match for JAPANESE_UCE_BODY
------------------------------------------------------------------------
r467332 | jm | 2006-10-24 13:47:10 +0000 (Tue, 24 Oct 2006) | 1 line

rules/70_inactive.cf is history; make 'make clean' remove it
------------------------------------------------------------------------
r467064 | jm | 2006-10-23 18:19:33 +0000 (Mon, 23 Oct 2006) | 1 line

MIME_BASE64_NO_NAME gone; remove 'mime_base64_no_name' flag in plugin
------------------------------------------------------------------------
r467061 | jm | 2006-10-23 18:16:14 +0000 (Mon, 23 Oct 2006) | 1 line

reinstate HEAD_LONG scores etc. and mark all of those rules as 'userconf' so they can't get lost again
------------------------------------------------------------------------
r467057 | jm | 2006-10-23 18:13:28 +0000 (Mon, 23 Oct 2006) | 1 line

reinstate HEAD_LONG; it's a very rare, but important-to-catch case
------------------------------------------------------------------------
r467056 | jm | 2006-10-23 18:10:11 +0000 (Mon, 23 Oct 2006) | 1 line

remove check_html_uri_only(), since URI_HTML_ONLY is gone
------------------------------------------------------------------------
r467055 | jm | 2006-10-23 18:09:44 +0000 (Mon, 23 Oct 2006) | 1 line

remove check_unique_words(), since UNIQUE_WORDS is gone
------------------------------------------------------------------------
r467054 | jm | 2006-10-23 18:08:30 +0000 (Mon, 23 Oct 2006) | 1 line

remove check_for_from_to_same(), since FROM_AND_TO_SAME is gone
------------------------------------------------------------------------
r467053 | jm | 2006-10-23 18:07:03 +0000 (Mon, 23 Oct 2006) | 1 line

remove message_id_from_mta(), since MSGID_FROM_MTA_ID is gone
------------------------------------------------------------------------
r467052 | jm | 2006-10-23 18:06:28 +0000 (Mon, 23 Oct 2006) | 1 line

remove check_for_forged_received_helo(), since FORGED_RCVD_HELO is gone
------------------------------------------------------------------------
r467051 | jm | 2006-10-23 18:04:09 +0000 (Mon, 23 Oct 2006) | 1 line

reinstate NORMAL_HTTP_TO_IP; there are lint errors without it since sandbox rules use it
------------------------------------------------------------------------
r467046 | jm | 2006-10-23 17:55:36 +0000 (Mon, 23 Oct 2006) | 1 line

bug 5123: remove DOMAIN_RATIO
------------------------------------------------------------------------
r467043 | jm | 2006-10-23 17:38:40 +0000 (Mon, 23 Oct 2006) | 1 line

bug 5123: remove more rules, and convert some other rules into meta subrules so that existing metas can still use them as such
------------------------------------------------------------------------
r467038 | jm | 2006-10-23 17:26:24 +0000 (Mon, 23 Oct 2006) | 1 line

bug 5123: trim 220 rules from the core ruleset that no longer hit enough spam; move them from the core rules files in rules/ to the (commented) rulesrc/sandbox/jm/70_dead_rules_bug_5123.cf. feel free to rehabilitate any you feel sorry for
------------------------------------------------------------------------
r467025 | jm | 2006-10-23 16:54:12 +0000 (Mon, 23 Oct 2006) | 1 line

remove a couple of captures
------------------------------------------------------------------------
r466366 | jm | 2006-10-21 08:50:04 +0000 (Sat, 21 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r466147 | jm | 2006-10-20 15:14:10 +0000 (Fri, 20 Oct 2006) | 1 line

bug 5123: first step of reducing rules project complexity. move the core rules back from "rulesrc/core" external simply into "rules", so they become version-dependent again.  this is a pristine mv, no changes
------------------------------------------------------------------------
r466144 | jm | 2006-10-20 15:12:13 +0000 (Fri, 20 Oct 2006) | 1 line

don't remove rules files on make clean
------------------------------------------------------------------------
r466141 | jm | 2006-10-20 15:07:22 +0000 (Fri, 20 Oct 2006) | 1 line

bug 5123: first step of reducing rules project complexity. move the core rules back from "rulesrc/core" external simply into "rules", so they become version-dependent again.  this is a pristine mv, no changes
------------------------------------------------------------------------
r466135 | jm | 2006-10-20 14:56:14 +0000 (Fri, 20 Oct 2006) | 1 line

remove obsolete STATUS file
------------------------------------------------------------------------
r466133 | jm | 2006-10-20 14:52:48 +0000 (Fri, 20 Oct 2006) | 1 line

remove obsolete BUGS file
------------------------------------------------------------------------
r466038 | jm | 2006-10-20 08:54:00 +0000 (Fri, 20 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r465748 | felicity | 2006-10-19 19:42:22 +0000 (Thu, 19 Oct 2006) | 1 line

bug 5141: reduce the memory usage during 'mass-check -n' by reusing an array reference instead of copying all the data around
------------------------------------------------------------------------
r465626 | jm | 2006-10-19 13:55:38 +0000 (Thu, 19 Oct 2006) | 1 line

stupid zone.  SVN there is too old, so just use -r magic instead of svn log --limit
------------------------------------------------------------------------
r465583 | jm | 2006-10-19 11:45:58 +0000 (Thu, 19 Oct 2006) | 1 line

ah, much better; just don't provide 'svn log' info, who-checked-in and commit-message details, for changes after 500 revisions ago.  speeds up the process of getting mass-checks onto the ruleqa website by quite a lot
------------------------------------------------------------------------
r465550 | jm | 2006-10-19 10:18:21 +0000 (Thu, 19 Oct 2006) | 1 line

this seems to be taking insane amounts of time.  log timestamps to figure out how much, exactly
------------------------------------------------------------------------
r465535 | jm | 2006-10-19 08:53:58 +0000 (Thu, 19 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r465285 | jm | 2006-10-18 16:10:03 +0000 (Wed, 18 Oct 2006) | 1 line

recording the if_stack seems to be vestigial; I can't find any code that uses it
------------------------------------------------------------------------
r465206 | jm | 2006-10-18 10:56:12 +0000 (Wed, 18 Oct 2006) | 1 line

bug 5127: allow mimeheader :raw rules to match newlines and folded-header whitespace  in MIME header strings
------------------------------------------------------------------------
r465198 | jm | 2006-10-18 10:19:57 +0000 (Wed, 18 Oct 2006) | 1 line

add --cf switch to spamassassin, spamd, and sa-learn.  This allows the user to provide additional lines of configuration (or rules) directly from the command-line; surprisingly handy
------------------------------------------------------------------------
r465196 | jm | 2006-10-18 10:13:59 +0000 (Wed, 18 Oct 2006) | 1 line

don't use the raw string 'meta', it causes warnings about unquoted strings clashing with future reserved words
------------------------------------------------------------------------
r465192 | jm | 2006-10-18 10:07:44 +0000 (Wed, 18 Oct 2006) | 1 line

limit preflight mass-checks to max 6-month-old mail; it's too slow otherwise
------------------------------------------------------------------------
r465178 | jm | 2006-10-18 08:53:56 +0000 (Wed, 18 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r464889 | jm | 2006-10-17 10:07:32 +0000 (Tue, 17 Oct 2006) | 1 line

more over-verbosity and redundant debug noise
------------------------------------------------------------------------
r464886 | jm | 2006-10-17 10:06:18 +0000 (Tue, 17 Oct 2006) | 1 line

silence more over-verbose debugs; eval-rule noise can be recovered, if you still want it in future, by using '-Deval' switch
------------------------------------------------------------------------
r464885 | jm | 2006-10-17 09:58:51 +0000 (Tue, 17 Oct 2006) | 1 line

remove annoying and totally superfluous debug noise
------------------------------------------------------------------------
r464864 | jm | 2006-10-17 08:53:55 +0000 (Tue, 17 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r464600 | jm | 2006-10-16 18:09:09 +0000 (Mon, 16 Oct 2006) | 1 line

oops, typo
------------------------------------------------------------------------
r464598 | jm | 2006-10-16 18:07:56 +0000 (Mon, 16 Oct 2006) | 1 line

optimisation; no need for mass-check to even open mail files that have a modtime older than the --after date
------------------------------------------------------------------------
r464579 | jm | 2006-10-16 17:37:53 +0000 (Mon, 16 Oct 2006) | 1 line

ugh.  if we are going to report tflags as rulemetadata, the script that reads the rules has to read rules from the 'rules' dir, too
------------------------------------------------------------------------
r464565 | jm | 2006-10-16 17:04:05 +0000 (Mon, 16 Oct 2006) | 1 line

bug 5047: rule-qa: don't list network rules in non-net mass-checks, even if the mass-checker had --net enabled, since it 'dilutes' their hit stats too much otherwise
------------------------------------------------------------------------
r464541 | jm | 2006-10-16 16:08:38 +0000 (Mon, 16 Oct 2006) | 1 line

bug 5113: stop checking in the entire unpacked distro tree as /full/3.1.x/dist/ .  instead just check in the doc/ subdirectory, and redirect to public SVN for the rest
------------------------------------------------------------------------
r464484 | jm | 2006-10-16 13:28:25 +0000 (Mon, 16 Oct 2006) | 1 line

bug 4594: add possible workaround for the rare 'ordered child to accept, but they reported state '1'' bug; unclear if this works
------------------------------------------------------------------------
r464482 | jm | 2006-10-16 13:25:58 +0000 (Mon, 16 Oct 2006) | 1 line

fix Sidney's bug; if a meta rule is defined in one rulesrc file, but it depends on another rules defined in other, lexically-later files, and the meta rule is promoted but the dependency rules are not, then the generated code will omit the dependency rule from the active set incorrectly.  fix, and add test case
------------------------------------------------------------------------
r464418 | jm | 2006-10-16 08:53:53 +0000 (Mon, 16 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r464317 | jm | 2006-10-15 22:50:37 +0000 (Sun, 15 Oct 2006) | 1 line

bug 4331: change S value to be 0.03, which reduces FPs and FNs at the ends of the Bayes score range, at the cost of increasing 'unsure' cases.  since unsure means BAYES_50, no points, we easily make up for those with other rules, so this works better for us
------------------------------------------------------------------------
r464289 | jm | 2006-10-15 20:54:56 +0000 (Sun, 15 Oct 2006) | 1 line

add note about 'svn copy' buglet
------------------------------------------------------------------------
r464144 | jm | 2006-10-15 08:53:50 +0000 (Sun, 15 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r463901 | jm | 2006-10-14 08:53:47 +0000 (Sat, 14 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r463766 | jm | 2006-10-13 18:20:41 +0000 (Fri, 13 Oct 2006) | 1 line

previous change to mkrules was causing good rules to be sent to the sandbox file, since they shared the same section key as 'test' lines.  fix this by making 'test' lines individually-keyed, totally separate from rules
------------------------------------------------------------------------
r463763 | jm | 2006-10-13 18:19:24 +0000 (Fri, 13 Oct 2006) | 1 line

log the rule names hit, important to diagnose test failures
------------------------------------------------------------------------
r463742 | jm | 2006-10-13 17:24:31 +0000 (Fri, 13 Oct 2006) | 1 line

bug 5129: remove 'test' lines from rules/72_active.cf, make sure they always go to sandbox.cf where possible
------------------------------------------------------------------------
r463731 | jm | 2006-10-13 16:27:28 +0000 (Fri, 13 Oct 2006) | 1 line

trivial; warn if msgid values are not what's expected, with the real value
------------------------------------------------------------------------
r463597 | jm | 2006-10-13 08:53:45 +0000 (Fri, 13 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r463409 | jm | 2006-10-12 20:16:35 +0000 (Thu, 12 Oct 2006) | 1 line

bug 5124: use scoreset 1 in hit-frequencies invocations for *-net-* mass-check logs
------------------------------------------------------------------------
r463235 | jm | 2006-10-12 13:02:44 +0000 (Thu, 12 Oct 2006) | 1 line

'publish NAMEOFRULE' was not forcing rules into 72_active.cf.  fixed
------------------------------------------------------------------------
r463204 | jm | 2006-10-12 11:29:49 +0000 (Thu, 12 Oct 2006) | 1 line

round up 'N of N messages' tooltips
------------------------------------------------------------------------
r463162 | jm | 2006-10-12 08:53:42 +0000 (Thu, 12 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r462735 | jm | 2006-10-11 08:53:40 +0000 (Wed, 11 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r462698 | parker | 2006-10-11 05:12:26 +0000 (Wed, 11 Oct 2006) | 1 line

get rid of dupe
------------------------------------------------------------------------
r454705 | jm | 2006-10-10 11:26:15 +0000 (Tue, 10 Oct 2006) | 1 line

fix some bugs in build procedure; the '3.1.X RELEASED' commit was never working, and the website-update step had some no-ops and obscure messages in it.  backmerge some changes from 3.2.0 trunk regarding spec file updating.  update procedure to match what we're actually doing these days re the announce mail, tarball voting, and the voting requirements.  add note about new PAUSE behaviour.  adopt new means of editing the announce mail, and keeping it in SVN
------------------------------------------------------------------------
r454704 | jm | 2006-10-10 11:26:00 +0000 (Tue, 10 Oct 2006) | 1 line

fix some bugs in build procedure; the '3.1.X RELEASED' commit was never working, and the website-update step had some no-ops and obscure messages in it.  backmerge some changes from 3.2.0 trunk regarding spec file updating.  update procedure to match what we're actually doing these days re the announce mail, tarball voting, and the voting requirements.  add note about new PAUSE behaviour.  adopt new means of editing the announce mail, and keeping it in SVN
------------------------------------------------------------------------
r454685 | jm | 2006-10-10 10:36:02 +0000 (Tue, 10 Oct 2006) | 1 line

build step bug; files were not being made g+w correctly
------------------------------------------------------------------------
r454665 | jm | 2006-10-10 08:53:38 +0000 (Tue, 10 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r454510 | jm | 2006-10-09 21:04:19 +0000 (Mon, 09 Oct 2006) | 1 line

bug 4777: finish_tests() shouldn't need to know about the internal structure of rule storage to delete the generated-code methods; instead, just store their names in an array when they're created
------------------------------------------------------------------------
r454311 | jm | 2006-10-09 08:53:37 +0000 (Mon, 09 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r454103 | jm | 2006-10-08 08:53:36 +0000 (Sun, 08 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r454082 | dos | 2006-10-08 05:55:00 +0000 (Sun, 08 Oct 2006) | 1 line

bug 5119: revert r452711 change that breaks sa-update
------------------------------------------------------------------------
r453869 | jm | 2006-10-07 08:53:33 +0000 (Sat, 07 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r453533 | jm | 2006-10-06 08:53:32 +0000 (Fri, 06 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r453148 | jm | 2006-10-05 08:53:29 +0000 (Thu, 05 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r452849 | jm | 2006-10-04 11:35:49 +0000 (Wed, 04 Oct 2006) | 1 line

bug 4304: in some setups, eg where a plugin implements 'spamd_child_init' with a long-running task, it's possible for child spamd processes to take too long to exit when the parent spamd is killed with SIGINT or SIGTERM.  if the caller then starts a new spamd immediately, it will die with 'address already in use', since the old children are still running.  Fix this race by unblocking the signals as soon as possible in child spamds after they are forked, and before calling the plugin hook; also add test cases
------------------------------------------------------------------------
r452799 | jm | 2006-10-04 08:53:28 +0000 (Wed, 04 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r452729 | dos | 2006-10-04 05:00:59 +0000 (Wed, 04 Oct 2006) | 1 line

add contrib/check_spamd to MANIFEST
------------------------------------------------------------------------
r452711 | dos | 2006-10-04 03:55:47 +0000 (Wed, 04 Oct 2006) | 1 line

bug 5044: include local site config in sa-update lint checks
------------------------------------------------------------------------
r452674 | dos | 2006-10-03 23:21:13 +0000 (Tue, 03 Oct 2006) | 1 line

bug 5105: M::SA::Client doesn't always catch failed connection to spamd, fixed
------------------------------------------------------------------------
r452352 | jm | 2006-10-03 08:53:24 +0000 (Tue, 03 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r451918 | jm | 2006-10-02 08:53:23 +0000 (Mon, 02 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r451725 | jm | 2006-10-01 08:53:21 +0000 (Sun, 01 Oct 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r451665 | dos | 2006-09-30 21:05:10 +0000 (Sat, 30 Sep 2006) | 1 line

bug 4975: avoid use of unit'd value in prefork warning message
------------------------------------------------------------------------
r451561 | jm | 2006-09-30 08:53:20 +0000 (Sat, 30 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r451551 | dos | 2006-09-30 06:30:01 +0000 (Sat, 30 Sep 2006) | 1 line

bug 4940: _get_date_header_time() should try dates one at a time not all dates joined together
------------------------------------------------------------------------
r451385 | dos | 2006-09-29 18:57:00 +0000 (Fri, 29 Sep 2006) | 1 line

bug 5080: fix bug in update RCVD_ILLEGAL_IP evaltest to properly deal with 127/8 fix
------------------------------------------------------------------------
r451380 | dos | 2006-09-29 18:35:17 +0000 (Fri, 29 Sep 2006) | 1 line

bug 5094: check for unit'd value used in AntiVirus.pm
------------------------------------------------------------------------
r451280 | jm | 2006-09-29 13:15:09 +0000 (Fri, 29 Sep 2006) | 1 line

try to work around horribleness when checking in the entire built tree for the website update procedure
------------------------------------------------------------------------
r451174 | jm | 2006-09-29 08:53:18 +0000 (Fri, 29 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r450957 | dos | 2006-09-28 18:18:21 +0000 (Thu, 28 Sep 2006) | 1 line

bug 5111: fix FORGED_JUNO_RCVD FP on webmail from untd.com's own systems
------------------------------------------------------------------------
r450763 | jm | 2006-09-28 08:53:18 +0000 (Thu, 28 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r450381 | jm | 2006-09-27 08:53:15 +0000 (Wed, 27 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r449951 | jm | 2006-09-26 08:53:12 +0000 (Tue, 26 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r449897 | dos | 2006-09-26 04:28:00 +0000 (Tue, 26 Sep 2006) | 1 line

bah! forgot to remove no longer used hash
------------------------------------------------------------------------
r449894 | dos | 2006-09-26 04:23:53 +0000 (Tue, 26 Sep 2006) | 1 line

add my nagios plugin for monitoring spamd to contrib/
------------------------------------------------------------------------
r449613 | jm | 2006-09-25 08:53:11 +0000 (Mon, 25 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r449380 | jm | 2006-09-24 08:53:11 +0000 (Sun, 24 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r449210 | jm | 2006-09-23 08:53:07 +0000 (Sat, 23 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r448867 | jm | 2006-09-22 08:53:07 +0000 (Fri, 22 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r448496 | jm | 2006-09-21 08:53:06 +0000 (Thu, 21 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r448127 | jm | 2006-09-20 08:53:03 +0000 (Wed, 20 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r447784 | jm | 2006-09-19 08:53:02 +0000 (Tue, 19 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r447324 | jm | 2006-09-18 08:53:00 +0000 (Mon, 18 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r447269 | dos | 2006-09-18 06:01:27 +0000 (Mon, 18 Sep 2006) | 1 line

bug 5089: enable adding headers with single digit zero value
------------------------------------------------------------------------
r447024 | jm | 2006-09-17 08:52:59 +0000 (Sun, 17 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r447017 | felicity | 2006-09-17 04:58:06 +0000 (Sun, 17 Sep 2006) | 1 line

during Received header parsing, we need an IP address, so if there doesn't appear to be one in the header, don't bother running the rest of the code.
------------------------------------------------------------------------
r447014 | felicity | 2006-09-17 04:32:19 +0000 (Sun, 17 Sep 2006) | 1 line

do a bunch of work on the Received header parsing code, catch all of my unparseable ham headers, streamline the received header test, add in more headers to test, etc.  make more of an API for parse_received_header(), return undef for failed to parse, 0 for parsed and ignored, and a hash reference if parsed.
------------------------------------------------------------------------
r446834 | jm | 2006-09-16 08:52:58 +0000 (Sat, 16 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r446790 | felicity | 2006-09-15 23:55:22 +0000 (Fri, 15 Sep 2006) | 1 line

bug 5101: fix bug in mbx parsing, also update the MBX_SEPARATOR RE to anchor at start and end of lines, which should make things faster.
------------------------------------------------------------------------
r446553 | jm | 2006-09-15 08:52:55 +0000 (Fri, 15 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r443288 | jm | 2006-09-14 08:52:54 +0000 (Thu, 14 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r442902 | jm | 2006-09-13 08:52:53 +0000 (Wed, 13 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r442679 | jm | 2006-09-12 19:31:22 +0000 (Tue, 12 Sep 2006) | 1 line

bug 5098: add support for ecelerity Received headers, thanks to Joe Schaefer <joe+gmane at sunstarsys.com>
------------------------------------------------------------------------
r442528 | jm | 2006-09-12 08:52:51 +0000 (Tue, 12 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r442231 | felicity | 2006-09-11 14:29:09 +0000 (Mon, 11 Sep 2006) | 1 line

doh, elsif, not else ... typo in Conf::Parser
------------------------------------------------------------------------
r442014 | felicity | 2006-09-10 21:59:20 +0000 (Sun, 10 Sep 2006) | 1 line

bug 4463: allow dns_available to accept 0 and 1 as no and yes alternates
------------------------------------------------------------------------
r442013 | felicity | 2006-09-10 21:50:23 +0000 (Sun, 10 Sep 2006) | 1 line

bug 4462: allow yes and no to mean 1 and 0 for boolean values
------------------------------------------------------------------------
r441933 | jm | 2006-09-10 08:52:47 +0000 (Sun, 10 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r441913 | felicity | 2006-09-10 05:51:32 +0000 (Sun, 10 Sep 2006) | 1 line

bug 4418: remove HTML_LINK_IMAGE_BUG and HTML_WEB_BUGS rules due to bad performance
------------------------------------------------------------------------
r441887 | felicity | 2006-09-10 02:08:39 +0000 (Sun, 10 Sep 2006) | 1 line

add in a post_config_text option to M::SA::new() which adds the text to the end of the read-in configs, allowing for overrides of things like use_bayes and bayes_path.  the previous fix for bug 4206 broke sa-learn options which used to ignore use_bayes.  bug 3799: sa-learn --dbpath was accessing the configured bayes_path, then overrode the setting for further use.  however, that means we end up touching the configured db before overriding to the one requested.  use the new post_config_text to get around that.
------------------------------------------------------------------------
r441763 | jm | 2006-09-09 08:52:45 +0000 (Sat, 09 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r441496 | jm | 2006-09-08 13:54:00 +0000 (Fri, 08 Sep 2006) | 1 line

bug 4928: document max message size limit in spamc; increase from a very arbitrary 9999999 bytes to a much harder-to-hit 250MB; and make it an explicit upper limit in spamc command-line UI.  Also, change exit code for this condition to a more appropriate EX_DATAERR if the message is too large
------------------------------------------------------------------------
r441440 | jm | 2006-09-08 08:52:44 +0000 (Fri, 08 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r441028 | jm | 2006-09-07 08:52:42 +0000 (Thu, 07 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r440974 | dos | 2006-09-07 04:48:24 +0000 (Thu, 07 Sep 2006) | 1 line

bug 5077: fix false SPF_SOFTFAIL's when SPF queries timeout
------------------------------------------------------------------------
r440954 | dos | 2006-09-07 02:53:55 +0000 (Thu, 07 Sep 2006) | 1 line

avoid uninit'd value warnings when warning about bad (missing) regex patterns
------------------------------------------------------------------------
r440811 | jm | 2006-09-06 18:00:53 +0000 (Wed, 06 Sep 2006) | 1 line

bug 4768: be aggressive about keeping C++-style // comments out of libspamc, and use paranoid -Wflags if gcc is in use
------------------------------------------------------------------------
r440658 | jm | 2006-09-06 08:52:41 +0000 (Wed, 06 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r440575 | felicity | 2006-09-06 02:24:57 +0000 (Wed, 06 Sep 2006) | 1 line

use temp files for mime parts that we're unlikely to use during processing, and fall-back to memory-only if it's not going to work out.  also, use a scalar to hold the decoded information.
------------------------------------------------------------------------
r440475 | felicity | 2006-09-05 20:36:14 +0000 (Tue, 05 Sep 2006) | 1 line

bug 4825: in M::SA::Client strip the CRLF off the end of the server response line, revert ping code to look for 'PONG' as opposed to an RE
------------------------------------------------------------------------
r440471 | felicity | 2006-09-05 20:15:56 +0000 (Tue, 05 Sep 2006) | 1 line

decided to add a public function to set the rendered information instead of expecting plugins to nastily muck with our internal data...  bad juju.
------------------------------------------------------------------------
r440464 | felicity | 2006-09-05 20:01:28 +0000 (Tue, 05 Sep 2006) | 1 line

set the default rendered type for a part to text/plain if it wasn't already set to something else
------------------------------------------------------------------------
r440453 | felicity | 2006-09-05 19:30:37 +0000 (Tue, 05 Sep 2006) | 1 line

bug 5069: add in post_message_parse plugin call, and support for having non-text parts with rendered text.  this will allow a plugin for OCR to put the rendered text into the part and have it used automatically in body tests.   also, handle certain non-standard content-types, limit internal rendering to just text/plain and text/html.
------------------------------------------------------------------------
r440389 | jm | 2006-09-05 16:38:00 +0000 (Tue, 05 Sep 2006) | 1 line

fix misplaced documentation; --ipv4only should not appear in the middle of the documentation for --debug
------------------------------------------------------------------------
r440298 | jm | 2006-09-05 08:52:40 +0000 (Tue, 05 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r440256 | felicity | 2006-09-05 04:37:35 +0000 (Tue, 05 Sep 2006) | 1 line

If a message part is subparsed, properly handle the fact that the part is not a leaf node (remove raw and decoded data)
------------------------------------------------------------------------
r440126 | jm | 2006-09-04 17:22:36 +0000 (Mon, 04 Sep 2006) | 1 line

bug 5040: if in no-net scoreset, don't warn about net rules being zero-score dependencies of meta rules
------------------------------------------------------------------------
r440125 | jm | 2006-09-04 17:21:42 +0000 (Mon, 04 Sep 2006) | 1 line

bug 5063: rules that use plugins from the sandboxes, should not be promoted to 72_active.cf.  Instead keep them in 70_sandbox.cf
------------------------------------------------------------------------
r440107 | jm | 2006-09-04 15:28:18 +0000 (Mon, 04 Sep 2006) | 1 line

turn off Bayes and AWL during preflight mass-checks
------------------------------------------------------------------------
r440094 | jm | 2006-09-04 14:44:41 +0000 (Mon, 04 Sep 2006) | 1 line

oops, typo. fix mass-check to run again
------------------------------------------------------------------------
r440086 | jm | 2006-09-04 14:18:21 +0000 (Mon, 04 Sep 2006) | 1 line

memory leak in long-running scan processes using the URIBL rules; their callback closures were not being deleted after each message was scanned.  Fixed, and fixed in such a way that plugins don't have to worry about those; they'll just be cleaned up by Mail::SpamAssassin::PerMsgStatus::check()
------------------------------------------------------------------------
r440085 | jm | 2006-09-04 14:15:36 +0000 (Mon, 04 Sep 2006) | 1 line

add commented-out section of code for developers looking for memory leaks in future
------------------------------------------------------------------------
r440079 | jm | 2006-09-04 13:56:21 +0000 (Mon, 04 Sep 2006) | 1 line

change URI parsing messages -- 3 lines per URI -- to be silent in default debug mode, only active with '-D uri'
------------------------------------------------------------------------
r440066 | jm | 2006-09-04 13:18:46 +0000 (Mon, 04 Sep 2006) | 1 line

bug 5081: sometimes, SIGHUPing spamd would leave one child process still alive due to a race in the SIGHUP handler and the preforking code.  fixed
------------------------------------------------------------------------
r439993 | jm | 2006-09-04 09:30:53 +0000 (Mon, 04 Sep 2006) | 1 line

add a no-op finish() API, in case users were calling it as a public API
------------------------------------------------------------------------
r439982 | jm | 2006-09-04 08:52:37 +0000 (Mon, 04 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r439926 | felicity | 2006-09-04 04:28:16 +0000 (Mon, 04 Sep 2006) | 1 line

bug 5076: unescape hash characters in the config
------------------------------------------------------------------------
r439916 | felicity | 2006-09-04 03:45:52 +0000 (Mon, 04 Sep 2006) | 1 line

bug 5080: update RCVD_ILLEGAL_IP evaltest to properly deal with 127/8
------------------------------------------------------------------------
r439873 | felicity | 2006-09-03 23:36:38 +0000 (Sun, 03 Sep 2006) | 1 line

try to simplify URIDNSBL a bit -- just use PMS to store data instead of some hash w/ multiple excess reference pointers, etc.
------------------------------------------------------------------------
r439872 | felicity | 2006-09-03 23:07:59 +0000 (Sun, 03 Sep 2006) | 1 line

instead of trying to delete specific names out of objects which may cause circular references, just go ahead and remove all entries from the self hash in finish() -- the object is expected to go away after finish() is called, so this shouldn't be an issue.
------------------------------------------------------------------------
r439823 | felicity | 2006-09-03 18:35:21 +0000 (Sun, 03 Sep 2006) | 1 line

we should also delete the DNS resolver when PMS goes away
------------------------------------------------------------------------
r439745 | jm | 2006-09-03 08:52:38 +0000 (Sun, 03 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r439699 | felicity | 2006-09-03 01:53:44 +0000 (Sun, 03 Sep 2006) | 1 line

put the current hostname in when doing client mode
------------------------------------------------------------------------
r439697 | felicity | 2006-09-03 01:29:11 +0000 (Sun, 03 Sep 2006) | 1 line

merge in my mass-check client/server mode changes
------------------------------------------------------------------------
r439663 | jm | 2006-09-02 21:42:06 +0000 (Sat, 02 Sep 2006) | 1 line

oops, update test to match new semantics of mkrules
------------------------------------------------------------------------
r439659 | jm | 2006-09-02 21:28:48 +0000 (Sat, 02 Sep 2006) | 1 line

instead of creating no files at all on lint failure, create empty files so that MANIFEST conditions are still satisfied and builds can complete
------------------------------------------------------------------------
r439655 | jm | 2006-09-02 21:19:46 +0000 (Sat, 02 Sep 2006) | 1 line

reenable fredt mass-checks, too
------------------------------------------------------------------------
r439652 | jm | 2006-09-02 21:04:37 +0000 (Sat, 02 Sep 2006) | 1 line

oops, got would_log() semantics wrong
------------------------------------------------------------------------
r439651 | jm | 2006-09-02 21:00:09 +0000 (Sat, 02 Sep 2006) | 1 line

I keep wondering why rules aren't appearing in the preflight mass-checks; might as well run the lot
------------------------------------------------------------------------
r439644 | jm | 2006-09-02 19:57:47 +0000 (Sat, 02 Sep 2006) | 1 line

corpus-nightly should fall back to 'svn checkout' instead of 'svn update' if that is failing; 'svn co' is more fault-tolerant
------------------------------------------------------------------------
r439640 | jm | 2006-09-02 19:42:18 +0000 (Sat, 02 Sep 2006) | 1 line

reenable zmi mass-checks now that bug 5079 is fixed and the mass-checks won't hang
------------------------------------------------------------------------
r439635 | jm | 2006-09-02 18:45:20 +0000 (Sat, 02 Sep 2006) | 1 line

make the really noisy ArchiveIterator debug messages conditional on explicit enabling of the 'architer' facility
------------------------------------------------------------------------
r439629 | jm | 2006-09-02 18:29:38 +0000 (Sat, 02 Sep 2006) | 1 line

bug 5079: mass-check --restart hung on 'skipping large message', fixed.  Also, reenable debugs for ArchiveIterator IPC, and set the @ISA type for ArchiveIterator to something sane
------------------------------------------------------------------------
r439560 | jm | 2006-09-02 08:52:35 +0000 (Sat, 02 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r439424 | jm | 2006-09-01 19:11:21 +0000 (Fri, 01 Sep 2006) | 1 line

remove zmi on-zone nightly mass-checks, they're hanging for some reason (TODO)
------------------------------------------------------------------------
r439303 | jm | 2006-09-01 13:02:34 +0000 (Fri, 01 Sep 2006) | 1 line

clarify pod doc for decode(), noting that it's a scalar string, not a scalar arrayref
------------------------------------------------------------------------
r439240 | jm | 2006-09-01 08:52:33 +0000 (Fri, 01 Sep 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r439065 | felicity | 2006-08-31 22:11:50 +0000 (Thu, 31 Aug 2006) | 1 line

comment out broken mtime code
------------------------------------------------------------------------
r438995 | jm | 2006-08-31 17:32:48 +0000 (Thu, 31 Aug 2006) | 1 line

bug 5074: avoid perl 5.6.1 / ExtUtils::MakeMaker 5.45 bug where it still attempts to recurse into spamd-apache2 dir when we don't want that
------------------------------------------------------------------------
r438985 | jm | 2006-08-31 17:05:01 +0000 (Thu, 31 Aug 2006) | 1 line

add logdiff script to MANIFEST
------------------------------------------------------------------------
r438955 | jm | 2006-08-31 15:48:54 +0000 (Thu, 31 Aug 2006) | 1 line

more speedups: turn off 'tflags multiple' support code if that tflag isn't specified for the rule in question.  this shaves off 4.5% of runtime
------------------------------------------------------------------------
r438949 | jm | 2006-08-31 15:02:45 +0000 (Thu, 31 Aug 2006) | 1 line

minor tidy: clean up two references to a renamed cache hash that hadn't been updated
------------------------------------------------------------------------
r438862 | jm | 2006-08-31 11:19:44 +0000 (Thu, 31 Aug 2006) | 1 line

remove method call overhead for body, rawbody, header and uri rules; this provides a 3% speedup on a mixed ham/spam corpus
------------------------------------------------------------------------
r438842 | jm | 2006-08-31 08:52:33 +0000 (Thu, 31 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r438611 | jm | 2006-08-30 20:27:01 +0000 (Wed, 30 Aug 2006) | 1 line

fix bug: logdiff now supports diff switches
------------------------------------------------------------------------
r438421 | jm | 2006-08-30 08:52:30 +0000 (Wed, 30 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r438123 | jm | 2006-08-29 17:28:08 +0000 (Tue, 29 Aug 2006) | 1 line

top-level MANIFEST updates to include new apache2 module code
------------------------------------------------------------------------
r438118 | jm | 2006-08-29 17:11:53 +0000 (Tue, 29 Aug 2006) | 1 line

bug 4603: some top-level documentation updates regarding spamd-apache2
------------------------------------------------------------------------
r438117 | jm | 2006-08-29 17:10:56 +0000 (Tue, 29 Aug 2006) | 1 line

add note about Mail::SpamAssassin::Spamd::Apache2
------------------------------------------------------------------------
r438116 | jm | 2006-08-29 17:09:31 +0000 (Tue, 29 Aug 2006) | 1 line

bug 4603: Mail::SpamAssassin::Spamd::Apache2 -- mod_perl2 module, implementing spamd as a mod_perl module, contributed as a Google Summer of Code project by Radoslaw Zielinski
------------------------------------------------------------------------
r438108 | jm | 2006-08-29 16:16:09 +0000 (Tue, 29 Aug 2006) | 1 line

add more explanation to the note about sleeping to evade DST
------------------------------------------------------------------------
r438100 | jm | 2006-08-29 15:21:21 +0000 (Tue, 29 Aug 2006) | 1 line

oops.  remove abusive pkill calls which cause serious trouble with parallel corpus-nightly script runs
------------------------------------------------------------------------
r438095 | jm | 2006-08-29 15:19:33 +0000 (Tue, 29 Aug 2006) | 1 line

svn probs; add a possible workaround and note for an even better future one
------------------------------------------------------------------------
r438016 | jm | 2006-08-29 08:52:31 +0000 (Tue, 29 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r437950 | dos | 2006-08-29 04:12:30 +0000 (Tue, 29 Aug 2006) | 1 line

bug 4823: clarify M::SA::Plugin documentation
------------------------------------------------------------------------
r437648 | dos | 2006-08-28 10:56:47 +0000 (Mon, 28 Aug 2006) | 1 line

bug 5065: implement whitelist_from_dk
------------------------------------------------------------------------
r437610 | jm | 2006-08-28 08:52:28 +0000 (Mon, 28 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r437499 | felicity | 2006-08-28 01:24:15 +0000 (Mon, 28 Aug 2006) | 1 line

fix dbg/warn string typo
------------------------------------------------------------------------
r437277 | felicity | 2006-08-27 02:15:39 +0000 (Sun, 27 Aug 2006) | 1 line

fix documentation for secure_tmpfile() to have the returned variables in the right order
------------------------------------------------------------------------
r437129 | jm | 2006-08-26 08:52:25 +0000 (Sat, 26 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r436734 | sidney | 2006-08-25 09:24:01 +0000 (Fri, 25 Aug 2006) | 1 line

bug 5034: fix endless loop possible from bad input or network error
------------------------------------------------------------------------
r436721 | jm | 2006-08-25 08:52:22 +0000 (Fri, 25 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r434342 | jm | 2006-08-24 08:52:21 +0000 (Thu, 24 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r434028 | jm | 2006-08-23 12:35:56 +0000 (Wed, 23 Aug 2006) | 1 line

make-style mtime smarts for build/mkrules, so building can run faster
------------------------------------------------------------------------
r434020 | jm | 2006-08-23 12:04:00 +0000 (Wed, 23 Aug 2006) | 1 line

bug 5057: spamc was using getaddrinfo(NULL) to get localhost address info; unfortunately, on linux that returns IPv6 addressing, whereas we want to default to IPv4 unless otherwise specified.  use getaddrinfo('127.0.0.1') instead
------------------------------------------------------------------------
r434012 | jm | 2006-08-23 11:44:12 +0000 (Wed, 23 Aug 2006) | 1 line

add new script
------------------------------------------------------------------------
r434002 | dos | 2006-08-23 10:12:17 +0000 (Wed, 23 Aug 2006) | 1 line

bug 5046: document sa-learn's --import option
------------------------------------------------------------------------
r433982 | jm | 2006-08-23 08:52:20 +0000 (Wed, 23 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r433959 | dos | 2006-08-23 07:16:43 +0000 (Wed, 23 Aug 2006) | 1 line

bug 5061: avoid Perl random taint flagging of $1 bug
------------------------------------------------------------------------
r433917 | sidney | 2006-08-23 05:55:31 +0000 (Wed, 23 Aug 2006) | 1 line

bug 4981: remove broken urirhssub support for regexp subrule and make perldoc match the code
------------------------------------------------------------------------
r433891 | sidney | 2006-08-23 04:43:35 +0000 (Wed, 23 Aug 2006) | 1 line

bug 5045: tests that override locale settings must set both LANGUAGE and LC_ALL to work cross-platform
------------------------------------------------------------------------
r433798 | dos | 2006-08-22 23:33:04 +0000 (Tue, 22 Aug 2006) | 1 line

bug 5049: handle comments and whitespace in sa-update config files and fix an error in channel name validation
------------------------------------------------------------------------
r433726 | felicity | 2006-08-22 19:01:23 +0000 (Tue, 22 Aug 2006) | 1 line

fix broken opt_j check in AI -- 0 and > 0 are different. :)
------------------------------------------------------------------------
r433699 | jm | 2006-08-22 17:16:13 +0000 (Tue, 22 Aug 2006) | 1 line

removed a couple of sandbox plugins; these no longer have to be in MANIFEST
------------------------------------------------------------------------
r433596 | jm | 2006-08-22 11:16:12 +0000 (Tue, 22 Aug 2006) | 1 line

at least one server seems to need an explicit import of this symbol; don't know why the others are not failing, too
------------------------------------------------------------------------
r433594 | jm | 2006-08-22 11:10:45 +0000 (Tue, 22 Aug 2006) | 1 line

deal with a bizarre error condition that I'm seeing here
------------------------------------------------------------------------
r433563 | jm | 2006-08-22 08:52:18 +0000 (Tue, 22 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r433419 | jm | 2006-08-21 23:10:42 +0000 (Mon, 21 Aug 2006) | 1 line

bug 5048: --lint should not use network rules or AWL
------------------------------------------------------------------------
r433413 | jm | 2006-08-21 23:01:52 +0000 (Mon, 21 Aug 2006) | 1 line

bug 5054: Received-header parsing had differing results based on whether network access was enabled or not; this is inconsistent and a bad idea.  reduce everything to the no-net case, for consistency
------------------------------------------------------------------------
r433269 | jm | 2006-08-21 15:59:05 +0000 (Mon, 21 Aug 2006) | 1 line

bbmass/.corpus uses PWD in its tree path; ensure we're in masses subdir so that will work
------------------------------------------------------------------------
r433259 | jm | 2006-08-21 15:03:12 +0000 (Mon, 21 Aug 2006) | 1 line

trigger a build
------------------------------------------------------------------------
r433232 | jm | 2006-08-21 11:57:02 +0000 (Mon, 21 Aug 2006) | 1 line

avoid mutual killing of freqsd processes
------------------------------------------------------------------------
r433200 | jm | 2006-08-21 08:52:17 +0000 (Mon, 21 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r433067 | jm | 2006-08-20 22:31:29 +0000 (Sun, 20 Aug 2006) | 1 line

log .corpus location
------------------------------------------------------------------------
r433050 | felicity | 2006-08-20 21:19:03 +0000 (Sun, 20 Aug 2006) | 1 line

bug 4848: Pyzor, DCC, and SpamCop plugins weren't looking at the right place to see the 'dont_report_to_...' options
------------------------------------------------------------------------
r433044 | jm | 2006-08-20 20:57:04 +0000 (Sun, 20 Aug 2006) | 1 line

add vhost data for 3.1.x mass-check systems
------------------------------------------------------------------------
r433043 | jm | 2006-08-20 20:55:58 +0000 (Sun, 20 Aug 2006) | 1 line

fix email addrs
------------------------------------------------------------------------
r433042 | jm | 2006-08-20 20:55:37 +0000 (Sun, 20 Aug 2006) | 1 line

fix email addrs
------------------------------------------------------------------------
r433039 | jm | 2006-08-20 20:52:12 +0000 (Sun, 20 Aug 2006) | 1 line

extra logging
------------------------------------------------------------------------
r433036 | jm | 2006-08-20 20:42:57 +0000 (Sun, 20 Aug 2006) | 1 line

this seems to be failing; attempt a fix
------------------------------------------------------------------------
r432815 | jm | 2006-08-19 08:52:15 +0000 (Sat, 19 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r432797 | sidney | 2006-08-19 05:12:10 +0000 (Sat, 19 Aug 2006) | 1 line

Move Daryl from committers to PMC list. Congrats Daryl
------------------------------------------------------------------------
r432528 | jm | 2006-08-18 08:52:13 +0000 (Fri, 18 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r432355 | jm | 2006-08-17 19:32:25 +0000 (Thu, 17 Aug 2006) | 1 line

revert previous change; profiling showed worse results :(
------------------------------------------------------------------------
r432345 | jm | 2006-08-17 19:09:03 +0000 (Thu, 17 Aug 2006) | 1 line

attempt to dislodge parse_received_line() from the top of the profile table, by more sensible ordering of the regexp matches, and conditionalizing some of them based on common substrings; also: be paranoid about Received header lengths and cut off after 8192 chars
------------------------------------------------------------------------
r432283 | jm | 2006-08-17 16:24:36 +0000 (Thu, 17 Aug 2006) | 1 line

clean up tmp dir
------------------------------------------------------------------------
r432262 | jm | 2006-08-17 15:17:54 +0000 (Thu, 17 Aug 2006) | 1 line

no need to warn about 'archive-iterator: readdir found no mail in '/home/bbmass/rawcor/jm/ham/pub.20060715' directory'
------------------------------------------------------------------------
r432244 | jm | 2006-08-17 14:09:27 +0000 (Thu, 17 Aug 2006) | 1 line

optimisation: don't delete all keys in PerMsgStatus, just the ones that need it
------------------------------------------------------------------------
r432217 | jm | 2006-08-17 12:37:12 +0000 (Thu, 17 Aug 2006) | 1 line

micro-optimisation
------------------------------------------------------------------------
r432184 | jm | 2006-08-17 08:52:12 +0000 (Thu, 17 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r431945 | jm | 2006-08-16 17:00:15 +0000 (Wed, 16 Aug 2006) | 1 line

sort rules for consistency
------------------------------------------------------------------------
r431796 | felicity | 2006-08-16 04:28:06 +0000 (Wed, 16 Aug 2006) | 1 line

bug 5032: update ASF license text
------------------------------------------------------------------------
r431794 | felicity | 2006-08-16 04:21:14 +0000 (Wed, 16 Aug 2006) | 1 line

update replace_license_blocks, have it deal with C-style comments better, put a sample commandline in place
------------------------------------------------------------------------
r431781 | felicity | 2006-08-16 03:01:45 +0000 (Wed, 16 Aug 2006) | 1 line

bug 5049: allow comments in gpgkey and channel files
------------------------------------------------------------------------
r431780 | felicity | 2006-08-16 02:49:54 +0000 (Wed, 16 Aug 2006) | 1 line

update the channel installation algorithm to do a try/rollback method instead.  this lets us avoid duplicating code upon error, and it's also easy to add in new try/rollback sections as necessary.
------------------------------------------------------------------------
r431344 | jm | 2006-08-14 13:36:11 +0000 (Mon, 14 Aug 2006) | 1 line

ensure /tmp/rulemd dir is always removed
------------------------------------------------------------------------
r431312 | jm | 2006-08-14 08:52:08 +0000 (Mon, 14 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r431118 | felicity | 2006-08-13 00:20:18 +0000 (Sun, 13 Aug 2006) | 1 line

bug 4942: ignore text/calendar parts when looking for rendered/decoded text
------------------------------------------------------------------------
r431056 | felicity | 2006-08-12 17:32:29 +0000 (Sat, 12 Aug 2006) | 1 line

don't document looking at local state dir by itself
------------------------------------------------------------------------
r431053 | felicity | 2006-08-12 17:03:28 +0000 (Sat, 12 Aug 2006) | 1 line

don't use local_state_dir by itself by default.  use def_rules_dir to aim at an updatedir if necessary.
------------------------------------------------------------------------
r431050 | felicity | 2006-08-12 16:41:43 +0000 (Sat, 12 Aug 2006) | 1 line

bug 4952: adding in local_state_dir by itself to the default rules listing means that we'd normally end up looking at something like /var/lib for files, which is bad.  change the default local_state_dir to include a 'spamassassin' directory, then modify our previous references to remove the excess 'spamassassin'.
------------------------------------------------------------------------
r430996 | jm | 2006-08-12 08:52:07 +0000 (Sat, 12 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r430985 | felicity | 2006-08-12 07:03:10 +0000 (Sat, 12 Aug 2006) | 1 line

bug 4952: add in DEF_RULES_DIR, LOCAL_RULES_DIR, and LOCAL_STATE_DIR default values if not passed in via M::SA::new().  add documentation for the path macro values passed into M::SA.  add local_state_dir by itself as a place to find rules.
------------------------------------------------------------------------
r430982 | felicity | 2006-08-12 06:55:29 +0000 (Sat, 12 Aug 2006) | 1 line

have sa-update also pass the version of SA installed via user-agent header
------------------------------------------------------------------------
r430879 | felicity | 2006-08-11 19:57:40 +0000 (Fri, 11 Aug 2006) | 1 line

allow md5sum and sha1sum build scripts in the tarball, since it's of use to others out there (publishing sa-update files, etc.)
------------------------------------------------------------------------
r430852 | jm | 2006-08-11 18:38:25 +0000 (Fri, 11 Aug 2006) | 1 line

remove silly 'procedural' comments, obsolete
------------------------------------------------------------------------
r430851 | jm | 2006-08-11 18:35:03 +0000 (Fri, 11 Aug 2006) | 1 line

low-hanging optimisation; take a ref to the scores hash and access that, instead of frequent traversals of {conf}.  also, move the hash_line_for_rule() calls so they're nearer to the matches, where they're supposed to be
------------------------------------------------------------------------
r430845 | jm | 2006-08-11 18:22:41 +0000 (Fri, 11 Aug 2006) | 1 line

bug 4984, bug 4985: allow ruleqa CGI to display the subset of rules from a specific source file, or rules taken from files modified in the past N days
------------------------------------------------------------------------
r430784 | jm | 2006-08-11 13:08:36 +0000 (Fri, 11 Aug 2006) | 1 line

60_shortcircuit.cf is safe to put in updates, since it uses ifplugin now
------------------------------------------------------------------------
r430783 | jm | 2006-08-11 13:06:02 +0000 (Fri, 11 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r430781 | jm | 2006-08-11 13:01:41 +0000 (Fri, 11 Aug 2006) | 1 line

rule metadata for ruleqa.cgi; fix ruleqa.cgi daterev-selection UI again, I think it's even nicer now
------------------------------------------------------------------------
r430778 | jm | 2006-08-11 12:49:06 +0000 (Fri, 11 Aug 2006) | 1 line

fix this to support the new microformat
------------------------------------------------------------------------
r430775 | jm | 2006-08-11 12:23:39 +0000 (Fri, 11 Aug 2006) | 1 line

ruleqa: indicate which daterev is being viewed, again, to support updates-generation; also, display fewer daterevs on the default page UI, since it's getting bulky
------------------------------------------------------------------------
r430589 | jm | 2006-08-10 23:29:13 +0000 (Thu, 10 Aug 2006) | 1 line

NO_RELAYS was being moved from the active set into the sandbox file, due to being a meta dependency of a sandbox rule.  fix that
------------------------------------------------------------------------
r430584 | jm | 2006-08-10 23:26:01 +0000 (Thu, 10 Aug 2006) | 1 line

add more useful doco and defaults for shortcircuit, if active
------------------------------------------------------------------------
r430239 | felicity | 2006-08-10 04:31:03 +0000 (Thu, 10 Aug 2006) | 1 line

drop unused Data::Dumper module
------------------------------------------------------------------------
r430237 | felicity | 2006-08-10 04:17:44 +0000 (Thu, 10 Aug 2006) | 1 line

for some reason we were loading IPC::Open2
------------------------------------------------------------------------
r429949 | felicity | 2006-08-09 03:27:31 +0000 (Wed, 09 Aug 2006) | 1 line

merge in my changes from the message-queue branch, removing recursion from Message and Message::Node
------------------------------------------------------------------------
r429931 | sidney | 2006-08-09 02:33:13 +0000 (Wed, 09 Aug 2006) | 1 line

bug 4842: remove obsolete workaround that results in bogus warnings in URIDNSBL code
------------------------------------------------------------------------
r429908 | sidney | 2006-08-09 01:06:12 +0000 (Wed, 09 Aug 2006) | 1 line

Bug 5022: parse Received header generated by command line sendmail
------------------------------------------------------------------------
r429211 | felicity | 2006-08-06 23:36:08 +0000 (Sun, 06 Aug 2006) | 1 line

add in some more debugging information to mimeparse.t
------------------------------------------------------------------------
r428986 | jm | 2006-08-05 11:36:30 +0000 (Sat, 05 Aug 2006) | 1 line

add bayes analysis script I had lying around, unchecked-in
------------------------------------------------------------------------
r428946 | felicity | 2006-08-05 03:06:14 +0000 (Sat, 05 Aug 2006) | 1 line

bug 5030: if the gpg executable is in a path with a space, quote the path
------------------------------------------------------------------------
r428942 | felicity | 2006-08-05 02:54:26 +0000 (Sat, 05 Aug 2006) | 1 line

fix small typo
------------------------------------------------------------------------
r428859 | jm | 2006-08-04 19:55:34 +0000 (Fri, 04 Aug 2006) | 1 line

bug 3109: simple shortcircuiting, allowing admins to specify that certain rules mean an immediate ham/spam result.  thanks to Dallas Engelken
------------------------------------------------------------------------
r428771 | jm | 2006-08-04 16:37:58 +0000 (Fri, 04 Aug 2006) | 1 line

make this live
------------------------------------------------------------------------
r428735 | jm | 2006-08-04 14:33:22 +0000 (Fri, 04 Aug 2006) | 1 line

preparation for bug 4984, 4985: add (still-disabled) infrastructure to track rule metadata, for use by the ruleqa web UI
------------------------------------------------------------------------
r428445 | felicity | 2006-08-03 16:31:53 +0000 (Thu, 03 Aug 2006) | 1 line

add in new test date.t
------------------------------------------------------------------------
r428426 | felicity | 2006-08-03 15:30:43 +0000 (Thu, 03 Aug 2006) | 1 line

bug 5027: don't assume that the channel pre or cf file exist, only try to unlink if they do exist
------------------------------------------------------------------------
r428201 | felicity | 2006-08-03 00:00:07 +0000 (Thu, 03 Aug 2006) | 1 line

fix comment
------------------------------------------------------------------------
r428134 | quinlan | 2006-08-02 20:28:55 +0000 (Wed, 02 Aug 2006) | 2 lines

new date t test

------------------------------------------------------------------------
r428131 | quinlan | 2006-08-02 20:26:08 +0000 (Wed, 02 Aug 2006) | 2 lines

fix out-of-range day of month

------------------------------------------------------------------------
r428032 | jm | 2006-08-02 15:37:50 +0000 (Wed, 02 Aug 2006) | 1 line

minor reordering
------------------------------------------------------------------------
r428031 | jm | 2006-08-02 15:37:14 +0000 (Wed, 02 Aug 2006) | 1 line

add default .pre files when running preflight mass-checks; otherwise we will see DNS mass-checks failing like this: http://bbmass.spamassassin.org/mc-med/builds/2/test/0
------------------------------------------------------------------------
r428026 | jm | 2006-08-02 15:26:42 +0000 (Wed, 02 Aug 2006) | 1 line

bug 4987: more privacy, and bugfixes
------------------------------------------------------------------------
r428014 | jm | 2006-08-02 15:04:10 +0000 (Wed, 02 Aug 2006) | 1 line

bug 4987: log output direct from links on the ruleqa page
------------------------------------------------------------------------
r427865 | parker | 2006-08-02 03:05:32 +0000 (Wed, 02 Aug 2006) | 1 line

Bug 4978: No need to worry about negative times
------------------------------------------------------------------------
r427853 | felicity | 2006-08-02 01:53:35 +0000 (Wed, 02 Aug 2006) | 1 line

bug 4737: when rewriting a header for markup, strip out leading whitespace before the tag
------------------------------------------------------------------------
r427817 | felicity | 2006-08-02 00:20:50 +0000 (Wed, 02 Aug 2006) | 1 line

bug 4492: make bayes_ignore_headers case insensitive
------------------------------------------------------------------------
r427603 | felicity | 2006-08-01 15:15:38 +0000 (Tue, 01 Aug 2006) | 1 line

bug 4432: add in a sleep between start/stop in redhat rc script for spamd
------------------------------------------------------------------------
r427582 | jm | 2006-08-01 14:03:38 +0000 (Tue, 01 Aug 2006) | 1 line

bug 4986: better UI for daterev selection in ruleqa web app
------------------------------------------------------------------------
r427552 | jm | 2006-08-01 12:17:04 +0000 (Tue, 01 Aug 2006) | 1 line

and the other table
------------------------------------------------------------------------
r427549 | jm | 2006-08-01 12:09:24 +0000 (Tue, 01 Aug 2006) | 1 line

bug 4896: daterev-selection UI needs improvement; also, make more of the embedded metadata use microformatting
------------------------------------------------------------------------
r427493 | jm | 2006-08-01 08:51:50 +0000 (Tue, 01 Aug 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r427350 | felicity | 2006-07-31 22:30:34 +0000 (Mon, 31 Jul 2006) | 1 line

update comment
------------------------------------------------------------------------
r427348 | felicity | 2006-07-31 22:27:25 +0000 (Mon, 31 Jul 2006) | 1 line

bug 5018: update 2TLD listing in RegistrarBoundaries
------------------------------------------------------------------------
r427153 | jgmyers | 2006-07-31 16:20:11 +0000 (Mon, 31 Jul 2006) | 1 line

style fix
------------------------------------------------------------------------
r427101 | jm | 2006-07-31 12:37:17 +0000 (Mon, 31 Jul 2006) | 1 line

fix a few typos and runtime bugs
------------------------------------------------------------------------
r427089 | jm | 2006-07-31 12:13:18 +0000 (Mon, 31 Jul 2006) | 1 line

objectify this script, in preparation for mod_perlification
------------------------------------------------------------------------
r427048 | jm | 2006-07-31 08:51:50 +0000 (Mon, 31 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r426981 | jm | 2006-07-30 23:02:42 +0000 (Sun, 30 Jul 2006) | 1 line

bug 4998: ensure dist tree winds up checked in
------------------------------------------------------------------------
r426973 | jm | 2006-07-30 22:47:12 +0000 (Sun, 30 Jul 2006) | 1 line

add the site docs build step
------------------------------------------------------------------------
r426970 | jm | 2006-07-30 22:43:02 +0000 (Sun, 30 Jul 2006) | 1 line

more details for bug 4998
------------------------------------------------------------------------
r426965 | jm | 2006-07-30 22:38:31 +0000 (Sun, 30 Jul 2006) | 1 line

more details for bug 4998
------------------------------------------------------------------------
r426961 | jm | 2006-07-30 22:17:17 +0000 (Sun, 30 Jul 2006) | 1 line

update for bug 4998; just version-specific trees in /full/N.N.N/dist
------------------------------------------------------------------------
r426951 | jm | 2006-07-30 21:58:56 +0000 (Sun, 30 Jul 2006) | 1 line

bug 4998: add website-checkin step
------------------------------------------------------------------------
r426940 | jm | 2006-07-30 20:58:36 +0000 (Sun, 30 Jul 2006) | 1 line

bug 5015: increase number of mass-check submitter results required to generate a new rules active.list, from 2 to 3
------------------------------------------------------------------------
r426876 | jm | 2006-07-30 08:51:50 +0000 (Sun, 30 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r426765 | jm | 2006-07-29 08:51:47 +0000 (Sat, 29 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r426739 | felicity | 2006-07-29 01:49:11 +0000 (Sat, 29 Jul 2006) | 1 line

bug 5013: handle more IP obfuscation, add in tests, etc.
------------------------------------------------------------------------
r426441 | jm | 2006-07-28 08:51:47 +0000 (Fri, 28 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r426021 | jm | 2006-07-27 09:42:55 +0000 (Thu, 27 Jul 2006) | 1 line

add another svn ignore
------------------------------------------------------------------------
r426020 | jm | 2006-07-27 09:41:52 +0000 (Thu, 27 Jul 2006) | 1 line

bug 5012: missed 'use M:SA:Locales' line from refactored plugins
------------------------------------------------------------------------
r426006 | jm | 2006-07-27 08:51:44 +0000 (Thu, 27 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r425830 | jm | 2006-07-26 20:08:55 +0000 (Wed, 26 Jul 2006) | 1 line

increase timeout, since in reality 30 seconds winds up scaled down to 7 due to scaling code
------------------------------------------------------------------------
r425829 | jm | 2006-07-26 20:08:14 +0000 (Wed, 26 Jul 2006) | 1 line

add an ignore
------------------------------------------------------------------------
r425680 | jm | 2006-07-26 08:51:45 +0000 (Wed, 26 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r425334 | jm | 2006-07-25 08:51:41 +0000 (Tue, 25 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r425255 | dos | 2006-07-25 02:00:16 +0000 (Tue, 25 Jul 2006) | 1 line

bug 3979: better handling of quoted text when stripping email addresses
------------------------------------------------------------------------
r425244 | felicity | 2006-07-25 01:22:45 +0000 (Tue, 25 Jul 2006) | 1 line

bug 5006: more updates for uri redirector obfuscation
------------------------------------------------------------------------
r425100 | felicity | 2006-07-24 15:57:08 +0000 (Mon, 24 Jul 2006) | 1 line

bug 5006: forgot to increase the test count darn it
------------------------------------------------------------------------
r425098 | felicity | 2006-07-24 15:56:09 +0000 (Mon, 24 Jul 2006) | 1 line

bug 5006: add in a test for the decimal redirector
------------------------------------------------------------------------
r425095 | felicity | 2006-07-24 15:51:32 +0000 (Mon, 24 Jul 2006) | 1 line

bug 5006: canonify obfuscated hostnames in redirection
------------------------------------------------------------------------
r425009 | jm | 2006-07-24 11:10:58 +0000 (Mon, 24 Jul 2006) | 1 line

trivial fixes from building spamc with 'gcc  -Wall -Wextra -pedantic' -- fix C++-style comments to be C90-compliant, and use explicit casts when compared signed and unsigned values
------------------------------------------------------------------------
r424967 | jm | 2006-07-24 08:51:42 +0000 (Mon, 24 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r424846 | felicity | 2006-07-23 22:51:07 +0000 (Sun, 23 Jul 2006) | 1 line

get rid of EvalTests and move the code into plugins.
------------------------------------------------------------------------
r424690 | jm | 2006-07-23 08:51:41 +0000 (Sun, 23 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r424614 | felicity | 2006-07-22 18:21:43 +0000 (Sat, 22 Jul 2006) | 1 line

more work on sa-update, use File::Spec->catfile() where appropriate, only look for gpg once, etc.
------------------------------------------------------------------------
r424538 | jm | 2006-07-22 08:51:37 +0000 (Sat, 22 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r424521 | felicity | 2006-07-22 04:19:54 +0000 (Sat, 22 Jul 2006) | 1 line

bug 4941: change how sa-update does updates so that it won't leave an empty local state dir upon simple failures such as SHA1 mismatch.  also, fixed another bug which would ignore update channel .pre files.
------------------------------------------------------------------------
r424325 | jm | 2006-07-21 14:06:49 +0000 (Fri, 21 Jul 2006) | 1 line

bug 4941: sa-update should defer creating upgrade dir until all files are downloaded, verified, etc.
------------------------------------------------------------------------
r424233 | jm | 2006-07-21 08:51:37 +0000 (Fri, 21 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r423882 | jm | 2006-07-20 10:52:42 +0000 (Thu, 20 Jul 2006) | 1 line

oops, wrong number of tests, and misspelled anti_patterns
------------------------------------------------------------------------
r423833 | jm | 2006-07-20 08:51:36 +0000 (Thu, 20 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r423667 | dos | 2006-07-19 23:57:12 +0000 (Wed, 19 Jul 2006) | 1 line

bug 3979: add tests for correct :addr stripping
------------------------------------------------------------------------
r423529 | felicity | 2006-07-19 17:11:45 +0000 (Wed, 19 Jul 2006) | 1 line

modify the Conf POD regarding escaping the # in configs
------------------------------------------------------------------------
r423499 | felicity | 2006-07-19 15:39:02 +0000 (Wed, 19 Jul 2006) | 1 line

bug 4997: require Archive::Tar 1.23 and IO::Zlib 1.04 for sa-update
------------------------------------------------------------------------
r423496 | felicity | 2006-07-19 15:30:50 +0000 (Wed, 19 Jul 2006) | 1 line

bug 4997: update INSTALL doc to specify minimum versions of IO::Zlib and Archive::Tar
------------------------------------------------------------------------
r423406 | jm | 2006-07-19 08:51:34 +0000 (Wed, 19 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r423269 | jm | 2006-07-18 22:23:25 +0000 (Tue, 18 Jul 2006) | 1 line

add plugin API, allowing plugins to append log data to the spamd 'result' syslog output
------------------------------------------------------------------------
r423241 | jm | 2006-07-18 20:55:43 +0000 (Tue, 18 Jul 2006) | 1 line

bug 4690: --lint implies -x (do not create prefs)
------------------------------------------------------------------------
r423238 | jm | 2006-07-18 20:41:11 +0000 (Tue, 18 Jul 2006) | 1 line

bug 4976: increase default message size limit from 250KB to 500KB, to keep up with increasing average spam sizes
------------------------------------------------------------------------
r423022 | jm | 2006-07-18 09:25:16 +0000 (Tue, 18 Jul 2006) | 1 line

add test for bug 4991
------------------------------------------------------------------------
r423016 | jm | 2006-07-18 08:51:31 +0000 (Tue, 18 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r422963 | felicity | 2006-07-18 04:39:18 +0000 (Tue, 18 Jul 2006) | 1 line

bug 4991: if 'spamc -y' is called, and the connection to spamd fails, just print out a blank line and not the whole message
------------------------------------------------------------------------
r422704 | jm | 2006-07-17 12:47:29 +0000 (Mon, 17 Jul 2006) | 1 line

clear @TEMPORARY_METHODS, thanks Radoslaw
------------------------------------------------------------------------
r422653 | jm | 2006-07-17 08:51:31 +0000 (Mon, 17 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r422589 | felicity | 2006-07-17 01:21:13 +0000 (Mon, 17 Jul 2006) | 1 line

bug 4899: windows doesn't handle single quotes around filenames
------------------------------------------------------------------------
r422411 | jm | 2006-07-16 08:51:28 +0000 (Sun, 16 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r422180 | jm | 2006-07-15 08:51:26 +0000 (Sat, 15 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r422043 | dos | 2006-07-14 21:00:57 +0000 (Fri, 14 Jul 2006) | 1 line

bug 4347: quicker...
------------------------------------------------------------------------
r422039 | dos | 2006-07-14 20:48:05 +0000 (Fri, 14 Jul 2006) | 1 line

provide debug info about missing/disabled meta dependencies
------------------------------------------------------------------------
r421883 | jm | 2006-07-14 11:59:23 +0000 (Fri, 14 Jul 2006) | 1 line

bug 4958: avoid Windows single-quote-phobia
------------------------------------------------------------------------
r421868 | jm | 2006-07-14 10:59:43 +0000 (Fri, 14 Jul 2006) | 1 line

bug 3109: priority-tracing -- automatically enforce priority ordering for meta rules, so that metas always run after their dependencies.  Remove the now-superfluous META_TEST_MIN_PRIORITY hack.  also, change the values of the MISSING_REQUIRED_VALUE and INVALID_VALUE constants in Conf parsing to avoid collisions with the priority range; this is safe as long as no plugins use their raw values, instead of the variable itself, which would be very stupid.
------------------------------------------------------------------------
r421862 | jm | 2006-07-14 10:34:29 +0000 (Fri, 14 Jul 2006) | 1 line

bug 4777: evalstr version of run_eval_tests, thanks Michael
------------------------------------------------------------------------
r421838 | jm | 2006-07-14 08:51:27 +0000 (Fri, 14 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r421648 | jm | 2006-07-13 15:29:07 +0000 (Thu, 13 Jul 2006) | 1 line

update URLs
------------------------------------------------------------------------
r421549 | jm | 2006-07-13 08:51:25 +0000 (Thu, 13 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r421294 | jm | 2006-07-12 15:39:53 +0000 (Wed, 12 Jul 2006) | 1 line

bug 4896: misspellings fixed in POD docs
------------------------------------------------------------------------
r421291 | jm | 2006-07-12 15:31:23 +0000 (Wed, 12 Jul 2006) | 1 line

bug 4908 (trivial) fix: ensure LC=C descriptions are used so that the GTUBE description can be matched
------------------------------------------------------------------------
r421289 | jm | 2006-07-12 15:16:17 +0000 (Wed, 12 Jul 2006) | 1 line

bug 4966: BSMTP support was broken and would bounce mail with a 421 error; fix by Brad 'anomie' Jorsch
------------------------------------------------------------------------
r421192 | jm | 2006-07-12 08:51:24 +0000 (Wed, 12 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r420894 | jm | 2006-07-11 15:20:17 +0000 (Tue, 11 Jul 2006) | 1 line

fix relative path support with mass-check --cache
------------------------------------------------------------------------
r420767 | jm | 2006-07-11 08:51:22 +0000 (Tue, 11 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r420695 | dos | 2006-07-11 03:44:32 +0000 (Tue, 11 Jul 2006) | 1 line

bug 4978: fudge out of range times in parse_rfc822_date() to get usable date
------------------------------------------------------------------------
r420676 | dos | 2006-07-11 02:26:51 +0000 (Tue, 11 Jul 2006) | 1 line

bug 4980: support Postfix 2.3 auth headers
------------------------------------------------------------------------
r420627 | felicity | 2006-07-10 20:27:48 +0000 (Mon, 10 Jul 2006) | 1 line

found another non-text type that occurs in multipart/alternate mails, excluding from MULTIPART_ALT_NON_TEXT rule
------------------------------------------------------------------------
r420462 | jm | 2006-07-10 08:51:20 +0000 (Mon, 10 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r420382 | felicity | 2006-07-10 00:35:04 +0000 (Mon, 10 Jul 2006) | 1 line

bug 4935: fix issue where auto-whitelist db lock file gets the wrong set of permissions
------------------------------------------------------------------------
r420320 | jm | 2006-07-09 17:01:13 +0000 (Sun, 09 Jul 2006) | 1 line

do not reuse results from short-circuited messages
------------------------------------------------------------------------
r420319 | jm | 2006-07-09 16:56:54 +0000 (Sun, 09 Jul 2006) | 1 line

remove some jm dirs
------------------------------------------------------------------------
r420259 | jm | 2006-07-09 08:51:20 +0000 (Sun, 09 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r420098 | jm | 2006-07-08 11:12:00 +0000 (Sat, 08 Jul 2006) | 1 line

rule-hits-over-time graphs need to ignore ancient data; only the last 6 months pls
------------------------------------------------------------------------
r420097 | jm | 2006-07-08 11:10:59 +0000 (Sat, 08 Jul 2006) | 1 line

add --ignore_older switch
------------------------------------------------------------------------
r420089 | jm | 2006-07-08 08:51:18 +0000 (Sat, 08 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r419840 | jm | 2006-07-07 08:51:18 +0000 (Fri, 07 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r419649 | felicity | 2006-07-06 18:42:01 +0000 (Thu, 06 Jul 2006) | 1 line

bug 4973: fix PerMsgStatus POD so that set_tag and get_tag are visible
------------------------------------------------------------------------
r419507 | jm | 2006-07-06 10:14:38 +0000 (Thu, 06 Jul 2006) | 1 line

add an update-dist area
------------------------------------------------------------------------
r419488 | jm | 2006-07-06 08:51:16 +0000 (Thu, 06 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r419191 | jm | 2006-07-05 08:51:14 +0000 (Wed, 05 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418962 | jm | 2006-07-04 09:27:50 +0000 (Tue, 04 Jul 2006) | 1 line

revert back to no-code updates for sa-update
------------------------------------------------------------------------
r418943 | jm | 2006-07-04 08:51:13 +0000 (Tue, 04 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418747 | jm | 2006-07-03 11:37:51 +0000 (Mon, 03 Jul 2006) | 1 line

a new way to ensure that scripts run after 0900 UTC regardless of daylight-savings meddling; this allows corpus-hourly to be run by the nightly-on-zone mass-check script even when a couple of other m-cs have run the time past 1000 UTC.  NOTE: if you svn up to this version, you need to change your crontab files
------------------------------------------------------------------------
r418713 | jm | 2006-07-03 08:51:11 +0000 (Mon, 03 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418576 | jm | 2006-07-02 11:11:57 +0000 (Sun, 02 Jul 2006) | 1 line

nicety
------------------------------------------------------------------------
r418573 | jm | 2006-07-02 11:10:15 +0000 (Sun, 02 Jul 2006) | 1 line

produce log output too
------------------------------------------------------------------------
r418564 | jm | 2006-07-02 08:51:10 +0000 (Sun, 02 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418453 | jm | 2006-07-01 11:26:04 +0000 (Sat, 01 Jul 2006) | 1 line

workaround for wierdness on the zone
------------------------------------------------------------------------
r418449 | jm | 2006-07-01 08:51:08 +0000 (Sat, 01 Jul 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418344 | felicity | 2006-06-30 17:54:34 +0000 (Fri, 30 Jun 2006) | 1 line

use the Config module's '_exe' variable to determine any executable extension for sa-update
------------------------------------------------------------------------
r418313 | jm | 2006-06-30 15:45:47 +0000 (Fri, 30 Jun 2006) | 1 line

bug 4956 comment 8: load IO::Socket::INET
------------------------------------------------------------------------
r418203 | jm | 2006-06-30 08:51:08 +0000 (Fri, 30 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r418167 | felicity | 2006-06-30 03:01:29 +0000 (Fri, 30 Jun 2006) | 1 line

bug 4921: localize spamd rc script messages for redhat distros
------------------------------------------------------------------------
r418149 | jm | 2006-06-29 22:22:38 +0000 (Thu, 29 Jun 2006) | 1 line

cleanup spamc error handling and reduce ifdefs; fix a windows build failure due to misplaced format args in libspamc_log; log hostname in failure-to-connect messages again; log failures to connect for all failing interfaces for multihomed hosts, so that t/spamc_l.t will pass when there is no IPv6 interface but IPv6 is in the kernel
------------------------------------------------------------------------
r418148 | jm | 2006-06-29 22:09:08 +0000 (Thu, 29 Jun 2006) | 1 line

no longer using string portnames here
------------------------------------------------------------------------
r418141 | jm | 2006-06-29 21:23:27 +0000 (Thu, 29 Jun 2006) | 1 line

allow plugin .pm files in sa-update tarballs
------------------------------------------------------------------------
r418138 | jm | 2006-06-29 21:11:32 +0000 (Thu, 29 Jun 2006) | 1 line

remove bugzilla-interaction script, which is now obsolete
------------------------------------------------------------------------
r418135 | jm | 2006-06-29 20:56:58 +0000 (Thu, 29 Jun 2006) | 10 lines

some changes in response to comment 14 in bug 4477.

- use NI_NUMERICSERV to list port numbers instead of names;
- use NI_MAXHOST and NI_MAXSERV where available;
- use getaddrinfo()'s built-in support for resolving the loopback address,
  without requiring a resolver.

however the max-hosts issue and the _randomize_hosts() issue are
still outstanding; not biggies though I think.

------------------------------------------------------------------------
r418131 | felicity | 2006-06-29 20:30:35 +0000 (Thu, 29 Jun 2006) | 1 line

remove references to bugzilla.spamassassin.org, replace with issues.apache.org/SpamAssassin, as well as standardize a bit on 'bug #' as opposed to BZ links for comment sections about a fix, etc.
------------------------------------------------------------------------
r418122 | jm | 2006-06-29 19:47:32 +0000 (Thu, 29 Jun 2006) | 1 line

possible fix for bug 4477 coredump
------------------------------------------------------------------------
r418104 | jm | 2006-06-29 18:10:22 +0000 (Thu, 29 Jun 2006) | 1 line

bug 4956: IPv6 support in spamd, thanks to Radoslaw Zielinski
------------------------------------------------------------------------
r418101 | jm | 2006-06-29 17:58:02 +0000 (Thu, 29 Jun 2006) | 1 line

bug 4477: port spamc to support both IPv4 and IPv6; thanks to John Madden
------------------------------------------------------------------------
r418071 | jm | 2006-06-29 15:21:17 +0000 (Thu, 29 Jun 2006) | 1 line

remove now-obsolete script
------------------------------------------------------------------------
r418070 | jm | 2006-06-29 15:20:16 +0000 (Thu, 29 Jun 2006) | 1 line

fix to generate useful data please
------------------------------------------------------------------------
r418068 | jm | 2006-06-29 15:14:30 +0000 (Thu, 29 Jun 2006) | 1 line

fix recreate.t failures; plugin issues should not affect this test
------------------------------------------------------------------------
r418063 | jm | 2006-06-29 14:52:01 +0000 (Thu, 29 Jun 2006) | 1 line

do my nightlies on the zone
------------------------------------------------------------------------
r418049 | jm | 2006-06-29 14:01:37 +0000 (Thu, 29 Jun 2006) | 1 line

allow cache files to be written in an entirely different directory tree
------------------------------------------------------------------------
r418047 | jm | 2006-06-29 13:58:23 +0000 (Thu, 29 Jun 2006) | 1 line

bugfix: bad plugin-support call in run_eval_tests was run 100s of times per message, even when that plugin hook was unavailable, resulting in a 40% slowdown.  fix, plus a couple of extra hotspot fixes
------------------------------------------------------------------------
r418045 | jm | 2006-06-29 13:39:51 +0000 (Thu, 29 Jun 2006) | 1 line

er, space would be good here
------------------------------------------------------------------------
r418044 | jm | 2006-06-29 13:37:04 +0000 (Thu, 29 Jun 2006) | 1 line

add documentation of 'detect' target format
------------------------------------------------------------------------
r418043 | jm | 2006-06-29 13:36:04 +0000 (Thu, 29 Jun 2006) | 1 line

preflight: no longer builds a link farm for mass-checks - instead let mass-check itself do the hard work, but support this with more caching and smarter message-selection algorithm
------------------------------------------------------------------------
r417963 | jm | 2006-06-29 08:51:08 +0000 (Thu, 29 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r417910 | felicity | 2006-06-29 00:38:26 +0000 (Thu, 29 Jun 2006) | 1 line

move a test rule into EvalTests
------------------------------------------------------------------------
r417700 | jm | 2006-06-28 08:51:06 +0000 (Wed, 28 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r417532 | felicity | 2006-06-27 17:24:17 +0000 (Tue, 27 Jun 2006) | 1 line

bug 4958: when looking for GPG, look for 'gpg' except on Windows where it'll be 'gpg.exe'.  Also, use M::SA::Util::find_executable_in_env_path() instead of the not-as-good rewrite version.
------------------------------------------------------------------------
r417374 | jm | 2006-06-27 08:51:03 +0000 (Tue, 27 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r417353 | felicity | 2006-06-27 06:24:07 +0000 (Tue, 27 Jun 2006) | 1 line

bug 4862: sa-update should do the same macro processing for update files that happens during installation
------------------------------------------------------------------------
r417337 | felicity | 2006-06-27 04:34:25 +0000 (Tue, 27 Jun 2006) | 1 line

bug 4488: deal with a circular reference between Bayes and BayesStore -- when M::SA::finish() is called, make sure to delete the Bayes->BayesStore reference, which will then let everything else get cleaned up as expected.
------------------------------------------------------------------------
r417315 | felicity | 2006-06-27 00:11:12 +0000 (Tue, 27 Jun 2006) | 1 line

bug 4968: allow % in paths when untainting
------------------------------------------------------------------------
r417145 | jm | 2006-06-26 08:51:03 +0000 (Mon, 26 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r417119 | felicity | 2006-06-26 03:28:43 +0000 (Mon, 26 Jun 2006) | 1 line

bug 4969: make the recursive option to find_parts() useful by allowing recursion into direct children but not go further, fixing the old version which only looked at the single part
------------------------------------------------------------------------
r417105 | felicity | 2006-06-26 01:53:54 +0000 (Mon, 26 Jun 2006) | 1 line

modify Message::find_parts() to pass any options to Message::Node::find_parts() even if the API changes
------------------------------------------------------------------------
r416995 | jm | 2006-06-25 08:51:03 +0000 (Sun, 25 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r416977 | dos | 2006-06-25 02:11:16 +0000 (Sun, 25 Jun 2006) | 1 line

bug 4943: parse Norton AntiVirus Gateway received headers
------------------------------------------------------------------------
r416892 | jm | 2006-06-24 08:50:59 +0000 (Sat, 24 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r416866 | felicity | 2006-06-24 06:25:42 +0000 (Sat, 24 Jun 2006) | 1 line

bug 4954: add in missing test into MANIFEST
------------------------------------------------------------------------
r416639 | jm | 2006-06-23 08:50:57 +0000 (Fri, 23 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r416348 | jm | 2006-06-22 12:26:48 +0000 (Thu, 22 Jun 2006) | 1 line

bug 4962: avoid odd 'uninit value' warnings about scores during build/mkrules lint checking
------------------------------------------------------------------------
r416299 | jm | 2006-06-22 08:50:58 +0000 (Thu, 22 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r416088 | jm | 2006-06-21 19:40:49 +0000 (Wed, 21 Jun 2006) | 1 line

allow all plugins in preflight mass-checks; also, work around preflight failures caused by scores in the sandbox.cf file
------------------------------------------------------------------------
r415944 | jm | 2006-06-21 08:50:55 +0000 (Wed, 21 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r415648 | jm | 2006-06-20 14:08:52 +0000 (Tue, 20 Jun 2006) | 1 line

bug 4953: loaded, but unused: Carp.pm, Config.pm -- thanks to Radoslaw Zielinski
------------------------------------------------------------------------
r415638 | jm | 2006-06-20 13:39:20 +0000 (Tue, 20 Jun 2006) | 1 line

reverse de-tainting of uid/gid from getpwnam() calls, needless.  see dev traffic under 'untainting getpwnam output' thread
------------------------------------------------------------------------
r415571 | jm | 2006-06-20 08:50:54 +0000 (Tue, 20 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r415397 | jm | 2006-06-19 19:49:47 +0000 (Mon, 19 Jun 2006) | 1 line

bug 4926: given a certain set of parameters to spamd and a specially formatted input message, users could cause spamd to execute arbitrary commands as spamd user
------------------------------------------------------------------------
r415262 | jm | 2006-06-19 08:50:55 +0000 (Mon, 19 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r415109 | jm | 2006-06-18 08:50:53 +0000 (Sun, 18 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r415016 | jm | 2006-06-17 08:51:01 +0000 (Sat, 17 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r414777 | jm | 2006-06-16 08:50:52 +0000 (Fri, 16 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r414512 | jm | 2006-06-15 08:50:49 +0000 (Thu, 15 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r414152 | jm | 2006-06-14 08:50:47 +0000 (Wed, 14 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r413839 | jm | 2006-06-13 08:50:45 +0000 (Tue, 13 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r413612 | jm | 2006-06-12 08:50:45 +0000 (Mon, 12 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r413428 | jm | 2006-06-11 08:50:43 +0000 (Sun, 11 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r413271 | jm | 2006-06-10 08:50:40 +0000 (Sat, 10 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r412983 | jm | 2006-06-09 08:50:41 +0000 (Fri, 09 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r412706 | jm | 2006-06-08 08:50:38 +0000 (Thu, 08 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r412331 | jm | 2006-06-07 08:50:38 +0000 (Wed, 07 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r412048 | jm | 2006-06-06 08:50:37 +0000 (Tue, 06 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r411894 | felicity | 2006-06-05 18:59:40 +0000 (Mon, 05 Jun 2006) | 1 line

bug 4930: 'spamassassin -e' wasn't working due to fix from bug 3754 and perl funniness
------------------------------------------------------------------------
r411718 | jm | 2006-06-05 08:50:35 +0000 (Mon, 05 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r411540 | jm | 2006-06-04 08:50:33 +0000 (Sun, 04 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r411408 | jm | 2006-06-03 08:50:33 +0000 (Sat, 03 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r411093 | jm | 2006-06-02 08:50:30 +0000 (Fri, 02 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r410797 | jm | 2006-06-01 08:50:29 +0000 (Thu, 01 Jun 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r410676 | felicity | 2006-05-31 21:36:22 +0000 (Wed, 31 May 2006) | 1 line

bug 4932: make sure the default_userstate_dir is created, even if the prefs aren't going to be copied.
------------------------------------------------------------------------
r410644 | felicity | 2006-05-31 19:34:07 +0000 (Wed, 31 May 2006) | 1 line

bug 4932: have to use sed_path() otherwise ~ doesn't work
------------------------------------------------------------------------
r410643 | felicity | 2006-05-31 19:21:51 +0000 (Wed, 31 May 2006) | 1 line

bug 4932: fix some issues related to fix for bug 4827 where the userstate dir wouldn't get created/used properly if it didn't already exist
------------------------------------------------------------------------
r410467 | jm | 2006-05-31 08:50:28 +0000 (Wed, 31 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r410221 | jm | 2006-05-30 08:50:27 +0000 (Tue, 30 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r410099 | parker | 2006-05-29 14:50:55 +0000 (Mon, 29 May 2006) | 1 line

Bug 4825: Fix silly error trying to match just PONG on the return
------------------------------------------------------------------------
r410055 | jm | 2006-05-29 08:50:26 +0000 (Mon, 29 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r410038 | dos | 2006-05-29 07:06:09 +0000 (Mon, 29 May 2006) | 1 line

bug 4924: initialize tag data for _DCCB_, _DCCR_, _PYZOR_, _RBL_, _BAYESTC*_
------------------------------------------------------------------------
r410004 | parker | 2006-05-28 23:39:03 +0000 (Sun, 28 May 2006) | 1 line

Bug 4902: Make multiple TextCat settings changable via configuration
------------------------------------------------------------------------
r409940 | jm | 2006-05-28 08:50:23 +0000 (Sun, 28 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r409846 | felicity | 2006-05-27 17:57:23 +0000 (Sat, 27 May 2006) | 1 line

bug 4922: v312.pre was added in 3.1.2, not 3.2.0
------------------------------------------------------------------------
r409821 | jm | 2006-05-27 08:50:27 +0000 (Sat, 27 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r409592 | jm | 2006-05-26 08:50:24 +0000 (Fri, 26 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r409439 | felicity | 2006-05-25 19:25:23 +0000 (Thu, 25 May 2006) | 1 line

check for errors off of secure_tmpfile in sa-update
------------------------------------------------------------------------
r409414 | felicity | 2006-05-25 16:58:27 +0000 (Thu, 25 May 2006) | 1 line

since having a userstate dir is not necessary, we shouldn't throw a warn() if the dir isn't found.  make it known via info() instead.
------------------------------------------------------------------------
r409334 | jm | 2006-05-25 08:50:21 +0000 (Thu, 25 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r409272 | felicity | 2006-05-25 00:18:28 +0000 (Thu, 25 May 2006) | 1 line

add in missing URIDetail plugin to the v320.pre file
------------------------------------------------------------------------
r409271 | felicity | 2006-05-25 00:17:16 +0000 (Thu, 25 May 2006) | 1 line

add in missing URIDetail plugin
------------------------------------------------------------------------
r409249 | felicity | 2006-05-24 20:38:43 +0000 (Wed, 24 May 2006) | 1 line

gpgsign doesn't work on minotaur, so use gpg instead
------------------------------------------------------------------------
r409211 | felicity | 2006-05-24 17:26:45 +0000 (Wed, 24 May 2006) | 1 line

bug 4861: fix up the _replace_tags() code with the code from 3.1
------------------------------------------------------------------------
r409148 | jm | 2006-05-24 12:46:09 +0000 (Wed, 24 May 2006) | 1 line

clarify confusing POD doc; spamc -u switch has not been 'semi-obsolete' since 2002
------------------------------------------------------------------------
r409092 | jm | 2006-05-24 08:50:20 +0000 (Wed, 24 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r408853 | jm | 2006-05-23 08:50:19 +0000 (Tue, 23 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r408808 | quinlan | 2006-05-23 01:19:28 +0000 (Tue, 23 May 2006) | 2 lines

fix remnants predating final naming

------------------------------------------------------------------------
r408807 | quinlan | 2006-05-23 01:18:04 +0000 (Tue, 23 May 2006) | 2 lines

a new plugin to test URIs the way URIs were meant to be tested

------------------------------------------------------------------------
r408696 | felicity | 2006-05-22 15:34:29 +0000 (Mon, 22 May 2006) | 1 line

bug 4879: add in pointer to the wiki to find out more about debug channels
------------------------------------------------------------------------
r408609 | jm | 2006-05-22 08:50:17 +0000 (Mon, 22 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r408148 | jm | 2006-05-21 08:50:15 +0000 (Sun, 21 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r407971 | jm | 2006-05-20 08:50:12 +0000 (Sat, 20 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r407749 | jm | 2006-05-19 08:50:13 +0000 (Fri, 19 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r407622 | felicity | 2006-05-18 19:42:15 +0000 (Thu, 18 May 2006) | 1 line

GTUBE test was matching "GTUBE" in the message body, regardless of whether the rule actually hit or not
------------------------------------------------------------------------
r407506 | jm | 2006-05-18 08:50:11 +0000 (Thu, 18 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r407200 | jm | 2006-05-17 08:50:10 +0000 (Wed, 17 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r407020 | felicity | 2006-05-16 18:29:52 +0000 (Tue, 16 May 2006) | 1 line

bug 4884: deal with the last commit and work around another (more common) issue about null messages
------------------------------------------------------------------------
r407007 | jm | 2006-05-16 17:40:10 +0000 (Tue, 16 May 2006) | 1 line

sandbox plugins should run in preflight mass-checks
------------------------------------------------------------------------
r407002 | jm | 2006-05-16 17:36:45 +0000 (Tue, 16 May 2006) | 1 line

trivial fix: inhibit 'undefined value' warnings
------------------------------------------------------------------------
r406998 | jm | 2006-05-16 17:29:52 +0000 (Tue, 16 May 2006) | 1 line

bug 4901: fix 'dns: sendto() failed' error, fix thanks to Mark Martinec
------------------------------------------------------------------------
r406876 | jm | 2006-05-16 08:50:09 +0000 (Tue, 16 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r406589 | jm | 2006-05-15 08:50:06 +0000 (Mon, 15 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r406006 | felicity | 2006-05-13 03:07:25 +0000 (Sat, 13 May 2006) | 1 line

make ArchiveIterator use a single format for the message list instead of having to switch back and forth.  this also preps for future changes to do things like sending the whole message to clients, etc.
------------------------------------------------------------------------
r405681 | jm | 2006-05-10 08:51:24 +0000 (Wed, 10 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r405348 | jm | 2006-05-09 08:51:20 +0000 (Tue, 09 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r404970 | jm | 2006-05-08 08:51:21 +0000 (Mon, 08 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r404743 | jm | 2006-05-07 08:51:17 +0000 (Sun, 07 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r400271 | jm | 2006-05-06 08:51:16 +0000 (Sat, 06 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r400013 | jm | 2006-05-05 08:51:16 +0000 (Fri, 05 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r399620 | jm | 2006-05-04 08:51:15 +0000 (Thu, 04 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r399368 | felicity | 2006-05-03 17:58:52 +0000 (Wed, 03 May 2006) | 1 line

bug 4888: add in a _HEADER(...)_ tag to include information from headers
------------------------------------------------------------------------
r399363 | felicity | 2006-05-03 17:49:05 +0000 (Wed, 03 May 2006) | 1 line

add in a SUBTESTS tag that was requested on the users list
------------------------------------------------------------------------
r399210 | jm | 2006-05-03 08:51:13 +0000 (Wed, 03 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r398868 | jm | 2006-05-02 08:51:11 +0000 (Tue, 02 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r398792 | felicity | 2006-05-02 03:38:37 +0000 (Tue, 02 May 2006) | 1 line

bug 4870: add in rc script support for DragonFlyBSD
------------------------------------------------------------------------
r398788 | felicity | 2006-05-02 03:30:53 +0000 (Tue, 02 May 2006) | 1 line

bug 4863: don't try to create the gpg home directory if it already exists
------------------------------------------------------------------------
r398692 | jm | 2006-05-01 21:19:38 +0000 (Mon, 01 May 2006) | 1 line

remove obsolete code
------------------------------------------------------------------------
r398691 | jm | 2006-05-01 21:16:24 +0000 (Mon, 01 May 2006) | 1 line

regexp bugfix
------------------------------------------------------------------------
r398688 | jm | 2006-05-01 20:58:17 +0000 (Mon, 01 May 2006) | 1 line

add list of submitters to the active.list file; ensure there's at least 2 submitters for the file to be generated
------------------------------------------------------------------------
r398679 | jm | 2006-05-01 20:36:08 +0000 (Mon, 01 May 2006) | 1 line

change ruleqa code to omit the XML comments by default, unless a ?xml=1 parameter is used
------------------------------------------------------------------------
r398611 | jm | 2006-05-01 15:01:35 +0000 (Mon, 01 May 2006) | 1 line

oops, <mclogmds> line was not being ignored
------------------------------------------------------------------------
r398553 | jm | 2006-05-01 08:51:10 +0000 (Mon, 01 May 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r398370 | jm | 2006-04-30 16:21:24 +0000 (Sun, 30 Apr 2006) | 1 line

nicer html
------------------------------------------------------------------------
r398367 | jm | 2006-04-30 16:19:45 +0000 (Sun, 30 Apr 2006) | 1 line

make visible
------------------------------------------------------------------------
r398365 | jm | 2006-04-30 16:09:00 +0000 (Sun, 30 Apr 2006) | 1 line

oops, better backwards-compat handling
------------------------------------------------------------------------
r398363 | jm | 2006-04-30 16:04:36 +0000 (Sun, 30 Apr 2006) | 1 line

make mass-check log metadata visible through web UI -- in HTML comments at least, for now
------------------------------------------------------------------------
r398356 | jm | 2006-04-30 15:17:31 +0000 (Sun, 30 Apr 2006) | 2 lines

support XML output format

------------------------------------------------------------------------
r398355 | jm | 2006-04-30 15:06:58 +0000 (Sun, 30 Apr 2006) | 1 line

better way to expose metadata for log reporting; via XML in hit-freqs reports
------------------------------------------------------------------------
r398352 | jm | 2006-04-30 14:47:36 +0000 (Sun, 30 Apr 2006) | 1 line

more readable
------------------------------------------------------------------------
r398340 | jm | 2006-04-30 13:40:19 +0000 (Sun, 30 Apr 2006) | 1 line

add some web-visible introspection on details of log files used
------------------------------------------------------------------------
r398298 | jm | 2006-04-30 08:51:08 +0000 (Sun, 30 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r398277 | felicity | 2006-04-30 03:39:28 +0000 (Sun, 30 Apr 2006) | 1 line

bug 4884: if no message content is passed in, fake a message with only a single newline to avoid undef warning issues
------------------------------------------------------------------------
r398247 | parker | 2006-04-29 22:00:07 +0000 (Sat, 29 Apr 2006) | 1 line

add a t config option for dcc tests instead of using net tests variable
------------------------------------------------------------------------
r398201 | jm | 2006-04-29 16:36:02 +0000 (Sat, 29 Apr 2006) | 1 line

better doco link on wiki
------------------------------------------------------------------------
r398193 | jm | 2006-04-29 16:13:22 +0000 (Sat, 29 Apr 2006) | 1 line

support impatience
------------------------------------------------------------------------
r398191 | jm | 2006-04-29 16:05:20 +0000 (Sat, 29 Apr 2006) | 1 line

re-align daterev strings so that they use a time much nearer the daily tag-time -- 0850 UTC -- instead of 0000 UTC as their boundary.  This will allow zmi's mass-checks to fit into the same 'day' period
------------------------------------------------------------------------
r397331 | dos | 2006-04-26 23:19:37 +0000 (Wed, 26 Apr 2006) | 1 line

bug 4802: add DKIM info to INSTALL
------------------------------------------------------------------------
r396242 | sidney | 2006-04-23 08:50:39 +0000 (Sun, 23 Apr 2006) | 1 line

bug 4874: userconf rules were not being made active, for example GTUBE
------------------------------------------------------------------------
r396213 | sidney | 2006-04-23 04:18:54 +0000 (Sun, 23 Apr 2006) | 1 line

bug 4861: dcc code cleanup, add use of dccifd for reporting, set default timeout to 8 seconds, add test case
------------------------------------------------------------------------
r396121 | jm | 2006-04-22 13:11:04 +0000 (Sat, 22 Apr 2006) | 1 line

bug 4326: add spamc --long-option support, thanks to John Madden <maddenj+spamassassin at skynet.ie>
------------------------------------------------------------------------
r396120 | jm | 2006-04-22 12:58:46 +0000 (Sat, 22 Apr 2006) | 1 line

comment test that relied on old behaviour
------------------------------------------------------------------------
r396117 | jm | 2006-04-22 12:42:05 +0000 (Sat, 22 Apr 2006) | 1 line

don't issue a warning about the T_ prefix thing all the time, it's too noisy
------------------------------------------------------------------------
r395537 | jm | 2006-04-20 08:50:58 +0000 (Thu, 20 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r395391 | jm | 2006-04-19 20:47:19 +0000 (Wed, 19 Apr 2006) | 1 line

bug 4630: fix HP-UX 11.11 libspamc build, patch from John Madden <maddenj+spamassassin at skynet.ie>
------------------------------------------------------------------------
r395369 | jm | 2006-04-19 19:41:04 +0000 (Wed, 19 Apr 2006) | 1 line

spamd summary messages need not use scientific notation for bayes scores
------------------------------------------------------------------------
r395179 | jm | 2006-04-19 08:50:53 +0000 (Wed, 19 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r395012 | dos | 2006-04-18 19:40:52 +0000 (Tue, 18 Apr 2006) | 1 line

bug 4802: move DKIM loadplugin to v312.pre
------------------------------------------------------------------------
r394884 | jm | 2006-04-18 08:50:53 +0000 (Tue, 18 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r394643 | jm | 2006-04-17 08:50:52 +0000 (Mon, 17 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r394445 | jm | 2006-04-16 08:50:49 +0000 (Sun, 16 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r394356 | jm | 2006-04-15 19:01:09 +0000 (Sat, 15 Apr 2006) | 1 line

trivial pod typo
------------------------------------------------------------------------
r394351 | jm | 2006-04-15 18:55:04 +0000 (Sat, 15 Apr 2006) | 1 line

oops, leftovers from bug 4860
------------------------------------------------------------------------
r394348 | jm | 2006-04-15 18:40:50 +0000 (Sat, 15 Apr 2006) | 1 line

bug 4860: consolidate DNS-lookup async-rule infrastructure, increasing code-sharing between URIDNSBL.pm and Dns.pm and allowing 19% speedup
------------------------------------------------------------------------
r394329 | jm | 2006-04-15 16:52:44 +0000 (Sat, 15 Apr 2006) | 1 line

add a basic test script for the URIBL plugin
------------------------------------------------------------------------
r394297 | jm | 2006-04-15 14:58:13 +0000 (Sat, 15 Apr 2006) | 1 line

bug 4867: fetchmail 6.3.2.1-1.2 apparently changed received header format, triggering (harmless) UNPARSEABLE_RELAY hits
------------------------------------------------------------------------
r394271 | jm | 2006-04-15 08:50:49 +0000 (Sat, 15 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r394051 | jm | 2006-04-14 08:50:46 +0000 (Fri, 14 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r393884 | felicity | 2006-04-13 18:53:37 +0000 (Thu, 13 Apr 2006) | 1 line

make parsing of style="..." generic to any tag (still limited by ok_attributes), move strange else { if ... } to just be elsif {}, strip out unnecessary variable, etc.
------------------------------------------------------------------------
r393832 | felicity | 2006-04-13 15:26:19 +0000 (Thu, 13 Apr 2006) | 1 line

style="visibility: hidden" ought to be caught as making text invisible...
------------------------------------------------------------------------
r393767 | jm | 2006-04-13 08:50:45 +0000 (Thu, 13 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r393419 | jm | 2006-04-12 08:50:43 +0000 (Wed, 12 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r393358 | dos | 2006-04-12 01:05:42 +0000 (Wed, 12 Apr 2006) | 1 line

bug 3838: work around Perl bug causing  to become tainted -- thanks to Mark Martinec for pointing out the bug with Perl itself
------------------------------------------------------------------------
r393348 | felicity | 2006-04-12 00:43:54 +0000 (Wed, 12 Apr 2006) | 1 line

bug 4864: remove extraneous front-slash from gpghomedir path
------------------------------------------------------------------------
r393201 | jm | 2006-04-11 12:31:08 +0000 (Tue, 11 Apr 2006) | 1 line

add overlooked MANIFEST addition ;)
------------------------------------------------------------------------
r393159 | jm | 2006-04-11 08:50:41 +0000 (Tue, 11 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r393128 | felicity | 2006-04-11 01:19:35 +0000 (Tue, 11 Apr 2006) | 1 line

oops, need to load a plugin to use it. <G>
------------------------------------------------------------------------
r392951 | jm | 2006-04-10 14:01:57 +0000 (Mon, 10 Apr 2006) | 1 line

reverted bug 3109 short-circuiting work from r391177, due to veto
------------------------------------------------------------------------
r392950 | jm | 2006-04-10 14:00:53 +0000 (Mon, 10 Apr 2006) | 1 line

reverted bug 3109 short-circuiting work from r391177, due to veto
------------------------------------------------------------------------
r392908 | jm | 2006-04-10 08:50:40 +0000 (Mon, 10 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r392791 | felicity | 2006-04-09 17:42:32 +0000 (Sun, 09 Apr 2006) | 1 line

add in HTTPSMismatch plugin
------------------------------------------------------------------------
r392783 | jm | 2006-04-09 17:17:46 +0000 (Sun, 09 Apr 2006) | 1 line

extra space unnecessary
------------------------------------------------------------------------
r392709 | sidney | 2006-04-09 12:53:21 +0000 (Sun, 09 Apr 2006) | 1 line

bug 4793: don't substitute anything for undefined template tags
------------------------------------------------------------------------
r392708 | sidney | 2006-04-09 12:43:31 +0000 (Sun, 09 Apr 2006) | 1 line

bug 4829: cleaner fix than was committed in 390993
------------------------------------------------------------------------
r392690 | jm | 2006-04-09 08:50:41 +0000 (Sun, 09 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r392551 | sidney | 2006-04-08 16:17:19 +0000 (Sat, 08 Apr 2006) | 1 line

remove dead code, internal sub no longer used, related to bugs 4412 and 4619
------------------------------------------------------------------------
r392533 | sidney | 2006-04-08 14:35:44 +0000 (Sat, 08 Apr 2006) | 1 line

bug 4828: pass arguments to dccifd based on what we calculate as the proper Received header instead of allowing dccifd to always use the first Received header
------------------------------------------------------------------------
r392497 | jm | 2006-04-08 08:50:38 +0000 (Sat, 08 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r392480 | sidney | 2006-04-08 04:58:12 +0000 (Sat, 08 Apr 2006) | 1 line

bug 4859: plug memory leak. Even though it was released when child ended it limited the practical max number of children
------------------------------------------------------------------------
r392220 | jm | 2006-04-07 08:50:37 +0000 (Fri, 07 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r392082 | dos | 2006-04-06 21:22:29 +0000 (Thu, 06 Apr 2006) | 1 line

bug 3871: add option to spamd to specify group to run as
------------------------------------------------------------------------
r391938 | jm | 2006-04-06 08:50:35 +0000 (Thu, 06 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r391843 | dos | 2006-04-05 23:13:23 +0000 (Wed, 05 Apr 2006) | 1 line

bug 4802: include v320.pre in Makefile.PL
------------------------------------------------------------------------
r391838 | jm | 2006-04-05 22:47:23 +0000 (Wed, 05 Apr 2006) | 1 line

bug 3815: fix RELAYCOUNTRY tag so that it really works this time
------------------------------------------------------------------------
r391793 | dos | 2006-04-05 20:35:34 +0000 (Wed, 05 Apr 2006) | 1 line

bug 4852: check to see if  is defined too
------------------------------------------------------------------------
r391755 | dos | 2006-04-05 19:46:22 +0000 (Wed, 05 Apr 2006) | 1 line

bug 4852: race condition in spamd pre-fork causes harmless warnings in logs, fixed
------------------------------------------------------------------------
r391631 | jm | 2006-04-05 14:43:57 +0000 (Wed, 05 Apr 2006) | 1 line

rule updates for 3.2.0 should not contain new features.  TODO: need a better way to do this
------------------------------------------------------------------------
r391628 | jm | 2006-04-05 14:35:43 +0000 (Wed, 05 Apr 2006) | 1 line

ignore too-recent daterevs for purposes of http://ruleqa.spamassassin.org/?daterev=last-night
------------------------------------------------------------------------
r391566 | jm | 2006-04-05 08:50:35 +0000 (Wed, 05 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r391410 | dos | 2006-04-04 20:49:23 +0000 (Tue, 04 Apr 2006) | 1 line

bug 4699: use M::SA::Timeout for copy_config call
------------------------------------------------------------------------
r391293 | jm | 2006-04-04 13:05:17 +0000 (Tue, 04 Apr 2006) | 1 line

bug 4855: disable deprecated 'unsafe' function warnings on MSVC++ >= VC8+, patch from Nico Prenzel
------------------------------------------------------------------------
r391287 | jm | 2006-04-04 12:23:25 +0000 (Tue, 04 Apr 2006) | 1 line

bug 4767: all net checks will stop forever if is_dns_available() encounters a single failure; add 'dns_test_interval' instead to auto-retest every 10 minutes, patch from Dallas Engelken <dallase /at/ nmgi.com>
------------------------------------------------------------------------
r391250 | jm | 2006-04-04 08:50:34 +0000 (Tue, 04 Apr 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r391177 | jm | 2006-04-03 23:33:53 +0000 (Mon, 03 Apr 2006) | 1 line

bug 3109: simple short-circuiting of 'definite ham' or 'definite spam' messages based on individual short-circuit rules using the 'shortcircuit' setting, by Dallas Engelken <dallase /at/ nmgi.com>
------------------------------------------------------------------------
r391158 | dos | 2006-04-03 22:20:18 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4699: avoid cases where timeouts can occur without a die() call
------------------------------------------------------------------------
r391157 | dos | 2006-04-03 22:09:51 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4699: avoid cases where timeouts can occur without a die() call
------------------------------------------------------------------------
r391154 | jm | 2006-04-03 21:41:10 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4699: avoid cases where timeouts can occur without a die() call
------------------------------------------------------------------------
r391097 | jm | 2006-04-03 18:00:40 +0000 (Mon, 03 Apr 2006) | 1 line

silence silly noises from perl
------------------------------------------------------------------------
r391072 | jm | 2006-04-03 15:42:06 +0000 (Mon, 03 Apr 2006) | 1 line

stop this leaving leftover kids around
------------------------------------------------------------------------
r391067 | jm | 2006-04-03 15:18:03 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4593: revert changes made for bug 3452, where some spamc vars were made unsigned, resulting in infinite loop caused by an error condition in spamc
------------------------------------------------------------------------
r390993 | jm | 2006-04-03 10:25:30 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4829: use 'keys' to reset 'each' iterator state, instead of just iterating off the end of the array
------------------------------------------------------------------------
r390991 | jm | 2006-04-03 10:21:59 +0000 (Mon, 03 Apr 2006) | 1 line

remove some long-dead code for 'log_raw_counts'; use some slightly more efficient code in a bayes hot-spot; don't maintain a separate count of tokens where an array-length check will do
------------------------------------------------------------------------
r390942 | felicity | 2006-04-03 02:13:24 +0000 (Mon, 03 Apr 2006) | 1 line

bug 4850: reenable the razor plugin because of the usage license change as of 3/13/2006
------------------------------------------------------------------------
r390624 | dos | 2006-04-01 08:45:59 +0000 (Sat, 01 Apr 2006) | 1 line

bug 4699: catch copy_config alarm timeouts with empty 
------------------------------------------------------------------------
r390308 | dos | 2006-03-31 02:52:19 +0000 (Fri, 31 Mar 2006) | 1 line

bug 4837: update pod 'priority' description
------------------------------------------------------------------------
r390306 | dos | 2006-03-31 02:27:28 +0000 (Fri, 31 Mar 2006) | 1 line

bug 4830: fix typo from r386716
------------------------------------------------------------------------
r389430 | dos | 2006-03-28 07:31:13 +0000 (Tue, 28 Mar 2006) | 1 line

MANIFEST deletion missed in r386895
------------------------------------------------------------------------
r388878 | duncf | 2006-03-26 04:56:04 +0000 (Sun, 26 Mar 2006) | 1 line

document RelayCountry dependency on IP::Country::Fast in init.pre
------------------------------------------------------------------------
r388666 | dos | 2006-03-24 22:30:17 +0000 (Fri, 24 Mar 2006) | 1 line

bug 4802: whitelisting: use optional indentity instead of signer since identities can be stricter but encompass the signer domain
------------------------------------------------------------------------
r388651 | dos | 2006-03-24 21:43:07 +0000 (Fri, 24 Mar 2006) | 1 line

bug 4802: remove the sanitize function copied from the DK plugin, it's not needed with DKIM
------------------------------------------------------------------------
r388646 | duncf | 2006-03-24 21:37:59 +0000 (Fri, 24 Mar 2006) | 1 line

Fix typo
------------------------------------------------------------------------
r388430 | dos | 2006-03-24 07:25:06 +0000 (Fri, 24 Mar 2006) | 1 line

the DKIM plugin is disabled by default, so the tests must be too
------------------------------------------------------------------------
r388418 | dos | 2006-03-24 07:03:35 +0000 (Fri, 24 Mar 2006) | 1 line

t/dkim.t should be executable
------------------------------------------------------------------------
r388402 | dos | 2006-03-24 06:18:35 +0000 (Fri, 24 Mar 2006) | 1 line

bug 4802: implement whitelist_from_dkim
------------------------------------------------------------------------
r388330 | dos | 2006-03-24 02:19:48 +0000 (Fri, 24 Mar 2006) | 1 line

bug 4802: commit Justin's DKIM patch (disabled by default) -- to many files to play patch tag
------------------------------------------------------------------------
r388276 | felicity | 2006-03-23 21:32:39 +0000 (Thu, 23 Mar 2006) | 1 line

bug 4839: don't replace tabs with underscores in Logger.pm
------------------------------------------------------------------------
r387224 | jm | 2006-03-20 15:47:29 +0000 (Mon, 20 Mar 2006) | 1 line

bug 4824: 'tryplugin' keyword, which allows sandbox plugins to be supported cleanly in mkrules
------------------------------------------------------------------------
r386895 | felicity | 2006-03-18 22:38:34 +0000 (Sat, 18 Mar 2006) | 1 line

get rid of script that doesn't work in 3.0+
------------------------------------------------------------------------
r386893 | felicity | 2006-03-18 22:37:20 +0000 (Sat, 18 Mar 2006) | 1 line

we got rid of the rules needing triplets.txt, so drop all the related files and pointers
------------------------------------------------------------------------
r386816 | felicity | 2006-03-18 07:05:04 +0000 (Sat, 18 Mar 2006) | 1 line

bug 4829: found a few places where we exit out of an each() loop early, thereby likely to cause problems down the road
------------------------------------------------------------------------
r386716 | felicity | 2006-03-17 21:25:15 +0000 (Fri, 17 Mar 2006) | 1 line

don't use die() in TextCat plugin
------------------------------------------------------------------------
r386260 | felicity | 2006-03-16 05:01:23 +0000 (Thu, 16 Mar 2006) | 1 line

bug 4827: in first_existing_path(), return undef if none of the paths are found instead of using the last path in the list
------------------------------------------------------------------------
r386241 | felicity | 2006-03-16 02:11:11 +0000 (Thu, 16 Mar 2006) | 1 line

get rid of superfluous comment
------------------------------------------------------------------------
r385964 | felicity | 2006-03-15 03:41:15 +0000 (Wed, 15 Mar 2006) | 1 line

bug 3754: also need to modify spamassassin to return an exit value >0 based on the AI::run() result
------------------------------------------------------------------------
r385963 | felicity | 2006-03-15 03:35:03 +0000 (Wed, 15 Mar 2006) | 1 line

bug 3754: oops.  if we're in a loop, use next, not return.
------------------------------------------------------------------------
r385960 | felicity | 2006-03-15 03:27:34 +0000 (Wed, 15 Mar 2006) | 1 line

bug 3754: cause AI::run() to return a value indicating if there was a problem, and let sa-learn see this and set the exit code to non-zero if there was a problem (such as a file wasn't able to be opened).  also, we used die() in places where we should have been able to recover, so throw a warning instead and recover.
------------------------------------------------------------------------
r385952 | felicity | 2006-03-15 02:06:09 +0000 (Wed, 15 Mar 2006) | 1 line

oops, need to up the # of tests as well
------------------------------------------------------------------------
r385944 | felicity | 2006-03-15 00:53:40 +0000 (Wed, 15 Mar 2006) | 1 line

bug 4813: add in parser test to avoid misparsing sendmail received header as qmail
------------------------------------------------------------------------
r385943 | felicity | 2006-03-15 00:43:36 +0000 (Wed, 15 Mar 2006) | 1 line

bug 4813: avoid misparsing sendmail received header as qmail
------------------------------------------------------------------------
r385848 | felicity | 2006-03-14 18:37:24 +0000 (Tue, 14 Mar 2006) | 1 line

clean up some other perceptron-related files during 'make clean'
------------------------------------------------------------------------
r385424 | felicity | 2006-03-13 04:54:08 +0000 (Mon, 13 Mar 2006) | 1 line

fix whitespace
------------------------------------------------------------------------
r385366 | felicity | 2006-03-12 20:34:49 +0000 (Sun, 12 Mar 2006) | 1 line

bug 4826: Razor2 plugin needs to load M::SA::Timeout
------------------------------------------------------------------------
r385260 | jm | 2006-03-12 08:50:03 +0000 (Sun, 12 Mar 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r385256 | felicity | 2006-03-12 06:37:56 +0000 (Sun, 12 Mar 2006) | 1 line

streamline the header rules so that the header is retrieved, then all the appropriate rules are run.
------------------------------------------------------------------------
r385220 | felicity | 2006-03-12 00:42:10 +0000 (Sun, 12 Mar 2006) | 1 line

this is 3.2.0... ;)
------------------------------------------------------------------------
r385197 | felicity | 2006-03-11 23:25:57 +0000 (Sat, 11 Mar 2006) | 1 line

bug 4655: fix issues with redhat spamd rc script
------------------------------------------------------------------------
r385191 | felicity | 2006-03-11 23:11:34 +0000 (Sat, 11 Mar 2006) | 1 line

URIBL_{BLACK,GREY,RED} will be in 3.1.1 updates, so we can switch to reuse for 3.2.0
------------------------------------------------------------------------
r385116 | felicity | 2006-03-11 18:02:42 +0000 (Sat, 11 Mar 2006) | 1 line

rsync happens from two different directories, and we need to use the right one when rsyncing...
------------------------------------------------------------------------
r385115 | felicity | 2006-03-11 17:56:36 +0000 (Sat, 11 Mar 2006) | 1 line

drop some files we no longer use from build
------------------------------------------------------------------------
r385040 | jm | 2006-03-11 08:50:04 +0000 (Sat, 11 Mar 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r384921 | felicity | 2006-03-10 21:42:33 +0000 (Fri, 10 Mar 2006) | 1 line

clean out automatic rule updates, not manual updates
------------------------------------------------------------------------
r384920 | jm | 2006-03-10 21:41:36 +0000 (Fri, 10 Mar 2006) | 1 line

this is too noisy for general use IMO
------------------------------------------------------------------------
r384885 | felicity | 2006-03-10 18:29:21 +0000 (Fri, 10 Mar 2006) | 1 line

bug 4788: update POD for M::SA::find_rule_support_file()
------------------------------------------------------------------------
r384729 | jm | 2006-03-10 08:50:04 +0000 (Fri, 10 Mar 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r384671 | felicity | 2006-03-10 01:41:09 +0000 (Fri, 10 Mar 2006) | 1 line

update the POD examples a little to show that rewrite_mail puts out a new scalar
------------------------------------------------------------------------
r384668 | felicity | 2006-03-10 01:34:41 +0000 (Fri, 10 Mar 2006) | 1 line

update run_nightly so that it knows when it is going to be updated, and let it re-exec itself if it is being updated
------------------------------------------------------------------------
r384666 | felicity | 2006-03-10 01:24:34 +0000 (Fri, 10 Mar 2006) | 1 line

disable the tarball deletions -- it'll get rid of manual updates, such as those for 3.1
------------------------------------------------------------------------
r384658 | felicity | 2006-03-10 00:43:46 +0000 (Fri, 10 Mar 2006) | 1 line

disable bayes when linting in sa-update so that the default config version won't sync the journal, expire the db, etc.
------------------------------------------------------------------------
r384629 | felicity | 2006-03-09 22:04:52 +0000 (Thu, 09 Mar 2006) | 1 line

bug 4822: change rawbody to run over the entire undecoded part content, not split into lines or paragraphs
------------------------------------------------------------------------
r384625 | felicity | 2006-03-09 21:40:51 +0000 (Thu, 09 Mar 2006) | 1 line

documentation update for sa-update, allow usegpg for backward compatibility
------------------------------------------------------------------------
r384077 | felicity | 2006-03-08 01:04:56 +0000 (Wed, 08 Mar 2006) | 1 line

need to make sure the new 20_head_tests.cf doesn't get removed
------------------------------------------------------------------------
r384076 | felicity | 2006-03-08 01:03:57 +0000 (Wed, 08 Mar 2006) | 1 line

move __ENV_AND_HDR_FROM_MATCH to rules/ so that it can be used by ENV_AND_HDR_SPF_MATCH.  t/meta.t via parse-rules-for-masses will ignore 70_sandbox.cf, and that causes errors
------------------------------------------------------------------------
r384075 | felicity | 2006-03-08 01:01:27 +0000 (Wed, 08 Mar 2006) | 1 line

add in license information
------------------------------------------------------------------------
r384069 | felicity | 2006-03-08 00:35:58 +0000 (Wed, 08 Mar 2006) | 1 line

bug 4819: when running through the config, don't try to redefine subroutines that already exist
------------------------------------------------------------------------
r384057 | felicity | 2006-03-07 23:47:42 +0000 (Tue, 07 Mar 2006) | 1 line

remove the same 3 files from the 'definitely clean these out of rules' list, since they're supposed to be there
------------------------------------------------------------------------
r384056 | felicity | 2006-03-07 23:45:54 +0000 (Tue, 07 Mar 2006) | 1 line

specify that certain files from rules are in fact, in rules
------------------------------------------------------------------------
r384051 | felicity | 2006-03-07 23:23:17 +0000 (Tue, 07 Mar 2006) | 1 line

add in more documentation, push the user-settings up near the top of the script, etc.
------------------------------------------------------------------------
r384018 | felicity | 2006-03-07 21:20:48 +0000 (Tue, 07 Mar 2006) | 1 line

mass-check was using the Last Changed Revision # from the source tree to figure out what version was in use, but we use the raw revision # when specifying nightly/weekly runs, and the two numbers are very rarely equal, so it gets hard to track with different numbers.  just use the revision checked out.
------------------------------------------------------------------------
r383976 | sidney | 2006-03-07 19:40:14 +0000 (Tue, 07 Mar 2006) | 1 line

use size_t instead of socket_t for compatibility with Win32 some old FreeBSD and maybe other platforms
------------------------------------------------------------------------
r383764 | felicity | 2006-03-07 04:11:40 +0000 (Tue, 07 Mar 2006) | 1 line

no real reason to have multiple uribl files, so merge them into a single one
------------------------------------------------------------------------
r383701 | sidney | 2006-03-06 23:19:08 +0000 (Mon, 06 Mar 2006) | 1 line

Bug 3710: fix spamc to timeout as -t option specifies when tcp and unix connects fail. Also fix some debugging code normally not compiled
------------------------------------------------------------------------
r383618 | felicity | 2006-03-06 18:55:15 +0000 (Mon, 06 Mar 2006) | 1 line

more config files that go with plugins, so they should be in rules and not rulesrc
------------------------------------------------------------------------
r383616 | felicity | 2006-03-06 18:53:16 +0000 (Mon, 06 Mar 2006) | 1 line

uribl rules go with the plugin, so the rules should be in rules and not rulesrc
------------------------------------------------------------------------
r383615 | felicity | 2006-03-06 18:51:02 +0000 (Mon, 06 Mar 2006) | 1 line

change run-corpora script to update via rsync instead of svn, etc.
------------------------------------------------------------------------
r383466 | dos | 2006-03-06 05:08:31 +0000 (Mon, 06 Mar 2006) | 6 lines

- provide for $pms->{relays_internal} and $pms->{relays_external} and their
  related tags and metadata
- bug 4760 makes this possible
- this allows for simpler determination of the proper external relay to test
  when doing SPF checks, etc.

------------------------------------------------------------------------
r383350 | felicity | 2006-03-05 16:17:11 +0000 (Sun, 05 Mar 2006) | 1 line

remove the --ignore-externals option since the svn version on zones doesn't have it, thereby completely breaking the rsync area
------------------------------------------------------------------------
r382845 | jm | 2006-03-03 14:58:47 +0000 (Fri, 03 Mar 2006) | 1 line

clarify
------------------------------------------------------------------------
r382790 | jm | 2006-03-03 12:49:53 +0000 (Fri, 03 Mar 2006) | 1 line

'resuts'.  I am illiterate
------------------------------------------------------------------------
r382789 | jm | 2006-03-03 12:43:39 +0000 (Fri, 03 Mar 2006) | 1 line

stupid typo, BBHOME instead of BBMHOME
------------------------------------------------------------------------
r382787 | jm | 2006-03-03 12:35:09 +0000 (Fri, 03 Mar 2006) | 1 line

make the URL of the rule-QA app, and the directory the bbmass buildbot slaves run in, configurable settings since they depend on local setup; also, redo the output from the last 'configure' step of the bbmass buildbot to more clearly list the link to the ruleqa reports
------------------------------------------------------------------------
r382785 | jm | 2006-03-03 12:22:06 +0000 (Fri, 03 Mar 2006) | 1 line

use --ignore-externals when exporting build tree for rsync, thx JG
------------------------------------------------------------------------
r382784 | jm | 2006-03-03 12:20:18 +0000 (Fri, 03 Mar 2006) | 1 line

update to match what's been on the zone for the last few days
------------------------------------------------------------------------
r382783 | jm | 2006-03-03 12:18:50 +0000 (Fri, 03 Mar 2006) | 1 line

a little more error-handling required for gnuplot failures
------------------------------------------------------------------------
r382445 | jm | 2006-03-02 17:02:25 +0000 (Thu, 02 Mar 2006) | 1 line

DK_SIGNED fires when a message has a verified sig, too
------------------------------------------------------------------------
r382323 | jm | 2006-03-02 08:55:41 +0000 (Thu, 02 Mar 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r382048 | jm | 2006-03-01 15:12:49 +0000 (Wed, 01 Mar 2006) | 1 line

more support for symlinks in the source corpora
------------------------------------------------------------------------
r382031 | kmcgrail | 2006-03-01 14:31:15 +0000 (Wed, 01 Mar 2006) | 1 line

KAM first commit with Credits and sandbox rule test
------------------------------------------------------------------------
r382018 | jm | 2006-03-01 13:54:22 +0000 (Wed, 01 Mar 2006) | 1 line

bug: support symbolic links when reading raw corpora for corpus link-farm creation script
------------------------------------------------------------------------
r382001 | jm | 2006-03-01 12:23:57 +0000 (Wed, 01 Mar 2006) | 1 line

this script also needs the daylight-savings date check
------------------------------------------------------------------------
r381980 | jm | 2006-03-01 10:36:58 +0000 (Wed, 01 Mar 2006) | 1 line

due to use of an SVN external for rulesrc, our use of 'svn update -r' and 'svn export -r' was quietly being ignored -- argh.  work around this.  NOTE: nightly mass-checkers, you also need to do this
------------------------------------------------------------------------
r381858 | felicity | 2006-03-01 01:19:09 +0000 (Wed, 01 Mar 2006) | 1 line

put in my latest version of the scripts I use for nightly/weekly/devel runs
------------------------------------------------------------------------
r381804 | dos | 2006-02-28 22:44:48 +0000 (Tue, 28 Feb 2006) | 1 line

bug 4760: don't check to see if excluded internal_networks are included in trusted_networks && don't match included internal_networks in excluded trusted_networks
------------------------------------------------------------------------
r381731 | felicity | 2006-02-28 18:36:40 +0000 (Tue, 28 Feb 2006) | 1 line

in set_bool_value, if the value is actually a string, perl throws a warning.  use a RE instead.
------------------------------------------------------------------------
r381699 | jm | 2006-02-28 16:46:04 +0000 (Tue, 28 Feb 2006) | 1 line

another lost file
------------------------------------------------------------------------
r381659 | jm | 2006-02-28 13:46:55 +0000 (Tue, 28 Feb 2006) | 1 line

more files from the bbmass setup that had escaped VC
------------------------------------------------------------------------
r381653 | jm | 2006-02-28 13:32:09 +0000 (Tue, 28 Feb 2006) | 1 line

add bbmass buildbot config file to SVN
------------------------------------------------------------------------
r381595 | jm | 2006-02-28 08:56:26 +0000 (Tue, 28 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r381552 | felicity | 2006-02-28 03:51:33 +0000 (Tue, 28 Feb 2006) | 1 line

bug 4090: x86_64 platforms (linux specifically) seem to have an issue with compiling libspamc.so, so disable it for now since it's not necessary for our stuff
------------------------------------------------------------------------
r381291 | jm | 2006-02-27 08:56:24 +0000 (Mon, 27 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r381206 | felicity | 2006-02-27 00:27:01 +0000 (Mon, 27 Feb 2006) | 1 line

make sure the counter file is reset to 0 when it's a new day, otherwise we'll get into strange situations where we can't make new updates for a day.
------------------------------------------------------------------------
r380783 | jgmyers | 2006-02-24 18:53:34 +0000 (Fri, 24 Feb 2006) | 1 line

Bugs 4606, 4609: Adjust MIME parsing limits
------------------------------------------------------------------------
r380702 | felicity | 2006-02-24 16:36:22 +0000 (Fri, 24 Feb 2006) | 1 line

per discussion on surbl list, add in 2tld for .gr
------------------------------------------------------------------------
r380242 | jm | 2006-02-23 22:19:59 +0000 (Thu, 23 Feb 2006) | 1 line

bug 4728: doco fix; add doco for -lastexternal and a couple of trivial reformattings
------------------------------------------------------------------------
r380241 | jm | 2006-02-23 22:19:29 +0000 (Thu, 23 Feb 2006) | 1 line

bug 4760: hosts in internal_networks should always be in trusted_networks; one is a subset of the other.  enforce this and make the error condition an explicit error
------------------------------------------------------------------------
r380164 | jm | 2006-02-23 17:21:58 +0000 (Thu, 23 Feb 2006) | 1 line

use more reliable mod_rewrite instead of ProxyPass for buildbot sites, since otherwise all other documents are obscured
------------------------------------------------------------------------
r380070 | jm | 2006-02-23 08:56:18 +0000 (Thu, 23 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r379980 | felicity | 2006-02-22 23:27:51 +0000 (Wed, 22 Feb 2006) | 1 line

need to use a newer perl on the zones machine to run mkrules...
------------------------------------------------------------------------
r379971 | felicity | 2006-02-22 23:19:17 +0000 (Wed, 22 Feb 2006) | 1 line

call mkrules for the rsync export so that end users don't have to deal with it (ie: the rsync is complete)
------------------------------------------------------------------------
r379969 | felicity | 2006-02-22 23:14:47 +0000 (Wed, 22 Feb 2006) | 1 line

fix issues with rsync nightly and 'svn info' so that things work properly
------------------------------------------------------------------------
r379966 | felicity | 2006-02-22 23:14:20 +0000 (Wed, 22 Feb 2006) | 1 line

move the release crontab to use the updated cvshead version of the scripts instead of script_svn since the latter is generally never updated
------------------------------------------------------------------------
r379942 | felicity | 2006-02-22 22:19:59 +0000 (Wed, 22 Feb 2006) | 1 line

bug 4422: validate pyzor and dcc paths
------------------------------------------------------------------------
r379914 | jm | 2006-02-22 21:22:20 +0000 (Wed, 22 Feb 2006) | 1 line

revert, no luck
------------------------------------------------------------------------
r379912 | jm | 2006-02-22 21:21:25 +0000 (Wed, 22 Feb 2006) | 1 line

try again
------------------------------------------------------------------------
r379905 | jm | 2006-02-22 21:16:59 +0000 (Wed, 22 Feb 2006) | 1 line

turn off mod_rewrite debugging, use neater way to handle normal static files
------------------------------------------------------------------------
r379760 | jm | 2006-02-22 12:30:34 +0000 (Wed, 22 Feb 2006) | 1 line

move rule-qa app to its own vhost, for shorter URLs; fix Apache wierdness when the regexp-rule-grep functionality was used, since httpd and CGI.pm both cause difficulty with %2F appearing in path_info; don't try to graph multiple rules, since the graphing script doesn't support that
------------------------------------------------------------------------
r379747 | jm | 2006-02-22 10:50:31 +0000 (Wed, 22 Feb 2006) | 1 line

add new vhosts
------------------------------------------------------------------------
r379745 | jm | 2006-02-22 10:46:43 +0000 (Wed, 22 Feb 2006) | 1 line

fix typo; add doco
------------------------------------------------------------------------
r379743 | jm | 2006-02-22 10:43:31 +0000 (Wed, 22 Feb 2006) | 1 line

add apache config to SVN
------------------------------------------------------------------------
r379739 | jm | 2006-02-22 10:27:27 +0000 (Wed, 22 Feb 2006) | 1 line

refactor out zone-serial-number incrementing into a standalone script so that hand-editing of the zone can be made easier
------------------------------------------------------------------------
r379732 | jm | 2006-02-22 08:56:16 +0000 (Wed, 22 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r379685 | felicity | 2006-02-22 05:03:31 +0000 (Wed, 22 Feb 2006) | 1 line

trivial change: fix potential fd leak where a spent token will leave the DB tied
------------------------------------------------------------------------
r379681 | felicity | 2006-02-22 04:54:55 +0000 (Wed, 22 Feb 2006) | 1 line

bug 4254: don't allow '**' or '* *' in meta expressions
------------------------------------------------------------------------
r379673 | felicity | 2006-02-22 04:05:18 +0000 (Wed, 22 Feb 2006) | 1 line

bug 4793: added some documentation explaining that tags will be replaced everywhere
------------------------------------------------------------------------
r379629 | jm | 2006-02-21 23:56:07 +0000 (Tue, 21 Feb 2006) | 1 line

bug 4791: avoid 'Malformed UTF-8' warnings caused by bad UTF data in the message and a tr/// statement used to measure body string length
------------------------------------------------------------------------
r379392 | jm | 2006-02-21 08:56:17 +0000 (Tue, 21 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r379281 | jm | 2006-02-20 23:34:15 +0000 (Mon, 20 Feb 2006) | 1 line

bug 4790: sa-update should not use HOME/.gnupg for its keyring.  instead, use /etc/mail/spamassassin/sa-update-keys
------------------------------------------------------------------------
r379271 | jm | 2006-02-20 22:59:06 +0000 (Mon, 20 Feb 2006) | 1 line

ignore rule_names.t failures unless specifically enabled; they're now commonplace and therefore superfluous due to frequent changes in the rulesrc repository
------------------------------------------------------------------------
r379269 | jm | 2006-02-20 22:56:43 +0000 (Mon, 20 Feb 2006) | 1 line

trivial reformatting
------------------------------------------------------------------------
r379062 | jm | 2006-02-20 08:56:14 +0000 (Mon, 20 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378965 | felicity | 2006-02-19 21:59:57 +0000 (Sun, 19 Feb 2006) | 1 line

fix the lint check bit in sa-update.  use the internal module version to lint.
------------------------------------------------------------------------
r378963 | jm | 2006-02-19 21:56:27 +0000 (Sun, 19 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378959 | felicity | 2006-02-19 21:40:08 +0000 (Sun, 19 Feb 2006) | 1 line

if a config line was in a conditional, and another related line came along, the conditional could be erased (ie: score FOO 0, lang de describe FOO blah)
------------------------------------------------------------------------
r378863 | jm | 2006-02-19 08:56:13 +0000 (Sun, 19 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378706 | jm | 2006-02-18 08:56:13 +0000 (Sat, 18 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378461 | jm | 2006-02-17 08:56:13 +0000 (Fri, 17 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378437 | felicity | 2006-02-17 05:23:07 +0000 (Fri, 17 Feb 2006) | 1 line

bug 4800: fix the RE parsing X-Spam-Status headers during mass-check net reuse
------------------------------------------------------------------------
r378416 | felicity | 2006-02-17 02:49:18 +0000 (Fri, 17 Feb 2006) | 1 line

promote the new LOCALPART code since the results are much better
------------------------------------------------------------------------
r378252 | felicity | 2006-02-16 14:24:03 +0000 (Thu, 16 Feb 2006) | 1 line

forgot to promot the space ratio rule to the rules area from sandbox
------------------------------------------------------------------------
r378201 | jm | 2006-02-16 08:56:09 +0000 (Thu, 16 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r378113 | felicity | 2006-02-15 23:03:18 +0000 (Wed, 15 Feb 2006) | 1 line

move the vertical words eval out from my plugin
------------------------------------------------------------------------
r377967 | jm | 2006-02-15 08:56:07 +0000 (Wed, 15 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r377905 | dos | 2006-02-15 00:11:28 +0000 (Wed, 15 Feb 2006) | 1 line

bug 4795: validate score config -- remove lint_warn()
------------------------------------------------------------------------
r377834 | dos | 2006-02-14 21:19:04 +0000 (Tue, 14 Feb 2006) | 1 line

bug 4795: validate score config option
------------------------------------------------------------------------
r377671 | jm | 2006-02-14 08:56:07 +0000 (Tue, 14 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r377323 | jm | 2006-02-13 08:56:06 +0000 (Mon, 13 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r377146 | jm | 2006-02-12 08:56:05 +0000 (Sun, 12 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r377099 | jm | 2006-02-12 01:02:08 +0000 (Sun, 12 Feb 2006) | 1 line

remove this sort call: it was sorting by the address of the module-info hashref instead of the module name, so produced essentially-random ordering
------------------------------------------------------------------------
r377095 | jm | 2006-02-12 00:18:07 +0000 (Sun, 12 Feb 2006) | 1 line

trivial: avoid a silly-but-harmless 'Use of uninitialized value in numeric eq (==)' warning
------------------------------------------------------------------------
r376956 | jm | 2006-02-11 08:56:06 +0000 (Sat, 11 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r376865 | jm | 2006-02-10 21:30:56 +0000 (Fri, 10 Feb 2006) | 1 line

produce more useful errors when GPG dies
------------------------------------------------------------------------
r376597 | jm | 2006-02-10 08:56:04 +0000 (Fri, 10 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r376427 | felicity | 2006-02-09 20:31:43 +0000 (Thu, 09 Feb 2006) | 1 line

disable sa-update's lint since it breaks for channels other than updates.spamassassin.org and/or channels which aren't a full rule distribution
------------------------------------------------------------------------
r376417 | felicity | 2006-02-09 20:11:46 +0000 (Thu, 09 Feb 2006) | 1 line

need to untaint updatedir and channel list before using, or else we may get taint errors
------------------------------------------------------------------------
r376415 | jm | 2006-02-09 20:11:02 +0000 (Thu, 09 Feb 2006) | 1 line

trivial cleanup and comment
------------------------------------------------------------------------
r376400 | felicity | 2006-02-09 19:38:07 +0000 (Thu, 09 Feb 2006) | 1 line

update sa-update pod
------------------------------------------------------------------------
r376388 | felicity | 2006-02-09 19:02:25 +0000 (Thu, 09 Feb 2006) | 1 line

after we're done dealing with channels, remove both sets of temp files.  newcf_file could still exist if the only channel we tried to update had an error.
------------------------------------------------------------------------
r376356 | felicity | 2006-02-09 17:22:12 +0000 (Thu, 09 Feb 2006) | 1 line

promote HTML_IFRAME_SRC and URI_HTML_ONLY
------------------------------------------------------------------------
r376229 | jm | 2006-02-09 08:56:03 +0000 (Thu, 09 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r376194 | felicity | 2006-02-09 05:28:45 +0000 (Thu, 09 Feb 2006) | 1 line

bug 4695: had to fix RE after further testing
------------------------------------------------------------------------
r376189 | felicity | 2006-02-09 05:07:18 +0000 (Thu, 09 Feb 2006) | 1 line

bug 4695: fix RE to just replace '<singleword />' instead of looking at whole tags.
------------------------------------------------------------------------
r376185 | felicity | 2006-02-09 05:01:45 +0000 (Thu, 09 Feb 2006) | 1 line

bug 4695: treat <br/> the same as <br>
------------------------------------------------------------------------
r375898 | jm | 2006-02-08 08:56:01 +0000 (Wed, 08 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r375550 | jm | 2006-02-07 08:56:17 +0000 (Tue, 07 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r375385 | felicity | 2006-02-06 21:37:10 +0000 (Mon, 06 Feb 2006) | 1 line

the ALWAYS array wasn't being used anymore, so let's stop passing around an empty array...
------------------------------------------------------------------------
r375261 | felicity | 2006-02-06 12:04:08 +0000 (Mon, 06 Feb 2006) | 1 line

for now, use a horrible kluge to make sure that mkrules puts loadplugin lines at the top of outputted files -- thereby letting the plugins get loaded before the rules that need them.
------------------------------------------------------------------------
r375248 | felicity | 2006-02-06 11:17:01 +0000 (Mon, 06 Feb 2006) | 1 line

bug 4784: logs-to-c would use a threshold of 5 if 0 was specified -- set the defaults before the GetOptions() call to avoid this issue.
------------------------------------------------------------------------
r375224 | jm | 2006-02-06 08:56:03 +0000 (Mon, 06 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374984 | jm | 2006-02-05 08:55:56 +0000 (Sun, 05 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374837 | jm | 2006-02-04 08:55:56 +0000 (Sat, 04 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374739 | dos | 2006-02-03 20:50:43 +0000 (Fri, 03 Feb 2006) | 1 line

bug 4782: add domainkeys_timeout config option
------------------------------------------------------------------------
r374732 | dos | 2006-02-03 19:42:53 +0000 (Fri, 03 Feb 2006) | 1 line

bug 4781: add spf_timeout config option
------------------------------------------------------------------------
r374643 | dos | 2006-02-03 11:54:36 +0000 (Fri, 03 Feb 2006) | 1 line

bug 4780: fix IP_ADDRESS & LOCALHOST regexes to correctly parse IPv6 addresses
------------------------------------------------------------------------
r374606 | jm | 2006-02-03 08:55:53 +0000 (Fri, 03 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374570 | jm | 2006-02-03 02:48:35 +0000 (Fri, 03 Feb 2006) | 1 line

I think this may be why the rule-qa app thinks r371854 is the last rev
------------------------------------------------------------------------
r374568 | jm | 2006-02-03 02:39:34 +0000 (Fri, 03 Feb 2006) | 1 line

wierd, unremovable directories in the corpus-population cron job.  work around it
------------------------------------------------------------------------
r374308 | jm | 2006-02-02 08:55:52 +0000 (Thu, 02 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374216 | jm | 2006-02-02 00:47:16 +0000 (Thu, 02 Feb 2006) | 1 line

listed Timeout.pm one too many times
------------------------------------------------------------------------
r374162 | jm | 2006-02-01 20:27:16 +0000 (Wed, 01 Feb 2006) | 1 line

one too many _s caused timeouts to count as errors
------------------------------------------------------------------------
r374023 | jm | 2006-02-01 08:55:52 +0000 (Wed, 01 Feb 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r374006 | jm | 2006-02-01 06:18:28 +0000 (Wed, 01 Feb 2006) | 1 line

backout unwanted doco change
------------------------------------------------------------------------
r373962 | jm | 2006-02-01 01:53:08 +0000 (Wed, 01 Feb 2006) | 1 line

add new Timeout class to portably and cleanly encapsulate SIGALRM/POSIX messiness throughout the code; capture and inhibit a spurious "select returned -1" error when spamd children exit; fix an incorrect comment about write retries in SpamdPreforkScaling
------------------------------------------------------------------------
r373764 | jm | 2006-01-31 08:55:52 +0000 (Tue, 31 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r373676 | felicity | 2006-01-31 02:52:00 +0000 (Tue, 31 Jan 2006) | 1 line

put henry's sandbox plugin into the manifest file
------------------------------------------------------------------------
r373474 | jm | 2006-01-30 08:55:50 +0000 (Mon, 30 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r373296 | jm | 2006-01-29 08:55:49 +0000 (Sun, 29 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r373103 | jm | 2006-01-28 08:55:47 +0000 (Sat, 28 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r373061 | jm | 2006-01-28 01:31:31 +0000 (Sat, 28 Jan 2006) | 1 line

bug 4696: eradicate spurious 'tcp timeout' and 'select returned error on server filehandle' warnings from SpamdForkScaling
------------------------------------------------------------------------
r372895 | felicity | 2006-01-27 16:22:09 +0000 (Fri, 27 Jan 2006) | 1 line

bug 4772: trivial change to make the warning message for a tmpfile creation failure accurate
------------------------------------------------------------------------
r372786 | jm | 2006-01-27 08:55:46 +0000 (Fri, 27 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r372567 | jgmyers | 2006-01-26 16:51:03 +0000 (Thu, 26 Jan 2006) | 1 line

Bug 4636: Make charset normalization enabled by the normalize_charset config option
------------------------------------------------------------------------
r372488 | jm | 2006-01-26 08:55:45 +0000 (Thu, 26 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r372343 | jgmyers | 2006-01-25 22:21:59 +0000 (Wed, 25 Jan 2006) | 1 line

Remove parser_dns_pms cruft
------------------------------------------------------------------------
r372201 | felicity | 2006-01-25 12:13:52 +0000 (Wed, 25 Jan 2006) | 1 line

include the system error message when a write to the bayes journal fails at syswrite()
------------------------------------------------------------------------
r372163 | jm | 2006-01-25 08:55:45 +0000 (Wed, 25 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r372085 | jm | 2006-01-25 03:19:28 +0000 (Wed, 25 Jan 2006) | 1 line

bug 4696: possible workaround for spurious 'tcp timeout' warnings
------------------------------------------------------------------------
r372080 | jm | 2006-01-25 02:48:48 +0000 (Wed, 25 Jan 2006) | 1 line

bug 4695: use of HTML::Parser->empty_element_tags() allowed a number of HTML obfuscations past, demonstrated by uri.t test failures.  ignore it and instead 'hack' fix with a simple s/// substitution
------------------------------------------------------------------------
r371975 | jgmyers | 2006-01-24 18:38:42 +0000 (Tue, 24 Jan 2006) | 1 line

Typo
------------------------------------------------------------------------
r371869 | jm | 2006-01-24 08:55:42 +0000 (Tue, 24 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r371854 | jm | 2006-01-24 07:34:10 +0000 (Tue, 24 Jan 2006) | 1 line

remove useless first column; fix bugs in RESTian url scheme; use new links in other scripts
------------------------------------------------------------------------
r371845 | jm | 2006-01-24 06:52:30 +0000 (Tue, 24 Jan 2006) | 1 line

some nice RESTy URLs
------------------------------------------------------------------------
r371761 | jgmyers | 2006-01-24 01:03:09 +0000 (Tue, 24 Jan 2006) | 1 line

Handle absolute font sizes.  Consider font size 1 as being tiny.  Put tiny-font text in the invisble rendered form.
------------------------------------------------------------------------
r371742 | jm | 2006-01-24 00:36:42 +0000 (Tue, 24 Jan 2006) | 1 line

updates_spamassassin_org.cf needs to use copy(), if rename() fails due to inability to make a cross-device link
------------------------------------------------------------------------
r371701 | jm | 2006-01-23 22:48:25 +0000 (Mon, 23 Jan 2006) | 1 line

get buildbot running again, since I think the last change will have now fixed the lang_lint.t failures
------------------------------------------------------------------------
r371681 | jm | 2006-01-23 22:01:51 +0000 (Mon, 23 Jan 2006) | 1 line

update the list of rules/foo.cf files deleted by 'make clean', to fix buildbot failures
------------------------------------------------------------------------
r371680 | jm | 2006-01-23 21:59:45 +0000 (Mon, 23 Jan 2006) | 1 line

remove 70_broken_rules.cf; if anyone wants the rules, they're in SVN history
------------------------------------------------------------------------
r371497 | jm | 2006-01-23 08:55:42 +0000 (Mon, 23 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r371485 | jm | 2006-01-23 08:15:51 +0000 (Mon, 23 Jan 2006) | 1 line

separate out the regexp used to identify rule-type keywords; also, recognise urirhssub and uridnsbl keywords
------------------------------------------------------------------------
r371481 | jm | 2006-01-23 07:48:44 +0000 (Mon, 23 Jan 2006) | 1 line

always mark 'tflags net' rules as promoted, regardless of freqs, due to complexity of getting most recent net mass-check freqs from the ruleqa web app
------------------------------------------------------------------------
r371480 | jm | 2006-01-23 07:41:55 +0000 (Mon, 23 Jan 2006) | 1 line

stricter 'make clean'
------------------------------------------------------------------------
r371479 | jm | 2006-01-23 07:40:54 +0000 (Mon, 23 Jan 2006) | 1 line

URIBL_BLACK was not publishing, since it was 'ifplugin URIDNSBL'.  fix that by listing the known-standard plugin types
------------------------------------------------------------------------
r371242 | jm | 2006-01-22 08:55:41 +0000 (Sun, 22 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r371151 | jm | 2006-01-22 00:30:44 +0000 (Sun, 22 Jan 2006) | 1 line

MIRRORED.BY was getting renamed twice; avoid
------------------------------------------------------------------------
r371149 | jm | 2006-01-22 00:25:45 +0000 (Sun, 22 Jan 2006) | 1 line

bug 4766: removed SUBJ_HAS_UNIQ_ID, due to bad performance and chance to delete triplets.txt-using code
------------------------------------------------------------------------
r371140 | jm | 2006-01-21 23:51:36 +0000 (Sat, 21 Jan 2006) | 1 line

bug 4764: triplets.txt search was failing due to stupid map { } side-effect; s/// modifies the source data in a map { } clause
------------------------------------------------------------------------
r370995 | jm | 2006-01-21 08:55:39 +0000 (Sat, 21 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r370969 | jm | 2006-01-21 02:49:57 +0000 (Sat, 21 Jan 2006) | 1 line

ok, root of all evil.   Also, fix a number of other bugs in that first rendition
------------------------------------------------------------------------
r370964 | jm | 2006-01-21 02:38:14 +0000 (Sat, 21 Jan 2006) | 1 line

premature optimisation, just this once
------------------------------------------------------------------------
r370962 | jm | 2006-01-21 02:37:02 +0000 (Sat, 21 Jan 2006) | 1 line

add mouseovers for SPAM% and HAM% columns, with absolute message counts
------------------------------------------------------------------------
r370900 | jm | 2006-01-20 21:20:24 +0000 (Fri, 20 Jan 2006) | 1 line

remove rules/70_uribl.cf from MANIFEST, now that it's been deleted
------------------------------------------------------------------------
r370897 | hstern | 2006-01-20 20:19:19 +0000 (Fri, 20 Jan 2006) | 7 lines

 * rules/70_uribl.cf
 * rulesrc/core/25_uribl2.cf: Moved testing rules to 25_uribl2.cf
 * rulesrc/core/50_scores.cf: Added scores for new URIBL rules.
 	black=3.0
	grey=1.0
	red=0

------------------------------------------------------------------------
r370758 | jm | 2006-01-20 08:55:39 +0000 (Fri, 20 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r370724 | dos | 2006-01-20 04:00:40 +0000 (Fri, 20 Jan 2006) | 1 line

prevent trusted/internal network settings that will have no effect; this should prevent people from getting confused when setting inclusion/exclusion networks/ips
------------------------------------------------------------------------
r370722 | dos | 2006-01-20 03:48:22 +0000 (Fri, 20 Jan 2006) | 1 line

update manifest
------------------------------------------------------------------------
r370404 | jm | 2006-01-19 07:05:32 +0000 (Thu, 19 Jan 2006) | 1 line

source /etc/profile; this will hopefully fix buildbot et al to run at boot
------------------------------------------------------------------------
r370351 | jm | 2006-01-19 03:19:05 +0000 (Thu, 19 Jan 2006) | 1 line

don't look for 'languages', 'triplets.txt' and 'user_prefs.template' in the /var/lib/spamassassin/3.002000 directory; and don't ship them there either in the update tarball.  (see 'updates being published' thread on dev list)
------------------------------------------------------------------------
r370208 | jgmyers | 2006-01-18 18:21:42 +0000 (Wed, 18 Jan 2006) | 1 line

Performance fix: _check_attachments was being called multiple times per message
------------------------------------------------------------------------
r370080 | jm | 2006-01-18 08:55:38 +0000 (Wed, 18 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r369722 | jm | 2006-01-17 08:55:35 +0000 (Tue, 17 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r369403 | jm | 2006-01-16 08:55:34 +0000 (Mon, 16 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r369186 | jm | 2006-01-15 08:55:32 +0000 (Sun, 15 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r369001 | jm | 2006-01-14 08:55:33 +0000 (Sat, 14 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r368902 | jm | 2006-01-13 22:58:53 +0000 (Fri, 13 Jan 2006) | 1 line

include all files in the update, including 'languages', 'triplets.txt' and 'user_prefs.template'
------------------------------------------------------------------------
r368640 | jm | 2006-01-13 08:55:32 +0000 (Fri, 13 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r368558 | jm | 2006-01-13 02:38:16 +0000 (Fri, 13 Jan 2006) | 1 line

fix the bug that was causing recreate.t to fail in 'make disttest'; sandbox-hstern.pm wasn't in the MANIFEST, so when 'make dist' made the distribution, it wasn't copied into the rules dir along with the rules that loaded it, hence causing parse errors, which triggered the recreate.t test to fail.   Also, add a test script for the mkrules compiler, with a variety of test cases
------------------------------------------------------------------------
r368321 | jm | 2006-01-12 08:55:29 +0000 (Thu, 12 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r368212 | jm | 2006-01-12 01:31:29 +0000 (Thu, 12 Jan 2006) | 1 line

a little more moderate timeout
------------------------------------------------------------------------
r368197 | jm | 2006-01-12 01:04:50 +0000 (Thu, 12 Jan 2006) | 1 line

use exit code 1 if no updates are available, so that callers can tell the difference between 'updates installed, spamd restart needed' and 'no updates installed'
------------------------------------------------------------------------
r368085 | jm | 2006-01-11 18:57:29 +0000 (Wed, 11 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r367896 | jm | 2006-01-11 03:25:27 +0000 (Wed, 11 Jan 2006) | 1 line

update test file to match correct behaviour now that fetchmail lines restart parsing correctly
------------------------------------------------------------------------
r367895 | jm | 2006-01-11 03:19:39 +0000 (Wed, 11 Jan 2006) | 1 line

more interesting build noise
------------------------------------------------------------------------
r367869 | jm | 2006-01-11 01:33:39 +0000 (Wed, 11 Jan 2006) | 1 line

ship everything, not just .cf files
------------------------------------------------------------------------
r367853 | jm | 2006-01-11 00:59:08 +0000 (Wed, 11 Jan 2006) | 1 line

bug 4759: avoid allowing spammers to hide a relay line using a faked fetchmail handover
------------------------------------------------------------------------
r367793 | jm | 2006-01-10 21:17:14 +0000 (Tue, 10 Jan 2006) | 1 line

trivial: typo
------------------------------------------------------------------------
r367773 | jm | 2006-01-10 20:07:51 +0000 (Tue, 10 Jan 2006) | 1 line

bug 4760: it was possible to be in internal_networks without being in trusted_networks, which makes no sense.  fixed
------------------------------------------------------------------------
r367723 | jm | 2006-01-10 18:42:16 +0000 (Tue, 10 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r367458 | jm | 2006-01-10 01:45:32 +0000 (Tue, 10 Jan 2006) | 1 line

oops, 1 too many unlinks
------------------------------------------------------------------------
r367361 | jgmyers | 2006-01-09 18:48:57 +0000 (Mon, 09 Jan 2006) | 1 line

Bug 4636: Require non-buggy HTML::Parser for charset normalization
------------------------------------------------------------------------
r367351 | jgmyers | 2006-01-09 18:23:25 +0000 (Mon, 09 Jan 2006) | 1 line

Bug 4636: Adjust test to deal with charset normalization
------------------------------------------------------------------------
r367340 | jm | 2006-01-09 17:13:28 +0000 (Mon, 09 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366643 | jm | 2006-01-07 03:23:04 +0000 (Sat, 07 Jan 2006) | 1 line

MIRRORED.BY file was getting lost
------------------------------------------------------------------------
r366641 | jm | 2006-01-07 03:09:50 +0000 (Sat, 07 Jan 2006) | 1 line

no longer need to grep out loadplugin lines hackily
------------------------------------------------------------------------
r366640 | jm | 2006-01-07 03:04:13 +0000 (Sat, 07 Jan 2006) | 1 line

hmm, mkdir would be nice
------------------------------------------------------------------------
r366637 | jm | 2006-01-07 03:00:53 +0000 (Sat, 07 Jan 2006) | 1 line

some error checking would be nice
------------------------------------------------------------------------
r366636 | jm | 2006-01-07 03:00:57 +0000 (Sat, 07 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366635 | jm | 2006-01-07 02:59:03 +0000 (Sat, 07 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366634 | jm | 2006-01-07 02:57:55 +0000 (Sat, 07 Jan 2006) | 1 line

fix that annoying bug in mkrules, where loadplugin lines for sandbox plugins were being put into the 72_active.cf rules output file, instead of the 70_sandbox.cf file.   Also, add license and require_version lines to the output files
------------------------------------------------------------------------
r366607 | jm | 2006-01-07 00:42:22 +0000 (Sat, 07 Jan 2006) | 1 line

oops
------------------------------------------------------------------------
r366605 | jm | 2006-01-07 00:07:53 +0000 (Sat, 07 Jan 2006) | 1 line

lint lint lint.  lint in sa-update, lint in the update-building script, lint everywhere.   This meant a bit change in sa-update; it now writes changes to a tmp dir and leaves the overwriting of the existing ruleset until everything has completed successfully up to that point
------------------------------------------------------------------------
r366594 | jgmyers | 2006-01-06 23:09:10 +0000 (Fri, 06 Jan 2006) | 1 line

Bug 4636: Add support for charset normalization
------------------------------------------------------------------------
r366568 | jm | 2006-01-06 21:20:50 +0000 (Fri, 06 Jan 2006) | 1 line

try 0.02% as a cut-off threshold for rule hit-rates to be promotable
------------------------------------------------------------------------
r366440 | jm | 2006-01-06 06:48:35 +0000 (Fri, 06 Jan 2006) | 1 line

strip out 'loadplugin' calls from rules files
------------------------------------------------------------------------
r366435 | jm | 2006-01-06 05:32:31 +0000 (Fri, 06 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366432 | jm | 2006-01-06 05:28:21 +0000 (Fri, 06 Jan 2006) | 1 line

no mail, please
------------------------------------------------------------------------
r366431 | jm | 2006-01-06 05:23:21 +0000 (Fri, 06 Jan 2006) | 1 line

don't publish rules that rely on sandbox plugins (for now)
------------------------------------------------------------------------
r366409 | jm | 2006-01-06 03:42:42 +0000 (Fri, 06 Jan 2006) | 1 line

oops, relative paths were all wrong
------------------------------------------------------------------------
r366387 | jm | 2006-01-06 01:45:02 +0000 (Fri, 06 Jan 2006) | 1 line

another impediment to sandbox rules getting into packages; they'd always be renamed as T_NAME, even if they were listed in active.list
------------------------------------------------------------------------
r366381 | jm | 2006-01-06 01:31:51 +0000 (Fri, 06 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366380 | jm | 2006-01-06 01:30:55 +0000 (Fri, 06 Jan 2006) | 1 line

untaint during sa-update unlinking; also, update-creation script was ignoring all sandbox rules, T_ prefix or no, since part of the rule-QA display process was adding T_ prefixes anyway, confusing it
------------------------------------------------------------------------
r366265 | jm | 2006-01-05 19:56:49 +0000 (Thu, 05 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r366025 | jm | 2006-01-04 23:30:27 +0000 (Wed, 04 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r365777 | jm | 2006-01-04 00:19:43 +0000 (Wed, 04 Jan 2006) | 1 line

trigger buildbot to see if that tmpfs change is better now
------------------------------------------------------------------------
r365771 | jm | 2006-01-03 23:20:56 +0000 (Tue, 03 Jan 2006) | 1 line

be nice; also, there's no need to use the tmpfs any more in bbmass thanks to some changes made by Mads
------------------------------------------------------------------------
r365763 | jm | 2006-01-03 23:00:08 +0000 (Tue, 03 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r365524 | jm | 2006-01-03 02:43:00 +0000 (Tue, 03 Jan 2006) | 1 line

expire old .tar files from updates dir only; implement a taint-safe tar-file extraction method to workaround Archive::Tar not supporting taint mode; support relative paths for update destination dir
------------------------------------------------------------------------
r365500 | jm | 2006-01-03 00:54:34 +0000 (Tue, 03 Jan 2006) | 1 line

I bet this is why solaris is failing to start buildbot at boot
------------------------------------------------------------------------
r365407 | jm | 2006-01-02 19:39:17 +0000 (Mon, 02 Jan 2006) | 1 line

promotions validated
------------------------------------------------------------------------
r359359 | felicity | 2005-12-28 03:05:47 +0000 (Wed, 28 Dec 2005) | 1 line

reported on users list, the whitespace isn't required for header rules, so ...
------------------------------------------------------------------------
r358656 | dos | 2005-12-22 23:40:37 +0000 (Thu, 22 Dec 2005) | 1 line

bug 4661: add additional SPF regression tests to confirm HELO_* accuracy
------------------------------------------------------------------------
r358638 | jgmyers | 2005-12-22 21:32:26 +0000 (Thu, 22 Dec 2005) | 1 line

Bug 4349: have tflags multiple rules count multiple hits per line
------------------------------------------------------------------------
r358630 | jm | 2005-12-22 21:14:55 +0000 (Thu, 22 Dec 2005) | 1 line

longer HTTP timeout; 10 seconds was just too short for Coral, or other proxies.   Also, be more verbose about what went wrong, if a GPG key validation failed; it's going to be an exceptionally common failure case
------------------------------------------------------------------------
r358468 | jm | 2005-12-22 03:21:17 +0000 (Thu, 22 Dec 2005) | 1 line

promotions validated
------------------------------------------------------------------------
r358466 | jm | 2005-12-22 03:16:24 +0000 (Thu, 22 Dec 2005) | 1 line

a little closer to updates
------------------------------------------------------------------------
r358462 | jm | 2005-12-22 03:10:17 +0000 (Thu, 22 Dec 2005) | 1 line

daily promotions
------------------------------------------------------------------------
r358228 | felicity | 2005-12-21 09:00:31 +0000 (Wed, 21 Dec 2005) | 1 line

may as well reuse all the cf range rules
------------------------------------------------------------------------
r358194 | jm | 2005-12-21 03:16:18 +0000 (Wed, 21 Dec 2005) | 1 line

try a lower threshold
------------------------------------------------------------------------
r358187 | jm | 2005-12-21 02:49:59 +0000 (Wed, 21 Dec 2005) | 1 line

fixup mkupdates script a little
------------------------------------------------------------------------
r358184 | jm | 2005-12-21 02:18:23 +0000 (Wed, 21 Dec 2005) | 1 line

split dnsdir and soadir, since both the testing zone and the live zone may use the same SOA
------------------------------------------------------------------------
r358177 | felicity | 2005-12-21 01:55:00 +0000 (Wed, 21 Dec 2005) | 1 line

hrm.  my usegpg->gpg change didn't make it in the last commit. :(
------------------------------------------------------------------------
r358175 | felicity | 2005-12-21 01:53:01 +0000 (Wed, 21 Dec 2005) | 1 line

accept either gpg key id (8 byte) or fingerprint (40 byte), default to using gpg but allow --no-gpg, update which gpg keys we accept by default
------------------------------------------------------------------------
r358174 | jm | 2005-12-21 01:40:34 +0000 (Wed, 21 Dec 2005) | 1 line

sa-update should use commandline --updatedir if specified; should override default channels if --channel is set, not add to it; should keep track of cwd so that relative paths (nearly) work; and should debug-log failure page contents
------------------------------------------------------------------------
r358173 | jm | 2005-12-21 01:38:23 +0000 (Wed, 21 Dec 2005) | 1 line

more work on backend
------------------------------------------------------------------------
r358160 | jm | 2005-12-21 00:30:12 +0000 (Wed, 21 Dec 2005) | 1 line

daily promotions
------------------------------------------------------------------------
r357927 | jm | 2005-12-20 06:27:51 +0000 (Tue, 20 Dec 2005) | 1 line

many changes to update-publishing script
------------------------------------------------------------------------
r357663 | jm | 2005-12-19 07:47:59 +0000 (Mon, 19 Dec 2005) | 1 line

bug 4623: use Mail::DomainKeys::Message::signature() API if it exists, otherwise fall back to the old API
------------------------------------------------------------------------
r357659 | jm | 2005-12-19 07:23:50 +0000 (Mon, 19 Dec 2005) | 1 line

bug 4611: use lookup_ptr() when looking up an IP address, as Net::DNS::Resolver does
------------------------------------------------------------------------
r357652 | parker | 2005-12-19 06:13:27 +0000 (Mon, 19 Dec 2005) | 1 line

Bug 4320: Do not bother printing db version when there are no databases, it is bogus anyway
------------------------------------------------------------------------
r357633 | parker | 2005-12-19 04:55:24 +0000 (Mon, 19 Dec 2005) | 6 lines

Bug 4670

Provide some helper methods to unlink and rename files so that all
the various extenstions are handled properly.


------------------------------------------------------------------------
r357615 | dos | 2005-12-19 02:25:58 +0000 (Mon, 19 Dec 2005) | 2 lines

bug 4685: modify SPF regression tests to use dnsbltest.spamassassin.org
bug 4661: add SPF regression tests to test various trusted/internal network configurations
------------------------------------------------------------------------
r357580 | jm | 2005-12-19 00:03:54 +0000 (Mon, 19 Dec 2005) | 1 line

oops, double-tarring
------------------------------------------------------------------------
r357578 | jm | 2005-12-19 00:01:31 +0000 (Mon, 19 Dec 2005) | 1 line

couple more teeny fixes
------------------------------------------------------------------------
r357568 | jm | 2005-12-18 23:53:36 +0000 (Sun, 18 Dec 2005) | 1 line

a little more
------------------------------------------------------------------------
r357567 | jm | 2005-12-18 23:51:50 +0000 (Sun, 18 Dec 2005) | 1 line

fix bugs
------------------------------------------------------------------------
r357565 | jm | 2005-12-18 23:49:50 +0000 (Sun, 18 Dec 2005) | 1 line

use sudo smartly; also, add the second half of the updates-building backend
------------------------------------------------------------------------
r357561 | jm | 2005-12-18 23:42:44 +0000 (Sun, 18 Dec 2005) | 1 line

first draft of second half of updates-builder backend script
------------------------------------------------------------------------
r357553 | jm | 2005-12-18 23:25:41 +0000 (Sun, 18 Dec 2005) | 1 line

don't add comments with SPAM% etc., they change every mass-check
------------------------------------------------------------------------
r357541 | jm | 2005-12-18 23:12:44 +0000 (Sun, 18 Dec 2005) | 1 line

moved this script, forgot
------------------------------------------------------------------------
r357540 | jm | 2005-12-18 23:11:37 +0000 (Sun, 18 Dec 2005) | 1 line

change to use its own uid
------------------------------------------------------------------------
r357533 | jm | 2005-12-18 22:27:40 +0000 (Sun, 18 Dec 2005) | 1 line

more notes
------------------------------------------------------------------------
r357532 | jm | 2005-12-18 22:26:52 +0000 (Sun, 18 Dec 2005) | 1 line

decommissioning effects more lines it seems
------------------------------------------------------------------------
r357531 | jm | 2005-12-18 22:25:23 +0000 (Sun, 18 Dec 2005) | 1 line

add note about restarting
------------------------------------------------------------------------
r357529 | jm | 2005-12-18 22:23:49 +0000 (Sun, 18 Dec 2005) | 1 line

add buildbot files to SVN too
------------------------------------------------------------------------
r357521 | jm | 2005-12-18 22:12:33 +0000 (Sun, 18 Dec 2005) | 1 line

turn off cache again
------------------------------------------------------------------------
r357520 | jm | 2005-12-18 22:09:48 +0000 (Sun, 18 Dec 2005) | 1 line

moved nightly active.list generation code into a new subdir; add a cron driver script for same; generate a new active.list file.
------------------------------------------------------------------------
r357514 | jm | 2005-12-18 21:55:40 +0000 (Sun, 18 Dec 2005) | 1 line

T_ prefix implies 'tflags nopublish', so T_ rules should not show up in the active list
------------------------------------------------------------------------
r357448 | felicity | 2005-12-18 06:04:04 +0000 (Sun, 18 Dec 2005) | 1 line

I did some testing, and the results aren't actually any faster.
------------------------------------------------------------------------
r357426 | felicity | 2005-12-18 03:57:08 +0000 (Sun, 18 Dec 2005) | 1 line

found a todo to move a variable from SA.pm to Conf.pm
------------------------------------------------------------------------
r357289 | jm | 2005-12-17 03:43:55 +0000 (Sat, 17 Dec 2005) | 1 line

update the promotable list.  someday cron will do this
------------------------------------------------------------------------
r357287 | jm | 2005-12-17 03:42:02 +0000 (Sat, 17 Dec 2005) | 1 line

fix ./build/listpromotable to not always cache
------------------------------------------------------------------------
r357286 | jm | 2005-12-17 03:39:39 +0000 (Sat, 17 Dec 2005) | 1 line

get sa-update and Mail::SA to agree on the location of the update dir: /var/lib/spamassassin/3.002000
------------------------------------------------------------------------
r357285 | sidney | 2005-12-17 03:37:42 +0000 (Sat, 17 Dec 2005) | 1 line

add missing comma that broke make test
------------------------------------------------------------------------
r357279 | jm | 2005-12-17 02:35:22 +0000 (Sat, 17 Dec 2005) | 1 line

add a new Makefile.PL parameter to support writing stuff to /var/lib/spamassassin: LOCAL_STATE_DIR
------------------------------------------------------------------------
r357278 | jm | 2005-12-17 02:34:26 +0000 (Sat, 17 Dec 2005) | 1 line

little bit of refactoring; no real changes. just noting a potential future TODO
------------------------------------------------------------------------
r357273 | jm | 2005-12-17 02:12:19 +0000 (Sat, 17 Dec 2005) | 1 line

install rules files that start with 72, the active rules prefix
------------------------------------------------------------------------
r357108 | jm | 2005-12-16 02:36:20 +0000 (Fri, 16 Dec 2005) | 1 line

force stuff like descriptions for code-tied rules to always be published to the active set
------------------------------------------------------------------------
r357107 | jm | 2005-12-16 02:29:46 +0000 (Fri, 16 Dec 2005) | 1 line

add 'tflags learn' to the force-publish set
------------------------------------------------------------------------
r357106 | jm | 2005-12-16 02:19:48 +0000 (Fri, 16 Dec 2005) | 1 line

redirector_pattern, reports, etc. should always appear in the active output files
------------------------------------------------------------------------
r357102 | jm | 2005-12-16 01:40:00 +0000 (Fri, 16 Dec 2005) | 1 line

looks like we need another file, to differentiate between rules in the sandboxes for testing, and rules in core that have not made the quality thresholds -- rules/70_inactive.cf .  This is treated the same way as rules/70_sandbox.cf, but isn't used in the bbmass mass-checks.   Also: keep loadplugin files from core/sandbox in the appropriate output file, not in both or one alone.
------------------------------------------------------------------------
r357097 | jm | 2005-12-16 00:53:37 +0000 (Fri, 16 Dec 2005) | 1 line

fix bbmass buildbot failures; rules/70_sandbox.cf must be able to pass lint as a standalone file
------------------------------------------------------------------------
r356946 | jm | 2005-12-14 23:54:19 +0000 (Wed, 14 Dec 2005) | 1 line

bug 4735: lack of network interfaces causes 'spamassassin -L' to crash
------------------------------------------------------------------------
r356673 | jgmyers | 2005-12-14 01:23:55 +0000 (Wed, 14 Dec 2005) | 1 line

Not so fast--back out prev fixes to bug 3787 until buildbots get updated
------------------------------------------------------------------------
r356657 | jm | 2005-12-14 00:41:01 +0000 (Wed, 14 Dec 2005) | 1 line

build/mkrules now compiles 'good enough' rules to rules/72_active.cf, instead of copying all core rules into rules.  it also picks rules from sandboxes as part of this.  Not-promotable rules are left in rules/70_sandbox.cf.  It also follows meta dependencies correctly to ensure that each rule is in a consistent state even without the 72_sandbox.cf file.
------------------------------------------------------------------------
r356646 | jgmyers | 2005-12-13 23:29:16 +0000 (Tue, 13 Dec 2005) | 1 line

Bug 3787: Bump HTML::Parser minimum version to prevent mailformed UTF-8 errors
------------------------------------------------------------------------
r356644 | jgmyers | 2005-12-13 23:28:01 +0000 (Tue, 13 Dec 2005) | 1 line

Bug 3787: Bump HTML::Parser minimum version to prevent mailformed UTF-8 errors
------------------------------------------------------------------------
r356643 | jgmyers | 2005-12-13 23:26:40 +0000 (Tue, 13 Dec 2005) | 1 line

Bug 3787: Bump HTML::Parser minimum version to prevent mailformed UTF-8 errors
------------------------------------------------------------------------
r356580 | jm | 2005-12-13 19:25:42 +0000 (Tue, 13 Dec 2005) | 1 line

revive the STATUS file as an at-a-glance list of tasks in action
------------------------------------------------------------------------
r356438 | jm | 2005-12-13 00:59:26 +0000 (Tue, 13 Dec 2005) | 1 line

add 'publish' tflags too, and winnow out nonexistent rules and rules from rules dir
------------------------------------------------------------------------
r356425 | jm | 2005-12-13 00:22:23 +0000 (Tue, 13 Dec 2005) | 1 line

per-rule linting; allow multiple files to be specified for rules_filename and site_rules_filename, with \000 separators, so build/listpromotable can specify multiple paths; implement much of listpromotable
------------------------------------------------------------------------
r356398 | jm | 2005-12-12 22:23:43 +0000 (Mon, 12 Dec 2005) | 1 line

add two features to core rule-parsing code; 1. optional behaviour to recurse through subdirs looking for .cf/.pre's, to support rules compilers working on rulesrc dir.  2. call back into invoking code on lint failure, so rule compiler can detect which rules exactly fail the lint check
------------------------------------------------------------------------
r356381 | jm | 2005-12-12 21:20:44 +0000 (Mon, 12 Dec 2005) | 1 line

minor reformatting, ls the logs
------------------------------------------------------------------------
r356315 | jm | 2005-12-12 18:16:10 +0000 (Mon, 12 Dec 2005) | 1 line

list good rules even in core as 'promotable'
------------------------------------------------------------------------
r356311 | jm | 2005-12-12 18:06:49 +0000 (Mon, 12 Dec 2005) | 1 line

fix 'make disttest' failures, as seen at http://buildbot.spamassassin.org:8010/t-solaris-10/builds/0/test_3/0
------------------------------------------------------------------------
r356300 | dos | 2005-12-12 17:48:10 +0000 (Mon, 12 Dec 2005) | 2 lines

bug 4728: add foo-lastexternal code for DUL checks
also: fix dbg message in check_rbl_backend()
------------------------------------------------------------------------
r355872 | jm | 2005-12-11 02:15:23 +0000 (Sun, 11 Dec 2005) | 1 line

better, intermediate-level noisiness from mass-check for buildbot
------------------------------------------------------------------------
r355782 | felicity | 2005-12-10 21:21:52 +0000 (Sat, 10 Dec 2005) | 1 line

cleanup AI run code a little, standardize a bit, etc.
------------------------------------------------------------------------
r355699 | jm | 2005-12-10 02:41:02 +0000 (Sat, 10 Dec 2005) | 1 line

working --showdots for scan stage
------------------------------------------------------------------------
r355695 | jm | 2005-12-10 02:16:23 +0000 (Sat, 10 Dec 2005) | 1 line

fix permissions so that the AI cache code works
------------------------------------------------------------------------
r355694 | jm | 2005-12-10 02:13:47 +0000 (Sat, 10 Dec 2005) | 1 line

ensure bbmass mass-checks produce lots of output, to stop the buildbot from timing out mc-slowest
------------------------------------------------------------------------
r355693 | jm | 2005-12-10 02:11:07 +0000 (Sat, 10 Dec 2005) | 1 line

add a --noisy switch to mass-check; it will produce lots of updates during scan, so that the buildbot doesn't time out due to lack of input
------------------------------------------------------------------------
r355654 | jm | 2005-12-09 23:49:34 +0000 (Fri, 09 Dec 2005) | 1 line

cope with mboxes that start with blank lines
------------------------------------------------------------------------
r355363 | jm | 2005-12-09 04:37:10 +0000 (Fri, 09 Dec 2005) | 1 line

add build/listpromotable, a script which lists the current set of promotable sandbox rules, based on last night's mass-checks (looked up via HTTP)
------------------------------------------------------------------------
r355362 | jm | 2005-12-09 04:35:56 +0000 (Fri, 09 Dec 2005) | 1 line

bug 3815: allow 'add_header all Relay _RELAYCOUNTRY_' to work with RelayCountry plugin
------------------------------------------------------------------------
r355352 | dos | 2005-12-09 03:49:24 +0000 (Fri, 09 Dec 2005) | 1 line

today somebody asked me why we thought O came between S and S, everybody's a critic
------------------------------------------------------------------------
r355338 | dos | 2005-12-09 03:19:21 +0000 (Fri, 09 Dec 2005) | 1 line

bug 4646: correct spamc manpage error
------------------------------------------------------------------------
r355211 | jm | 2005-12-08 21:19:48 +0000 (Thu, 08 Dec 2005) | 1 line

bug 4617: fix for spurious 'an't call method finish on an undefined value' errors in AWL plugin
------------------------------------------------------------------------
r355190 | felicity | 2005-12-08 20:17:19 +0000 (Thu, 08 Dec 2005) | 1 line

bug 4719: try to be nice when splitting long body lines, look for a space
------------------------------------------------------------------------
r354970 | jm | 2005-12-08 04:09:55 +0000 (Thu, 08 Dec 2005) | 1 line

this is totally obsolete
------------------------------------------------------------------------
r354931 | jm | 2005-12-08 01:54:23 +0000 (Thu, 08 Dec 2005) | 1 line

spec file needs to be updated when we release, too
------------------------------------------------------------------------
r354929 | jm | 2005-12-08 01:11:31 +0000 (Thu, 08 Dec 2005) | 1 line

work around old version of SVN on mass-checking machine
------------------------------------------------------------------------
r354927 | jm | 2005-12-08 01:03:08 +0000 (Thu, 08 Dec 2005) | 1 line

solaris sucks
------------------------------------------------------------------------
r354593 | jm | 2005-12-06 22:37:40 +0000 (Tue, 06 Dec 2005) | 1 line

no need to expose rsync passwords, actually
------------------------------------------------------------------------
r354590 | jm | 2005-12-06 22:36:45 +0000 (Tue, 06 Dec 2005) | 1 line

allow FOO.MBOX as well as foo.mbox
------------------------------------------------------------------------
r354585 | jm | 2005-12-06 22:04:19 +0000 (Tue, 06 Dec 2005) | 1 line

cycle logs, to keep a small record
------------------------------------------------------------------------
r354530 | felicity | 2005-12-06 20:05:40 +0000 (Tue, 06 Dec 2005) | 1 line

bug 4722: if we've already loaded a plugin via path specification, don't bother trying to load it again (causes warnings when functions get redefined)
------------------------------------------------------------------------
r354527 | felicity | 2005-12-06 20:04:24 +0000 (Tue, 06 Dec 2005) | 1 line

when making the test_rules_copy area, we should also copy over the .pre files
------------------------------------------------------------------------
r354493 | felicity | 2005-12-06 18:48:24 +0000 (Tue, 06 Dec 2005) | 1 line

tests ought to be executable
------------------------------------------------------------------------
r354346 | sidney | 2005-12-06 07:24:39 +0000 (Tue, 06 Dec 2005) | 1 line

I hate hard tabs
------------------------------------------------------------------------
r354343 | sidney | 2005-12-06 07:20:04 +0000 (Tue, 06 Dec 2005) | 1 line

updating my entry
------------------------------------------------------------------------
r354327 | jm | 2005-12-06 06:00:59 +0000 (Tue, 06 Dec 2005) | 1 line

add scrapable data for promotion
------------------------------------------------------------------------
r354324 | jm | 2005-12-06 05:43:12 +0000 (Tue, 06 Dec 2005) | 1 line

change to rules qa app; highlight *only* promotable T_ rules, not already-promoted rules and meta subrules.   also, compress the output HTML a little better
------------------------------------------------------------------------
r354304 | jm | 2005-12-06 04:39:12 +0000 (Tue, 06 Dec 2005) | 1 line

use user-specified perl interpreter; also do not use wierd CVS flag on rsync
------------------------------------------------------------------------
r354303 | jm | 2005-12-06 04:38:17 +0000 (Tue, 06 Dec 2005) | 1 line

don't bother killing svn procs until it fails once
------------------------------------------------------------------------
r354302 | jm | 2005-12-06 04:37:05 +0000 (Tue, 06 Dec 2005) | 1 line

corpus should use abs paths
------------------------------------------------------------------------
r354300 | jm | 2005-12-06 04:32:56 +0000 (Tue, 06 Dec 2005) | 1 line

more solaris port work
------------------------------------------------------------------------
r354295 | jm | 2005-12-06 04:26:52 +0000 (Tue, 06 Dec 2005) | 1 line

use bash to work around solaris
------------------------------------------------------------------------
r354294 | jm | 2005-12-06 04:25:09 +0000 (Tue, 06 Dec 2005) | 1 line

fix path
------------------------------------------------------------------------
r354293 | jm | 2005-12-06 04:23:58 +0000 (Tue, 06 Dec 2005) | 1 line

update nightly-mass-check driver
------------------------------------------------------------------------
r354262 | jm | 2005-12-06 02:36:59 +0000 (Tue, 06 Dec 2005) | 1 line

add nightly scripts for zone
------------------------------------------------------------------------
r354247 | jm | 2005-12-06 00:52:40 +0000 (Tue, 06 Dec 2005) | 1 line

add theo's sandbox .pm to MANIFEST so 'make disttest' works
------------------------------------------------------------------------
r354246 | jm | 2005-12-06 00:52:20 +0000 (Tue, 06 Dec 2005) | 1 line

fix 'make test' failures; always copy plugin perl modules
------------------------------------------------------------------------
r354226 | jm | 2005-12-05 23:33:45 +0000 (Mon, 05 Dec 2005) | 1 line

'make test' needs to copy .pm's too
------------------------------------------------------------------------
r354214 | jm | 2005-12-05 22:56:42 +0000 (Mon, 05 Dec 2005) | 1 line

remove refactored-out block
------------------------------------------------------------------------
r354205 | jm | 2005-12-05 22:16:49 +0000 (Mon, 05 Dec 2005) | 1 line

mount the tmpfs volume and chmod at boot-time from init script
------------------------------------------------------------------------
r354204 | jm | 2005-12-05 22:11:32 +0000 (Mon, 05 Dec 2005) | 1 line

standardize the warnings
------------------------------------------------------------------------
r354203 | jm | 2005-12-05 21:47:56 +0000 (Mon, 05 Dec 2005) | 1 line

ignore 'unknown' revision mass-checks, explicitly, and sooner
------------------------------------------------------------------------
r354201 | jm | 2005-12-05 21:46:01 +0000 (Mon, 05 Dec 2005) | 1 line

fix problem where weekly network mass-checks were being ignored, then included in the next day's results
------------------------------------------------------------------------
r353988 | felicity | 2005-12-05 04:53:43 +0000 (Mon, 05 Dec 2005) | 1 line

loadplugin lines need to come before everything else
------------------------------------------------------------------------
r353979 | felicity | 2005-12-05 04:13:35 +0000 (Mon, 05 Dec 2005) | 1 line

move my EvalTests code into a plugin
------------------------------------------------------------------------
r353978 | felicity | 2005-12-05 04:08:17 +0000 (Mon, 05 Dec 2005) | 1 line

including perl modules (as plugins) in the sandbox area wasn't working.  first, to know the appropriate path to load from we need to use 'file start' and 'file end' markers.  second, we shouldn't limit plugins to be ##_name.pm.  third, process the modules first since the later cf files will try to load them.  fourth, don't treat the module like a config file -- lint will fail, so just copy the file.
------------------------------------------------------------------------
r353939 | felicity | 2005-12-04 23:45:23 +0000 (Sun, 04 Dec 2005) | 1 line

doh, trimmed out a little too much from evaltests.
------------------------------------------------------------------------
r353934 | felicity | 2005-12-04 23:27:31 +0000 (Sun, 04 Dec 2005) | 1 line

too many fps for this ratware test
------------------------------------------------------------------------
r353889 | felicity | 2005-12-04 18:51:36 +0000 (Sun, 04 Dec 2005) | 1 line

up the version in the spec file
------------------------------------------------------------------------
r351875 | felicity | 2005-12-03 02:38:23 +0000 (Sat, 03 Dec 2005) | 1 line

bug 4485: validate IP before calling my_inet_aton()
------------------------------------------------------------------------
r350102 | jm | 2005-12-01 02:12:36 +0000 (Thu, 01 Dec 2005) | 1 line

bug 4700: certain privileged configuration settings can inject code, due to a bad fix for bug 3846.  Back that out
------------------------------------------------------------------------
r350101 | jm | 2005-12-01 02:06:10 +0000 (Thu, 01 Dec 2005) | 1 line

bug 4590: add some workaround code for the 'syswrite(6) failed, retrying...' prefork bug; instead of retrying indefinitely, it'll retry 3 times then kill the child and allow it to respawn
------------------------------------------------------------------------
r349873 | felicity | 2005-11-30 04:09:08 +0000 (Wed, 30 Nov 2005) | 1 line

look for a new ratware format, the code is kind of icky but it works well at the moment
------------------------------------------------------------------------
r349500 | jm | 2005-11-28 20:50:28 +0000 (Mon, 28 Nov 2005) | 1 line

bug 4631: __DIE__ hooks should not be called for timeout/exception-handling events; use the perlfunc-recommended workaround
------------------------------------------------------------------------
r349405 | sidney | 2005-11-28 09:30:23 +0000 (Mon, 28 Nov 2005) | 1 line

bug 4707 update. faster fix than first patch, fixes another buffer overflow from malformed input. Also comment out unused const that caused compiler warning in MacOS X
------------------------------------------------------------------------
r349268 | felicity | 2005-11-27 18:06:30 +0000 (Sun, 27 Nov 2005) | 1 line

bsmtpnull doesn't need to be executable
------------------------------------------------------------------------
r349193 | sidney | 2005-11-27 08:41:55 +0000 (Sun, 27 Nov 2005) | 1 line

bug 4708: properly parse bad spamd token
------------------------------------------------------------------------
r349191 | sidney | 2005-11-27 07:46:39 +0000 (Sun, 27 Nov 2005) | 1 line

bug 4707: Fix seg fault when spamc given short invalid input with -B option, add test case for it
------------------------------------------------------------------------
r348370 | sidney | 2005-11-23 04:51:34 +0000 (Wed, 23 Nov 2005) | 1 line

bug 4704: Properly parse Received headers such as those generated by Nemesis
------------------------------------------------------------------------
r348079 | felicity | 2005-11-22 04:46:42 +0000 (Tue, 22 Nov 2005) | 1 line

bug 4698: allow 'meta RULE 0' to work
------------------------------------------------------------------------
r348031 | jm | 2005-11-21 23:47:55 +0000 (Mon, 21 Nov 2005) | 1 line

bug: 0 hits with more than 1 miss is really a 0; also, remove non-percentage-based measurement feature, as it adds too much complexity
------------------------------------------------------------------------
r348025 | jm | 2005-11-21 23:41:13 +0000 (Mon, 21 Nov 2005) | 1 line

fix bug, where nonexistent results are incorrectly listed as '0', as long as one result exists before them
------------------------------------------------------------------------
r347990 | jm | 2005-11-21 21:28:44 +0000 (Mon, 21 Nov 2005) | 1 line

update freqsd init script
------------------------------------------------------------------------
r347989 | jm | 2005-11-21 21:27:04 +0000 (Mon, 21 Nov 2005) | 1 line

add an easier-to-parse ISO-date header in mass-check output; currently unused, but maybe later
------------------------------------------------------------------------
r347986 | jm | 2005-11-21 21:18:34 +0000 (Mon, 21 Nov 2005) | 1 line

work around problem with 20051119-r345462 mass-check, where its data is not visible
------------------------------------------------------------------------
r347970 | jm | 2005-11-21 20:24:00 +0000 (Mon, 21 Nov 2005) | 1 line

a little freqsd refactoring
------------------------------------------------------------------------
r347966 | jm | 2005-11-21 20:05:55 +0000 (Mon, 21 Nov 2005) | 1 line

better support for kill and restart in freqsd
------------------------------------------------------------------------
r347962 | jm | 2005-11-21 19:36:16 +0000 (Mon, 21 Nov 2005) | 1 line

add svninfo.tmp file to rsync'd versions
------------------------------------------------------------------------
r347960 | jm | 2005-11-21 19:32:31 +0000 (Mon, 21 Nov 2005) | 1 line

add 'release' crontab scripts to SVN
------------------------------------------------------------------------
r345631 | maddoc | 2005-11-19 04:39:06 +0000 (Sat, 19 Nov 2005) | 1 line

added my info added to CREDITS file
------------------------------------------------------------------------
r345528 | jm | 2005-11-18 17:27:11 +0000 (Fri, 18 Nov 2005) | 1 line

oops.  use the unencoded data, not the encoded form
------------------------------------------------------------------------
r345462 | jm | 2005-11-18 06:42:00 +0000 (Fri, 18 Nov 2005) | 1 line

fix promotion limits; the values are already measured as percentages of 100, not fractions of 1.0
------------------------------------------------------------------------
r345454 | jm | 2005-11-18 05:47:33 +0000 (Fri, 18 Nov 2005) | 1 line

bug 4655: create .pid file for spamassassin service to avoid killing the wrong processes and leaving spamd running
------------------------------------------------------------------------
r345450 | jm | 2005-11-18 05:26:20 +0000 (Fri, 18 Nov 2005) | 1 line

update to match ASF rules
------------------------------------------------------------------------
r345431 | jm | 2005-11-18 03:33:40 +0000 (Fri, 18 Nov 2005) | 1 line

ignore rules-by-mail stuff if it's over an hour old
------------------------------------------------------------------------
r345428 | jm | 2005-11-18 03:30:28 +0000 (Fri, 18 Nov 2005) | 1 line

add -P switch to hit-frequencies, to display promoteability
------------------------------------------------------------------------
r345425 | jm | 2005-11-18 03:24:21 +0000 (Fri, 18 Nov 2005) | 1 line

a little more tagifying
------------------------------------------------------------------------
r345424 | jm | 2005-11-18 03:17:28 +0000 (Fri, 18 Nov 2005) | 1 line

complete promotable UI code
------------------------------------------------------------------------
r345423 | jm | 2005-11-18 03:17:24 +0000 (Fri, 18 Nov 2005) | 1 line

oops, forgot 'buildbot' tag here
------------------------------------------------------------------------
r345417 | jm | 2005-11-18 02:57:55 +0000 (Fri, 18 Nov 2005) | 1 line

highlight lines of the freqs table based on whether the rules are promotable or not
------------------------------------------------------------------------
r345408 | jm | 2005-11-18 02:16:14 +0000 (Fri, 18 Nov 2005) | 1 line

fix up hit-freqs XML output
------------------------------------------------------------------------
r345403 | jm | 2005-11-18 02:07:33 +0000 (Fri, 18 Nov 2005) | 1 line

ensure scripts use nonbuffered output
------------------------------------------------------------------------
r345401 | jm | 2005-11-18 01:57:01 +0000 (Fri, 18 Nov 2005) | 1 line

uh oh, another hit-freqs bug; deal correctly with lines that have no hits
------------------------------------------------------------------------
r345399 | jm | 2005-11-18 01:29:27 +0000 (Fri, 18 Nov 2005) | 1 line

fix hit-freqs to not require tmp/rules.pl; if it cannot use that file, or if a test is missing, it'll still generate freqs and be in the report
------------------------------------------------------------------------
r345398 | jm | 2005-11-18 01:12:06 +0000 (Fri, 18 Nov 2005) | 1 line

stupid typo
------------------------------------------------------------------------
r345387 | jm | 2005-11-18 00:31:51 +0000 (Fri, 18 Nov 2005) | 1 line

some bugfixes; ignore malformed dirs, and differentiate between buildbot and nightly mass-check results in index view
------------------------------------------------------------------------
r345386 | jm | 2005-11-18 00:23:12 +0000 (Fri, 18 Nov 2005) | 1 line

oops.  wrong revpath
------------------------------------------------------------------------
r345372 | jm | 2005-11-18 00:10:36 +0000 (Fri, 18 Nov 2005) | 1 line

some comments, at least
------------------------------------------------------------------------
r345371 | jm | 2005-11-18 00:03:05 +0000 (Fri, 18 Nov 2005) | 1 line

separate nightly and buildbot mass-checks, by adding a 'tag' to each daterev storage dir
------------------------------------------------------------------------
r345316 | jm | 2005-11-17 20:06:50 +0000 (Thu, 17 Nov 2005) | 1 line

add Chris, too
------------------------------------------------------------------------
r345204 | jm | 2005-11-17 07:36:54 +0000 (Thu, 17 Nov 2005) | 1 line

add a couple more email addrs to the allow list; guys, please give it a try...
------------------------------------------------------------------------
r345173 | jm | 2005-11-17 02:43:23 +0000 (Thu, 17 Nov 2005) | 1 line

minor tweaks
------------------------------------------------------------------------
r345170 | jm | 2005-11-17 02:33:09 +0000 (Thu, 17 Nov 2005) | 1 line

minor cleanups
------------------------------------------------------------------------
r345169 | jm | 2005-11-17 02:29:40 +0000 (Thu, 17 Nov 2005) | 1 line

hook up more bits of mass-check-by-mail
------------------------------------------------------------------------
r345167 | jm | 2005-11-17 02:08:07 +0000 (Thu, 17 Nov 2005) | 1 line

a little cleaner
------------------------------------------------------------------------
r345165 | jm | 2005-11-17 01:55:14 +0000 (Thu, 17 Nov 2005) | 1 line

added mass-check-by-mail script and functionality
------------------------------------------------------------------------
r345134 | jm | 2005-11-16 21:55:51 +0000 (Wed, 16 Nov 2005) | 1 line

redo that message
------------------------------------------------------------------------
r345133 | jm | 2005-11-16 21:52:59 +0000 (Wed, 16 Nov 2005) | 1 line

make the freqs tables sortable, using third-party JS library
------------------------------------------------------------------------
r345131 | jm | 2005-11-16 21:34:58 +0000 (Wed, 16 Nov 2005) | 1 line

fix bug; undef areas were being graphed as 0 in some graphs
------------------------------------------------------------------------
r345102 | jm | 2005-11-16 20:27:11 +0000 (Wed, 16 Nov 2005) | 1 line

add omitted sa_t_init() call; this step is important.  also produce debugging on STDOUT so that rule test omissions can be spotted more easily
------------------------------------------------------------------------
r345091 | jgmyers | 2005-11-16 18:59:20 +0000 (Wed, 16 Nov 2005) | 1 line

Bug 4349: header rules now support tflags multiple
------------------------------------------------------------------------
r345076 | jgmyers | 2005-11-16 18:07:21 +0000 (Wed, 16 Nov 2005) | 1 line

Bug 4349: meta and eval rules can now also have counts
------------------------------------------------------------------------
r344888 | jm | 2005-11-16 04:48:19 +0000 (Wed, 16 Nov 2005) | 1 line

fake checkin to get buildbot moving
------------------------------------------------------------------------
r344497 | jm | 2005-11-16 02:05:08 +0000 (Wed, 16 Nov 2005) | 1 line

my mistake.  it was permissions, not the report_safe thing
------------------------------------------------------------------------
r344496 | jm | 2005-11-16 01:50:05 +0000 (Wed, 16 Nov 2005) | 1 line

corpus-build details should be web-visible too
------------------------------------------------------------------------
r344495 | jm | 2005-11-16 01:47:52 +0000 (Wed, 16 Nov 2005) | 1 line

aha.  figured out why lots of spam was being ignored; mass-check didn't like the report_safe encapsulation
------------------------------------------------------------------------
r344494 | jm | 2005-11-16 01:40:00 +0000 (Wed, 16 Nov 2005) | 1 line

add missed file to MANIFEST
------------------------------------------------------------------------
r344492 | jm | 2005-11-16 01:36:48 +0000 (Wed, 16 Nov 2005) | 1 line

slim down the default ruleqa table now that we have a 'long-distance' mass-check selection view; modify corpus link-farm creation script to select from multiple corpora a little more evenly
------------------------------------------------------------------------
r344489 | jm | 2005-11-16 00:59:17 +0000 (Wed, 16 Nov 2005) | 1 line

don't use EVERY file submitted to the bbmass rsync corpora for mass-checking, we have way more than enough ;)
------------------------------------------------------------------------
r344484 | jm | 2005-11-15 23:59:57 +0000 (Tue, 15 Nov 2005) | 1 line

avoid OOM problems with graphing; we shouldn't touch dates out of range
------------------------------------------------------------------------
r344480 | jgmyers | 2005-11-15 23:46:50 +0000 (Tue, 15 Nov 2005) | 1 line

Bug 4349: implement tflags multiple to allow eval rules to count subtest hits
------------------------------------------------------------------------
r344477 | jm | 2005-11-15 23:30:25 +0000 (Tue, 15 Nov 2005) | 1 line

reduce mem usage by using a more compact data representation for a temporary array
------------------------------------------------------------------------
r344444 | jgmyers | 2005-11-15 21:17:57 +0000 (Tue, 15 Nov 2005) | 1 line

Remove unused argument
------------------------------------------------------------------------
r344423 | jgmyers | 2005-11-15 19:59:56 +0000 (Tue, 15 Nov 2005) | 1 line

Remove no-effect code, fold handle_hit into got_hit
------------------------------------------------------------------------
r344328 | jm | 2005-11-15 07:56:32 +0000 (Tue, 15 Nov 2005) | 1 line

better UI for selecting nightly and weekly mass-checks
------------------------------------------------------------------------
r344298 | jm | 2005-11-15 03:23:49 +0000 (Tue, 15 Nov 2005) | 1 line

add a 'long view' of all daterevs
------------------------------------------------------------------------
r344293 | jm | 2005-11-15 02:31:34 +0000 (Tue, 15 Nov 2005) | 1 line

wow, another absurd typo
------------------------------------------------------------------------
r344292 | jm | 2005-11-15 02:29:15 +0000 (Tue, 15 Nov 2005) | 1 line

doh, stupid typo
------------------------------------------------------------------------
r344291 | jm | 2005-11-15 02:27:24 +0000 (Tue, 15 Nov 2005) | 1 line

fixed a few bugs in mbox extraction support
------------------------------------------------------------------------
r344287 | jm | 2005-11-15 01:41:55 +0000 (Tue, 15 Nov 2005) | 1 line

another minor checkin to trigger buildbot
------------------------------------------------------------------------
r344285 | jm | 2005-11-15 01:37:23 +0000 (Tue, 15 Nov 2005) | 1 line

minor checkin to trigger buildbot
------------------------------------------------------------------------
r344284 | jm | 2005-11-15 01:33:49 +0000 (Tue, 15 Nov 2005) | 1 line

move corpus link-farm rebuilds to a periodic task, instead of attempting to do it every time we do a mass-check; the latter just isn't working out due to race conditions and buildbot timeouts
------------------------------------------------------------------------
r344247 | dos | 2005-11-14 22:01:12 +0000 (Mon, 14 Nov 2005) | 1 line

bug 4686: parse obtuse smtpd received headers
------------------------------------------------------------------------
r344017 | felicity | 2005-11-14 00:56:25 +0000 (Mon, 14 Nov 2005) | 1 line

'mass-check --reuse' wants an absolute path, but sometimes it's coming in as a relative path, so use File::Spec to fix that if necessary
------------------------------------------------------------------------
r343989 | felicity | 2005-11-13 22:27:55 +0000 (Sun, 13 Nov 2005) | 1 line

fix up MANIFEST.SKIP to ignore everything under build/automc as with masses/rule-qa/automc
------------------------------------------------------------------------
r332850 | felicity | 2005-11-12 22:11:06 +0000 (Sat, 12 Nov 2005) | 1 line

allow mkrules to put conditionals around unknown lines if necessary
------------------------------------------------------------------------
r332842 | felicity | 2005-11-12 21:40:37 +0000 (Sat, 12 Nov 2005) | 1 line

fix typo in mkrules
------------------------------------------------------------------------
r332728 | dos | 2005-11-12 04:02:32 +0000 (Sat, 12 Nov 2005) | 1 line

bug 4627: parse University of Michigan simpta SMTP headers
------------------------------------------------------------------------
r332725 | jm | 2005-11-12 03:35:37 +0000 (Sat, 12 Nov 2005) | 1 line

turn off debug; also, cache local_tz() instead of calling time(), gmtime() and localtime() all the time
------------------------------------------------------------------------
r332723 | jm | 2005-11-12 03:25:57 +0000 (Sat, 12 Nov 2005) | 1 line

okay, let's try it
------------------------------------------------------------------------
r332722 | jm | 2005-11-12 03:22:58 +0000 (Sat, 12 Nov 2005) | 1 line

fix --after bugs
------------------------------------------------------------------------
r332721 | jm | 2005-11-12 03:03:31 +0000 (Sat, 12 Nov 2005) | 1 line

add support for --after switch, to reduce the massive volumes of mass-checkable mail
------------------------------------------------------------------------
r332713 | jm | 2005-11-12 02:18:51 +0000 (Sat, 12 Nov 2005) | 1 line

silence these warnings
------------------------------------------------------------------------
r332710 | jm | 2005-11-12 02:13:22 +0000 (Sat, 12 Nov 2005) | 1 line

go back to building the fast reports immediately from the buildbot -- it's a much better UI.  keep the freqsd around for the slow stuff, though
------------------------------------------------------------------------
r332709 | dos | 2005-11-12 02:10:45 +0000 (Sat, 12 Nov 2005) | 1 line

bug 4680: detect Courier SMTP auth tokens
------------------------------------------------------------------------
r332708 | jm | 2005-11-12 02:07:39 +0000 (Sat, 12 Nov 2005) | 1 line

posixy goodness
------------------------------------------------------------------------
r332707 | jm | 2005-11-12 02:04:34 +0000 (Sat, 12 Nov 2005) | 1 line

oops, another silly syntax-error typo
------------------------------------------------------------------------
r332706 | jm | 2005-11-12 02:00:37 +0000 (Sat, 12 Nov 2005) | 1 line

and stupid su semantics, too
------------------------------------------------------------------------
r332705 | jm | 2005-11-12 01:59:55 +0000 (Sat, 12 Nov 2005) | 1 line

argh, file permissions trip us up again
------------------------------------------------------------------------
r332703 | jm | 2005-11-12 01:45:48 +0000 (Sat, 12 Nov 2005) | 1 line

oops, syntax errors
------------------------------------------------------------------------
r332702 | jm | 2005-11-12 01:42:25 +0000 (Sat, 12 Nov 2005) | 1 line

add init scripts to SVN; use a file backed db to reduce link-farm-creation mem usage
------------------------------------------------------------------------
r332697 | jm | 2005-11-12 01:08:58 +0000 (Sat, 12 Nov 2005) | 1 line

update to match current build scripts
------------------------------------------------------------------------
r332694 | jm | 2005-11-12 00:59:52 +0000 (Sat, 12 Nov 2005) | 1 line

major revamp; I was trying to avoid using IPC::DirQueue, but it just makes a lot more sense
------------------------------------------------------------------------
r332684 | jm | 2005-11-12 00:28:56 +0000 (Sat, 12 Nov 2005) | 1 line

add SIGINT handler, pidfile, and --wake switches
------------------------------------------------------------------------
r332683 | dos | 2005-11-12 00:28:49 +0000 (Sat, 12 Nov 2005) | 1 line

bug 4631: catch eval'd die's leaked by broken perl  __DIE__ hooks
------------------------------------------------------------------------
r332681 | jm | 2005-11-12 00:17:26 +0000 (Sat, 12 Nov 2005) | 1 line

add freqsd
------------------------------------------------------------------------
r332211 | jm | 2005-11-10 02:48:04 +0000 (Thu, 10 Nov 2005) | 1 line

gen_info_xml does not need to be as noisy in the logs as it is
------------------------------------------------------------------------
r332208 | jm | 2005-11-10 02:42:57 +0000 (Thu, 10 Nov 2005) | 1 line

svn log was missing rules-repository changes, use absolute URL
------------------------------------------------------------------------
r332207 | jm | 2005-11-10 02:37:32 +0000 (Thu, 10 Nov 2005) | 1 line

use world-writeable modes
------------------------------------------------------------------------
r332206 | jm | 2005-11-10 02:36:03 +0000 (Thu, 10 Nov 2005) | 1 line

rebuild svn log data every 2 hrs
------------------------------------------------------------------------
r332204 | jm | 2005-11-10 02:34:37 +0000 (Thu, 10 Nov 2005) | 1 line

add 'full-rebuild' switch
------------------------------------------------------------------------
r332202 | jm | 2005-11-10 02:23:04 +0000 (Thu, 10 Nov 2005) | 1 line

display 0-hit lines too in detail mode
------------------------------------------------------------------------
r332201 | jm | 2005-11-10 02:22:27 +0000 (Thu, 10 Nov 2005) | 1 line

workaround PATH issue on solaris; do not use the broken default gnuplot
------------------------------------------------------------------------
r331932 | dos | 2005-11-09 02:44:28 +0000 (Wed, 09 Nov 2005) | 1 line

bug 4661: SPF checks should be done against trusted, but external relays -- get correct EnvFrom & optimize
------------------------------------------------------------------------
r331883 | duncf | 2005-11-08 20:51:56 +0000 (Tue, 08 Nov 2005) | 2 lines

Fix documentation of bayes_store_module (Debian bug 333792)

------------------------------------------------------------------------
r331697 | dos | 2005-11-08 05:51:28 +0000 (Tue, 08 Nov 2005) | 1 line

bug 4672: Add syntax to exclude hosts/networks from trusted/internal networks
------------------------------------------------------------------------
r331692 | dos | 2005-11-08 05:38:37 +0000 (Tue, 08 Nov 2005) | 1 line

bug 4661: SPF checks should be done against trusted, but external relays
------------------------------------------------------------------------
r331672 | felicity | 2005-11-08 02:30:09 +0000 (Tue, 08 Nov 2005) | 1 line

mkrules ought to figure out the MANIFEST and MANIFEST.SKIP files if they're in the cwd, ala --src
------------------------------------------------------------------------
r331591 | jgmyers | 2005-11-07 19:59:53 +0000 (Mon, 07 Nov 2005) | 1 line

Bug 4517: instrument eval rules as well
------------------------------------------------------------------------
r331590 | jgmyers | 2005-11-07 19:52:15 +0000 (Mon, 07 Nov 2005) | 1 line

Bug 4515: content preview omits first paragraph when no Subject: header
------------------------------------------------------------------------
r330964 | jm | 2005-11-05 03:31:32 +0000 (Sat, 05 Nov 2005) | 1 line

fix mbox support
------------------------------------------------------------------------
r330694 | dos | 2005-11-04 03:04:38 +0000 (Fri, 04 Nov 2005) | 1 line

bug 4648: validate rule names
------------------------------------------------------------------------
r330692 | jm | 2005-11-04 02:54:38 +0000 (Fri, 04 Nov 2005) | 1 line

rules compiler now will not output sandbox rules if the file fails to lint
------------------------------------------------------------------------
r330670 | jm | 2005-11-04 00:32:02 +0000 (Fri, 04 Nov 2005) | 1 line

not so far right in the layout
------------------------------------------------------------------------
r330663 | jm | 2005-11-03 23:25:02 +0000 (Thu, 03 Nov 2005) | 1 line

added hit-frequencies -S (score-map) and -d (XML output) switches; hook up -S support in the ruleqa.cgi view
------------------------------------------------------------------------
r330410 | jm | 2005-11-03 01:54:39 +0000 (Thu, 03 Nov 2005) | 1 line

colorise the graphs; display performance figures; hide nonexistent scores for meta subrules
------------------------------------------------------------------------
r330188 | jm | 2005-11-02 04:16:37 +0000 (Wed, 02 Nov 2005) | 1 line

add rule timing to hit-frequencies, -T switch.  Thanks to John Gardiner Myers for the code
------------------------------------------------------------------------
r330159 | jm | 2005-11-02 00:11:39 +0000 (Wed, 02 Nov 2005) | 1 line

minor tweak; shorten overlong X labels
------------------------------------------------------------------------
r329984 | jm | 2005-11-01 05:37:23 +0000 (Tue, 01 Nov 2005) | 1 line

get points to be the same colour as the smoothed lines
------------------------------------------------------------------------
r329980 | jm | 2005-11-01 05:28:18 +0000 (Tue, 01 Nov 2005) | 1 line

switch preflight buildbot to store corpora on a tmpfs drive, to make up for atrocious I/O speeds on the zone's main /home filesystem
------------------------------------------------------------------------
r329976 | jm | 2005-11-01 05:17:35 +0000 (Tue, 01 Nov 2005) | 1 line

disable the corpus-rebuild step.  the disks on the zone are just too slow to do this
------------------------------------------------------------------------
r329975 | jm | 2005-11-01 05:12:08 +0000 (Tue, 01 Nov 2005) | 1 line

oops, other way around
------------------------------------------------------------------------
r329974 | jm | 2005-11-01 05:08:22 +0000 (Tue, 01 Nov 2005) | 1 line

speedup: avoid relinking if possible
------------------------------------------------------------------------
r329963 | jm | 2005-11-01 03:18:05 +0000 (Tue, 01 Nov 2005) | 1 line

'renamed as', not 'needs renaming'
------------------------------------------------------------------------
r329955 | jm | 2005-11-01 02:50:35 +0000 (Tue, 01 Nov 2005) | 1 line

rule renaming: now will actually rename rules
------------------------------------------------------------------------
r329951 | jm | 2005-11-01 01:49:54 +0000 (Tue, 01 Nov 2005) | 1 line

use the right perl on the solaris zone
------------------------------------------------------------------------
r329944 | jm | 2005-11-01 00:26:02 +0000 (Tue, 01 Nov 2005) | 1 line

hmm, try again
------------------------------------------------------------------------
r329940 | jm | 2005-11-01 00:00:43 +0000 (Tue, 01 Nov 2005) | 1 line

add class
------------------------------------------------------------------------
r329939 | jm | 2005-11-01 00:00:06 +0000 (Tue, 01 Nov 2005) | 1 line

nicer
------------------------------------------------------------------------
r329938 | jm | 2005-10-31 23:57:25 +0000 (Mon, 31 Oct 2005) | 1 line

more stripping
------------------------------------------------------------------------
r329937 | jm | 2005-10-31 23:56:22 +0000 (Mon, 31 Oct 2005) | 1 line

add another info file for less-expensive data
------------------------------------------------------------------------
r329933 | jm | 2005-10-31 23:37:19 +0000 (Mon, 31 Oct 2005) | 1 line

defer deletion until end of script, to avoid race conditions with multiple parallel mass-checkers
------------------------------------------------------------------------
r329899 | jm | 2005-10-31 21:04:37 +0000 (Mon, 31 Oct 2005) | 1 line

remove debugging feature; minor tweaks
------------------------------------------------------------------------
r329889 | jm | 2005-10-31 20:46:53 +0000 (Mon, 31 Oct 2005) | 1 line

ditch kludgy Bezier smoothing, use more sensible Statistics::DEA instead, which matches our dataset perfectly.  Thanks to Henry for the tip ;)
------------------------------------------------------------------------
r329769 | jm | 2005-10-31 08:09:48 +0000 (Mon, 31 Oct 2005) | 1 line

more reasonable labels
------------------------------------------------------------------------
r329768 | jm | 2005-10-31 08:04:26 +0000 (Mon, 31 Oct 2005) | 1 line

run the SVN grabber, too
------------------------------------------------------------------------
r329767 | jm | 2005-10-31 08:02:33 +0000 (Mon, 31 Oct 2005) | 1 line

much improved UI for SVN revision navigation
------------------------------------------------------------------------
r329764 | jm | 2005-10-31 07:16:51 +0000 (Mon, 31 Oct 2005) | 1 line

fixes
------------------------------------------------------------------------
r329762 | jm | 2005-10-31 06:50:58 +0000 (Mon, 31 Oct 2005) | 1 line

mass-check: report switches; automc: nicer UI for the overview links
------------------------------------------------------------------------
r329745 | jm | 2005-10-31 05:13:44 +0000 (Mon, 31 Oct 2005) | 1 line

was double-counting in the link-farm creation script, resulting in half-sized corpora.  fixed
------------------------------------------------------------------------
r329738 | jm | 2005-10-31 04:43:07 +0000 (Mon, 31 Oct 2005) | 1 line

a little more time needed I think
------------------------------------------------------------------------
r329737 | jm | 2005-10-31 04:41:22 +0000 (Mon, 31 Oct 2005) | 1 line

DEFAULT for signals, not undef
------------------------------------------------------------------------
r329736 | jm | 2005-10-31 04:39:55 +0000 (Mon, 31 Oct 2005) | 1 line

a little less competition for the 'winning' buildbot
------------------------------------------------------------------------
r329734 | jm | 2005-10-31 04:36:32 +0000 (Mon, 31 Oct 2005) | 1 line

let's try that again
------------------------------------------------------------------------
r329732 | jm | 2005-10-31 04:29:41 +0000 (Mon, 31 Oct 2005) | 1 line

update MANIFEST files
------------------------------------------------------------------------
r329731 | jm | 2005-10-31 04:28:09 +0000 (Mon, 31 Oct 2005) | 1 line

forgot the script
------------------------------------------------------------------------
r329730 | jm | 2005-10-31 04:26:55 +0000 (Mon, 31 Oct 2005) | 1 line

implement a singleton-locking system for singleton actions in buildbot; move corpus-populating script into svn; some minor tweaks and fixes
------------------------------------------------------------------------
r329728 | felicity | 2005-10-31 04:20:10 +0000 (Mon, 31 Oct 2005) | 1 line

since mass-check may be run from a non-working copy directory, it needs to know to deal with the directory that mass-check lives in instead
------------------------------------------------------------------------
r329710 | jm | 2005-10-31 02:35:37 +0000 (Mon, 31 Oct 2005) | 1 line

some error-handling for empty logfiles
------------------------------------------------------------------------
r329704 | jm | 2005-10-31 02:11:16 +0000 (Mon, 31 Oct 2005) | 1 line

duh.  having each slave do this will result in, guess what, collisions; so do it from cron instead
------------------------------------------------------------------------
r329703 | jm | 2005-10-31 02:03:28 +0000 (Mon, 31 Oct 2005) | 1 line

use new corpus-creation helper script
------------------------------------------------------------------------
r329698 | jm | 2005-10-31 01:41:31 +0000 (Mon, 31 Oct 2005) | 1 line

add mbox-extraction support
------------------------------------------------------------------------
r329679 | jm | 2005-10-31 00:46:18 +0000 (Mon, 31 Oct 2005) | 1 line

oops
------------------------------------------------------------------------
r329677 | jm | 2005-10-31 00:41:56 +0000 (Mon, 31 Oct 2005) | 1 line

use - instead of / in daterev strings, because it does not require URI-encoding in CGI params
------------------------------------------------------------------------
r329675 | jm | 2005-10-31 00:36:20 +0000 (Mon, 31 Oct 2005) | 1 line

ISO dates please
------------------------------------------------------------------------
r329674 | jm | 2005-10-31 00:33:37 +0000 (Mon, 31 Oct 2005) | 1 line

nice up the period name
------------------------------------------------------------------------
r329673 | jm | 2005-10-31 00:29:04 +0000 (Mon, 31 Oct 2005) | 1 line

use a 3-day period, instead of an entire week
------------------------------------------------------------------------
r329672 | jm | 2005-10-31 00:28:36 +0000 (Mon, 31 Oct 2005) | 1 line

move spam chart above ham chart; move legend to top-left corner of graph; add smoothed average line as well as the raw datapoints; set period to 1 week
------------------------------------------------------------------------
r329670 | jm | 2005-10-30 23:51:54 +0000 (Sun, 30 Oct 2005) | 1 line

not plotting undef values works a lot better now.  make that the default
------------------------------------------------------------------------
r329669 | jm | 2005-10-30 23:48:09 +0000 (Sun, 30 Oct 2005) | 1 line

try out not plotting undefined values
------------------------------------------------------------------------
r329668 | jm | 2005-10-30 23:44:37 +0000 (Sun, 30 Oct 2005) | 1 line

note more clearly whose mass-checks are used
------------------------------------------------------------------------
r329653 | jm | 2005-10-30 21:32:12 +0000 (Sun, 30 Oct 2005) | 1 line

ah, that's better; now graphs 0-hitters correctly
------------------------------------------------------------------------
r329648 | jm | 2005-10-30 21:14:12 +0000 (Sun, 30 Oct 2005) | 1 line

a little bit of eyecandy
------------------------------------------------------------------------
r329647 | jm | 2005-10-30 21:12:33 +0000 (Sun, 30 Oct 2005) | 1 line

dammit stop sucking
------------------------------------------------------------------------
r329640 | jm | 2005-10-30 20:50:54 +0000 (Sun, 30 Oct 2005) | 1 line

still more platform differences
------------------------------------------------------------------------
r329637 | jm | 2005-10-30 20:45:53 +0000 (Sun, 30 Oct 2005) | 1 line

build our own damn gnuplot
------------------------------------------------------------------------
r329635 | jm | 2005-10-30 20:41:56 +0000 (Sun, 30 Oct 2005) | 1 line

more porting
------------------------------------------------------------------------
r329633 | jm | 2005-10-30 20:40:27 +0000 (Sun, 30 Oct 2005) | 1 line

temp files, CGI and what-not again
------------------------------------------------------------------------
r329632 | jm | 2005-10-30 20:39:25 +0000 (Sun, 30 Oct 2005) | 1 line

temp files, CGI and what-not
------------------------------------------------------------------------
r329631 | jm | 2005-10-30 20:36:54 +0000 (Sun, 30 Oct 2005) | 1 line

Justin's brain, why doth thou suckest so
------------------------------------------------------------------------
r329630 | jm | 2005-10-30 20:36:04 +0000 (Sun, 30 Oct 2005) | 1 line

Solaris, why doth thou suckest so
------------------------------------------------------------------------
r329629 | jm | 2005-10-30 20:33:15 +0000 (Sun, 30 Oct 2005) | 1 line

redo rule-hits-over-time using the more useful gnuplot
------------------------------------------------------------------------
r329506 | jm | 2005-10-30 01:10:41 +0000 (Sun, 30 Oct 2005) | 1 line

new corpus-maintainance script; generate statically-sized corpus dirs from a more random, messy, variable number of input dirs.  will be used in preflight mass-check system
------------------------------------------------------------------------
r329330 | jm | 2005-10-28 23:50:22 +0000 (Fri, 28 Oct 2005) | 5 lines

IMPORTANT: if you're using this script, you will similarly
need to update your copy to match this, otherwise only a
subset of rules are now being mass-checked nightly!


------------------------------------------------------------------------
r329328 | jm | 2005-10-28 23:05:14 +0000 (Fri, 28 Oct 2005) | 1 line

use an anchor to avoid jumping around
------------------------------------------------------------------------
r329327 | jm | 2005-10-28 23:03:15 +0000 (Fri, 28 Oct 2005) | 1 line

tweaking
------------------------------------------------------------------------
r329326 | jm | 2005-10-28 23:01:47 +0000 (Fri, 28 Oct 2005) | 1 line

oops, mixed up height and width
------------------------------------------------------------------------
r329325 | jm | 2005-10-28 23:00:04 +0000 (Fri, 28 Oct 2005) | 1 line

inline the graph
------------------------------------------------------------------------
r329294 | jm | 2005-10-28 20:54:51 +0000 (Fri, 28 Oct 2005) | 1 line

lets use GIF so that the old 'Windows cannot deal with PNG' bug doesn't hit us
------------------------------------------------------------------------
r329293 | jm | 2005-10-28 20:53:12 +0000 (Fri, 28 Oct 2005) | 1 line

allow Y-axis to scale instead of always being 0..100
------------------------------------------------------------------------
r329278 | jm | 2005-10-28 19:51:33 +0000 (Fri, 28 Oct 2005) | 1 line

aha, found the GD::Graph bug that was causing black background output
------------------------------------------------------------------------
r329051 | jm | 2005-10-28 02:50:15 +0000 (Fri, 28 Oct 2005) | 1 line

nice-looking, but stupid
------------------------------------------------------------------------
r329050 | jm | 2005-10-28 02:41:21 +0000 (Fri, 28 Oct 2005) | 1 line

better page titles
------------------------------------------------------------------------
r329048 | jm | 2005-10-28 02:38:06 +0000 (Fri, 28 Oct 2005) | 1 line

'over_time' reads a little better than 'ruleshit' ;)
------------------------------------------------------------------------
r329047 | jm | 2005-10-28 02:35:46 +0000 (Fri, 28 Oct 2005) | 1 line

restore CGI header
------------------------------------------------------------------------
r329045 | jm | 2005-10-28 02:35:05 +0000 (Fri, 28 Oct 2005) | 1 line

at least make the background colour more consistent, at black
------------------------------------------------------------------------
r329023 | jm | 2005-10-28 01:23:15 +0000 (Fri, 28 Oct 2005) | 1 line

avoid use of ImageMagick 'convert' command -- use pure GD only
------------------------------------------------------------------------
r329021 | jm | 2005-10-28 01:14:20 +0000 (Fri, 28 Oct 2005) | 1 line

fix undefs if no files were read
------------------------------------------------------------------------
r329020 | jm | 2005-10-28 01:12:06 +0000 (Fri, 28 Oct 2005) | 1 line

less paranoia
------------------------------------------------------------------------
r329017 | jm | 2005-10-28 01:00:28 +0000 (Fri, 28 Oct 2005) | 1 line

move script into 'rule-qa' directory, where it's more suited
------------------------------------------------------------------------
r329013 | jm | 2005-10-28 00:58:32 +0000 (Fri, 28 Oct 2005) | 1 line

another typo
------------------------------------------------------------------------
r329012 | jm | 2005-10-28 00:57:31 +0000 (Fri, 28 Oct 2005) | 1 line

typo
------------------------------------------------------------------------
r329011 | jm | 2005-10-28 00:56:31 +0000 (Fri, 28 Oct 2005) | 1 line

hook rule-hits-over-time graphs into rule-QA CGI
------------------------------------------------------------------------
r329005 | jm | 2005-10-28 00:47:33 +0000 (Fri, 28 Oct 2005) | 1 line

cosmetic perl cleanup
------------------------------------------------------------------------
r328993 | jm | 2005-10-28 00:30:27 +0000 (Fri, 28 Oct 2005) | 1 line

allow . in log filenames
------------------------------------------------------------------------
r328806 | jm | 2005-10-27 06:38:45 +0000 (Thu, 27 Oct 2005) | 1 line

major improvements to the rule-hits graphing script
------------------------------------------------------------------------
r328517 | duncf | 2005-10-26 01:24:28 +0000 (Wed, 26 Oct 2005) | 2 lines

Fix typo (Debian Bug 335799) in UPGRADE

------------------------------------------------------------------------
r328495 | sidney | 2005-10-25 22:36:02 +0000 (Tue, 25 Oct 2005) | 1 line

bug 4619 update to work with older versions of Net::DNS less than 0.50
------------------------------------------------------------------------
r328203 | jm | 2005-10-25 00:51:35 +0000 (Tue, 25 Oct 2005) | 1 line

add LOGS gzipping
------------------------------------------------------------------------
r328192 | jm | 2005-10-24 23:53:22 +0000 (Mon, 24 Oct 2005) | 1 line

add support for other header lines
------------------------------------------------------------------------
r328189 | jm | 2005-10-24 23:25:03 +0000 (Mon, 24 Oct 2005) | 1 line

corpus-hourly does this nowadays
------------------------------------------------------------------------
r327897 | felicity | 2005-10-24 01:04:30 +0000 (Mon, 24 Oct 2005) | 1 line

bug 4363: if a message uses CRLF for line endings, we should use it as well, otherwise stay with LF as usual
------------------------------------------------------------------------
r327648 | sidney | 2005-10-22 09:51:31 +0000 (Sat, 22 Oct 2005) | 1 line

Bug 4639. Add -K option to spamc to ping spamd
------------------------------------------------------------------------
r327626 | jm | 2005-10-22 03:10:27 +0000 (Sat, 22 Oct 2005) | 1 line

cope with usernames containing dashes; better coping with multiple hit-freqs processes going in parallel
------------------------------------------------------------------------
r327621 | jm | 2005-10-22 01:46:42 +0000 (Sat, 22 Oct 2005) | 1 line

use a decent umask
------------------------------------------------------------------------
r327620 | jm | 2005-10-22 01:39:50 +0000 (Sat, 22 Oct 2005) | 1 line

tricky umask stuff
------------------------------------------------------------------------
r327619 | jm | 2005-10-22 01:16:06 +0000 (Sat, 22 Oct 2005) | 1 line

70_testing.cf now gone
------------------------------------------------------------------------
r327617 | jm | 2005-10-22 01:15:16 +0000 (Sat, 22 Oct 2005) | 1 line

move 70_testing.cf rules into rulesrc, for some testing
------------------------------------------------------------------------
r327616 | jm | 2005-10-22 01:11:22 +0000 (Sat, 22 Oct 2005) | 1 line

use the right rules dir for the automated mass-check
------------------------------------------------------------------------
r327614 | jm | 2005-10-22 01:00:47 +0000 (Sat, 22 Oct 2005) | 1 line

couple of other basic errors
------------------------------------------------------------------------
r327613 | jm | 2005-10-22 00:43:44 +0000 (Sat, 22 Oct 2005) | 1 line

ensure HOME is set to something useful
------------------------------------------------------------------------
r327612 | jm | 2005-10-22 00:34:49 +0000 (Sat, 22 Oct 2005) | 1 line

duh. typo
------------------------------------------------------------------------
r327610 | jm | 2005-10-22 00:19:05 +0000 (Sat, 22 Oct 2005) | 1 line

hook up the two parts of the preflight system
------------------------------------------------------------------------
r326801 | jm | 2005-10-20 04:11:58 +0000 (Thu, 20 Oct 2005) | 1 line

duh, $SCORESET => 0
------------------------------------------------------------------------
r326800 | jm | 2005-10-20 04:09:01 +0000 (Thu, 20 Oct 2005) | 1 line

old vers of svn on the zone
------------------------------------------------------------------------
r326798 | jm | 2005-10-20 04:05:49 +0000 (Thu, 20 Oct 2005) | 1 line

use correct rules dir
------------------------------------------------------------------------
r326797 | jm | 2005-10-20 04:02:18 +0000 (Thu, 20 Oct 2005) | 1 line

use file created for this in chroot case
------------------------------------------------------------------------
r326796 | jm | 2005-10-20 03:59:44 +0000 (Thu, 20 Oct 2005) | 1 line

correct config switch
------------------------------------------------------------------------
r326778 | jm | 2005-10-20 02:25:38 +0000 (Thu, 20 Oct 2005) | 1 line

limit to just sandbox rules only
------------------------------------------------------------------------
r326777 | jm | 2005-10-20 02:17:52 +0000 (Thu, 20 Oct 2005) | 1 line

one more try
------------------------------------------------------------------------
r326776 | jm | 2005-10-20 02:10:10 +0000 (Thu, 20 Oct 2005) | 1 line

let's see if the new buildbot spots this
------------------------------------------------------------------------
r326775 | jm | 2005-10-20 01:52:07 +0000 (Thu, 20 Oct 2005) | 1 line

add some more niceness
------------------------------------------------------------------------
r326756 | jm | 2005-10-19 23:34:58 +0000 (Wed, 19 Oct 2005) | 1 line

move build to the 'configure' step, away from the mass-check in the 'test'
------------------------------------------------------------------------
r326755 | jm | 2005-10-19 23:34:24 +0000 (Wed, 19 Oct 2005) | 1 line

move build to the 'configure' step, away from the mass-check in the 'test'
------------------------------------------------------------------------
r326752 | jm | 2005-10-19 23:29:19 +0000 (Wed, 19 Oct 2005) | 1 line

ensure we use a real perl interpreter this time
------------------------------------------------------------------------
r326323 | jm | 2005-10-19 01:53:06 +0000 (Wed, 19 Oct 2005) | 1 line

use homebuilt perl, not /usr/bin/perl
------------------------------------------------------------------------
r326318 | jm | 2005-10-19 01:38:48 +0000 (Wed, 19 Oct 2005) | 1 line

oops
------------------------------------------------------------------------
r326316 | jm | 2005-10-19 01:31:46 +0000 (Wed, 19 Oct 2005) | 1 line

preflight mass-checks; implement runner script
------------------------------------------------------------------------
r326275 | jm | 2005-10-18 22:15:22 +0000 (Tue, 18 Oct 2005) | 1 line

moving all these files back again, from rulescode to rules.  rulescode is no more
------------------------------------------------------------------------
r326274 | jm | 2005-10-18 22:12:52 +0000 (Tue, 18 Oct 2005) | 1 line

ignore automc buildbot scripts for packaging; also, ignore rules project source files, which are SVN-only
------------------------------------------------------------------------
r326273 | jm | 2005-10-18 22:11:59 +0000 (Tue, 18 Oct 2005) | 1 line

required for make disttest
------------------------------------------------------------------------
r326272 | jm | 2005-10-18 22:11:28 +0000 (Tue, 18 Oct 2005) | 21 lines

change of plan -- let the wookie win. ;)

Avoid MANIFEST/"dist"/install issues, by limiting the rule filenames to just a
pre-defined set.

That way, we're back to MANIFEST containing the list of files in the "rules"
directory. That dir includes both code-tied (source) and rules project (built)
rules files.  The "rulescode" dir is gone, again.

The "rulesrc" dir is SVN-only, and not in tarballs -- the package produced by
make dist/make tardist etc. will contain the built rules files in "rules".
"make install" then installs those files.

This means that there may still be issues running "make install" from
an SVN checkout -- but it will always work from a tarball, since that
will contain the "built" files.

Non-"publish"ed sandbox rules are written to rules/70_sandbox.cf, and this file
is *not* installed.


------------------------------------------------------------------------
r326039 | dos | 2005-10-18 06:59:58 +0000 (Tue, 18 Oct 2005) | 1 line

bug 4595: WhiteListSubject.pm missing default config hashes
------------------------------------------------------------------------
r326003 | jm | 2005-10-18 00:47:46 +0000 (Tue, 18 Oct 2005) | 1 line

mkrules now creates a '70_sandbox.cf' for rules found in sandbox files
------------------------------------------------------------------------
r325998 | felicity | 2005-10-17 23:17:21 +0000 (Mon, 17 Oct 2005) | 1 line

bug 4534: implemented a --cache option in mass-check so that checks can be done faster without recalculating the message's atime each time through
------------------------------------------------------------------------
r325987 | jgmyers | 2005-10-17 21:37:01 +0000 (Mon, 17 Oct 2005) | 1 line

Bug 4511: suppress function definition warnings when recreating a Mail::SpamAssassin object
------------------------------------------------------------------------
r325836 | sidney | 2005-10-17 03:56:55 +0000 (Mon, 17 Oct 2005) | 1 line

Bug 4619 update fix to include test for INET6 socket with ipv4 addresses, and to remove need to refer to AF_INET6 macro by seting PeerAddr instead of Domain in call to socket new
------------------------------------------------------------------------
r322494 | felicity | 2005-10-16 17:50:28 +0000 (Sun, 16 Oct 2005) | 1 line

let 'make clean' and 'make distclean' blow away the generated rules files'
------------------------------------------------------------------------
r322491 | felicity | 2005-10-16 16:40:05 +0000 (Sun, 16 Oct 2005) | 1 line

another set of test rules
------------------------------------------------------------------------
r322462 | sidney | 2005-10-16 09:37:20 +0000 (Sun, 16 Oct 2005) | 1 line

Bug 4619 - Disable use of IPv6 for DNS if unable to create INET6 socket and add --ipv4 command line option to use in case there is still a problem
------------------------------------------------------------------------
r322433 | jm | 2005-10-16 02:18:03 +0000 (Sun, 16 Oct 2005) | 1 line

hmm.  why did automc show up as deleted in http://spamassassin.zones.apache.org:8011/mc-fast/builds/12/svn/0?
------------------------------------------------------------------------
r321479 | felicity | 2005-10-15 19:46:26 +0000 (Sat, 15 Oct 2005) | 1 line

new test rule for faked Bat responses
------------------------------------------------------------------------
r321278 | jm | 2005-10-15 02:22:54 +0000 (Sat, 15 Oct 2005) | 1 line

oops, syntax errors galore
------------------------------------------------------------------------
r321272 | jm | 2005-10-15 01:05:47 +0000 (Sat, 15 Oct 2005) | 1 line

scripts for mass-checker buildbot
------------------------------------------------------------------------
r321271 | jm | 2005-10-15 01:05:33 +0000 (Sat, 15 Oct 2005) | 1 line

scripts for mass-checker buildbot
------------------------------------------------------------------------
r321259 | jm | 2005-10-15 00:10:28 +0000 (Sat, 15 Oct 2005) | 1 line

stupid justin typo 
------------------------------------------------------------------------
r321251 | jm | 2005-10-14 23:44:51 +0000 (Fri, 14 Oct 2005) | 1 line

stupid solaris zone
------------------------------------------------------------------------
r321248 | jm | 2005-10-14 23:34:15 +0000 (Fri, 14 Oct 2005) | 1 line

some zone portage
------------------------------------------------------------------------
r321243 | jm | 2005-10-14 23:17:23 +0000 (Fri, 14 Oct 2005) | 1 line

allow multiple mass-checks per day; major improvements in UI
------------------------------------------------------------------------
r321240 | jgmyers | 2005-10-14 23:12:47 +0000 (Fri, 14 Oct 2005) | 1 line

bug 4206: Don't load Bayes if it's disabled
------------------------------------------------------------------------
r321150 | felicity | 2005-10-14 17:09:11 +0000 (Fri, 14 Oct 2005) | 1 line

if there's an error from DependencyInfo, such as 'perl Makefile.PL < /dev/null > /dev/null' and HTML::Parser being out of date, we should print it to STDERR, not STDOUT, so do a warn instead of print.
------------------------------------------------------------------------
r321076 | felicity | 2005-10-14 11:38:19 +0000 (Fri, 14 Oct 2005) | 1 line

mkrules ought to try and use the standard rule directories if they exist and no src dirs have been specified
------------------------------------------------------------------------
r320980 | jm | 2005-10-14 02:44:14 +0000 (Fri, 14 Oct 2005) | 1 line

bit of paranoia: make sure this never sits hanging at a password prompt
------------------------------------------------------------------------
r320979 | jm | 2005-10-14 02:42:33 +0000 (Fri, 14 Oct 2005) | 1 line

major changes to hourly corpus scripts; use SVN revisions and dates to differentiate mass-checks, support ruleqa.cgi script, and upcoming changes for rules-project preflight continuous-mass-check buildbot
------------------------------------------------------------------------
r320975 | jm | 2005-10-14 02:07:00 +0000 (Fri, 14 Oct 2005) | 1 line

fix mass-check to report SVN revision correctly
------------------------------------------------------------------------
r320948 | jgmyers | 2005-10-13 23:58:20 +0000 (Thu, 13 Oct 2005) | 1 line

Bug 4596: test requires version of perl without utf8 bugs
------------------------------------------------------------------------
r320940 | jm | 2005-10-13 23:19:31 +0000 (Thu, 13 Oct 2005) | 1 line

add 'quickstart' command so that all buildbot slaves can use it
------------------------------------------------------------------------
r320887 | jm | 2005-10-13 19:36:38 +0000 (Thu, 13 Oct 2005) | 1 line

allow 'rules' dir to be created by Makefile to fix buildbot failures
------------------------------------------------------------------------
r315074 | jgmyers | 2005-10-12 23:20:13 +0000 (Wed, 12 Oct 2005) | 1 line

MANIFEST fixes
------------------------------------------------------------------------
r315047 | jgmyers | 2005-10-12 20:59:47 +0000 (Wed, 12 Oct 2005) | 1 line

bug 4596: Normalize Unicode HTML entities.  Increases minimum version of HTML::Parser to 3.43
------------------------------------------------------------------------
r315046 | jgmyers | 2005-10-12 20:59:25 +0000 (Wed, 12 Oct 2005) | 1 line

Add myself to CREDITS
------------------------------------------------------------------------
r314766 | jm | 2005-10-12 03:45:25 +0000 (Wed, 12 Oct 2005) | 1 line

aha, that's it; I'd forgotten to fix Makefile.PL to know about the code-tied rules source dir
------------------------------------------------------------------------
r314764 | jm | 2005-10-12 03:36:35 +0000 (Wed, 12 Oct 2005) | 1 line

list all core rulesets in MANIFEST, see if this makes buildbot work ;)
------------------------------------------------------------------------
r314758 | jm | 2005-10-12 02:58:38 +0000 (Wed, 12 Oct 2005) | 1 line

add source for code-tied rules dir to MANIFEST
------------------------------------------------------------------------
r314756 | jm | 2005-10-12 02:52:19 +0000 (Wed, 12 Oct 2005) | 1 line

move all rule source out of 'rules' directory, and update build scripts to deal with this
------------------------------------------------------------------------
r312778 | jm | 2005-10-11 01:35:21 +0000 (Tue, 11 Oct 2005) | 1 line

30_text_it.cf has no rules, therefore is not being created.  do not list it in MANIFEST
------------------------------------------------------------------------
r312776 | jm | 2005-10-11 01:34:15 +0000 (Tue, 11 Oct 2005) | 1 line

now always copy lines that we don't recognise, if they're not just comments or blank lines; warn if we had to rename a rule; and don't dare rename rules in the core rulesets, just sandboxes.
------------------------------------------------------------------------
r312748 | sidney | 2005-10-10 21:11:33 +0000 (Mon, 10 Oct 2005) | 1 line

Move 10_misc.cf to rules directory and change name to 10_default_prefs.cf. Change file name in documentation files
------------------------------------------------------------------------
r306975 | jm | 2005-10-07 02:01:10 +0000 (Fri, 07 Oct 2005) | 1 line

this file was already moved...
------------------------------------------------------------------------
r306973 | jm | 2005-10-07 02:00:39 +0000 (Fri, 07 Oct 2005) | 1 line

update the compiler; fills in some of the TODOs on RulesProjPromotion
------------------------------------------------------------------------
r306939 | jm | 2005-10-06 22:23:46 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306938 | jm | 2005-10-06 22:23:44 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306937 | jm | 2005-10-06 22:23:41 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306936 | jm | 2005-10-06 22:23:39 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306935 | jm | 2005-10-06 22:23:38 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306934 | jm | 2005-10-06 22:23:36 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306933 | jm | 2005-10-06 22:23:34 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306932 | jm | 2005-10-06 22:23:32 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306931 | jm | 2005-10-06 22:23:30 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306930 | jm | 2005-10-06 22:23:28 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306929 | jm | 2005-10-06 22:23:25 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306928 | jm | 2005-10-06 22:23:23 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306927 | jm | 2005-10-06 22:23:19 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306926 | jm | 2005-10-06 22:23:16 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306925 | jm | 2005-10-06 22:23:13 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306924 | jm | 2005-10-06 22:23:11 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306923 | jm | 2005-10-06 22:23:09 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306922 | jm | 2005-10-06 22:23:07 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306921 | jm | 2005-10-06 22:23:05 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306920 | jm | 2005-10-06 22:23:02 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306919 | jm | 2005-10-06 22:22:58 +0000 (Thu, 06 Oct 2005) | 1 line

renaming rules files, in Rules Project reorg; moving into new rules repository subtree
------------------------------------------------------------------------
r306918 | jm | 2005-10-06 22:22:10 +0000 (Thu, 06 Oct 2005) | 1 line

moving into Rules Project repo
------------------------------------------------------------------------
r294971 | jm | 2005-10-05 02:05:48 +0000 (Wed, 05 Oct 2005) | 1 line

bug 4517: rule instrumentation plugin hooks, from John Gardiner Myers <jgmyers /at/ proofpoint.com>
------------------------------------------------------------------------
r293487 | jm | 2005-10-04 02:02:35 +0000 (Tue, 04 Oct 2005) | 1 line

bug 4597: avoid stupid 'can't call method 'string' on an undefined value' errors from DnsResolver
------------------------------------------------------------------------
r292909 | jm | 2005-10-01 02:52:11 +0000 (Sat, 01 Oct 2005) | 1 line

fix t/rule_names.t failure
------------------------------------------------------------------------
r292906 | jm | 2005-10-01 02:36:49 +0000 (Sat, 01 Oct 2005) | 4 lines

Rules project; "fake" tmp.cf file, to force the rulesrc tree to be
available so 'make disttest' will pass.   Also, explanatory comment
in Makefile.PL.

------------------------------------------------------------------------
r292373 | jm | 2005-09-29 02:04:33 +0000 (Thu, 29 Sep 2005) | 1 line

remove deleted rules file
------------------------------------------------------------------------
r292369 | jm | 2005-09-29 01:48:53 +0000 (Thu, 29 Sep 2005) | 1 line

added support for a script to build rules from 'rulesrc', and output files to 'rules' as part of the build process
------------------------------------------------------------------------
r292363 | jm | 2005-09-29 00:31:03 +0000 (Thu, 29 Sep 2005) | 1 line

added svn:external property to load rules project as 'rulesrc'
------------------------------------------------------------------------
r292362 | jm | 2005-09-29 00:29:45 +0000 (Thu, 29 Sep 2005) | 1 line

remove obsolete and empty rules files in prep
------------------------------------------------------------------------
r292019 | felicity | 2005-09-27 19:17:20 +0000 (Tue, 27 Sep 2005) | 1 line

add in two test rules
------------------------------------------------------------------------
r291471 | felicity | 2005-09-25 20:18:01 +0000 (Sun, 25 Sep 2005) | 1 line

fix meta dependency for T_.._PHISH rules, add in a few more simple test rules
------------------------------------------------------------------------
r291221 | felicity | 2005-09-23 23:24:46 +0000 (Fri, 23 Sep 2005) | 1 line

adding a test rule
------------------------------------------------------------------------
r290904 | dos | 2005-09-22 07:37:12 +0000 (Thu, 22 Sep 2005) | 1 line

bug 4425: whitelist_from_rcvd shouldn't look at trusted headers if untrusted ones exist
------------------------------------------------------------------------
r290606 | dos | 2005-09-21 03:06:21 +0000 (Wed, 21 Sep 2005) | 1 line

bug 4586: spamd information message tells user to use switch that doesn't exist in spamd
------------------------------------------------------------------------
r289978 | felicity | 2005-09-18 21:19:57 +0000 (Sun, 18 Sep 2005) | 1 line

add in a little bit of documentation about the last change (r289976)
------------------------------------------------------------------------
r289976 | felicity | 2005-09-18 21:17:52 +0000 (Sun, 18 Sep 2005) | 1 line

bug 4589: allow M::SA::Message to use IO::File objects to read in message (same as GLOB).  Also add in check to ignore unknown reference types.
------------------------------------------------------------------------
r289135 | jm | 2005-09-15 02:38:43 +0000 (Thu, 15 Sep 2005) | 1 line

merge up 3.1.0 release administrivia
------------------------------------------------------------------------
r280738 | jm | 2005-09-14 01:53:11 +0000 (Wed, 14 Sep 2005) | 1 line

bug 4522: ISO-2022 charset shifting escape sequence threw off bare-URI parsing.  fixed
------------------------------------------------------------------------
r280717 | dos | 2005-09-13 23:40:59 +0000 (Tue, 13 Sep 2005) | 1 line

Intermittent __alarm__ errors with various plugins
------------------------------------------------------------------------
r280056 | jm | 2005-09-11 01:28:07 +0000 (Sun, 11 Sep 2005) | 1 line

bug 4565: deal with new Yahoo hostname convention which caused FORGED_YAHOO_RCVD fps
------------------------------------------------------------------------
r279684 | jm | 2005-09-09 01:52:48 +0000 (Fri, 09 Sep 2005) | 1 line

trivial typo fix
------------------------------------------------------------------------
r279666 | sidney | 2005-09-08 22:51:18 +0000 (Thu, 08 Sep 2005) | 1 line

Bug 4570 fix regexp to handle longer folded headers without segfaulting
------------------------------------------------------------------------
r279516 | jm | 2005-09-08 05:11:06 +0000 (Thu, 08 Sep 2005) | 1 line

bug 4572: catch redirections using EmailFactory (emf0.com)
------------------------------------------------------------------------
r264935 | dos | 2005-08-31 04:01:31 +0000 (Wed, 31 Aug 2005) | 1 line

bug 4558: add redirector pattern  for oscommerce software open redirector
------------------------------------------------------------------------
r264692 | duncf | 2005-08-30 03:53:30 +0000 (Tue, 30 Aug 2005) | 2 lines

Typo "Spamssassin"

------------------------------------------------------------------------
r263821 | duncf | 2005-08-28 04:50:58 +0000 (Sun, 28 Aug 2005) | 3 lines

A bunch of doc fixes from Loren Wilton, Wolfgang Zeikat and me.
http://wiki.apache.org/spamassassin/BetterDocumentation

------------------------------------------------------------------------
r263818 | duncf | 2005-08-28 04:26:33 +0000 (Sun, 28 Aug 2005) | 2 lines

Fix typo - "=head2" should be "=item"

------------------------------------------------------------------------
r263807 | duncf | 2005-08-28 03:31:05 +0000 (Sun, 28 Aug 2005) | 2 lines

Bug 4494: Fix sa-learn's --local option

------------------------------------------------------------------------
r261912 | duncf | 2005-08-28 01:19:23 +0000 (Sun, 28 Aug 2005) | 2 lines

Bug 4552: Fix unitialized value warnings in spamd with TELLs

------------------------------------------------------------------------
r261908 | duncf | 2005-08-28 01:04:10 +0000 (Sun, 28 Aug 2005) | 2 lines

Bug 4535: tweak MIME boundary regexp

------------------------------------------------------------------------
r241813 | sidney | 2005-08-27 22:58:45 +0000 (Sat, 27 Aug 2005) | 1 line

Documentation change to reflect change from bug 3055
------------------------------------------------------------------------
r240309 | jm | 2005-08-26 19:18:25 +0000 (Fri, 26 Aug 2005) | 1 line

fix error in rule description
------------------------------------------------------------------------
r234434 | duncf | 2005-08-22 04:44:01 +0000 (Mon, 22 Aug 2005) | 3 lines

Bug 4546: disable TELL commands by default, add command line option
--allow-tell or -l to enable.

------------------------------------------------------------------------
r234429 | duncf | 2005-08-22 04:26:21 +0000 (Mon, 22 Aug 2005) | 2 lines

Minor fix to Mail::SpamAssassin::Client to use the whole error message

------------------------------------------------------------------------
r234425 | duncf | 2005-08-22 03:49:13 +0000 (Mon, 22 Aug 2005) | 2 lines

Minor doc fix

------------------------------------------------------------------------
r233991 | jm | 2005-08-20 03:03:34 +0000 (Sat, 20 Aug 2005) | 1 line

bug 4518: fix situation where helper apps can be left running after SA times out on them, thanks to Mark Martinec
------------------------------------------------------------------------
r233987 | jm | 2005-08-20 02:56:36 +0000 (Sat, 20 Aug 2005) | 1 line

bug 4533: syslog entries were being identified as 'spamassassin' instead of 'spamd'. fixed, thanks to Dawn Keenan
------------------------------------------------------------------------
r233986 | jm | 2005-08-20 02:43:15 +0000 (Sat, 20 Aug 2005) | 1 line

bug 4412: try to deal with platforms that don't yet have AF_INET6
------------------------------------------------------------------------
r233398 | jm | 2005-08-18 23:44:56 +0000 (Thu, 18 Aug 2005) | 1 line

bug 4412: DNS resolver fails with an IPv6 resolver address in /etc/resolv.conf; add IPv6 support code
------------------------------------------------------------------------
r233291 | duncf | 2005-08-18 06:45:54 +0000 (Thu, 18 Aug 2005) | 4 lines

Document the procedure for migrating back-ends. This needs to be
documented somewhere in the distribution, not just the wiki, though
this may not be the ideal spot.

------------------------------------------------------------------------
r233283 | duncf | 2005-08-18 04:06:01 +0000 (Thu, 18 Aug 2005) | 2 lines

Valid POD please!

------------------------------------------------------------------------
r233282 | jm | 2005-08-18 03:03:01 +0000 (Thu, 18 Aug 2005) | 1 line

user suggestion via out-of-band mail; link to SiteWideBayesFeedback here
------------------------------------------------------------------------
r233122 | duncf | 2005-08-17 04:44:35 +0000 (Wed, 17 Aug 2005) | 2 lines

Typos: occured -> occurred, occurence -> ocurrence

------------------------------------------------------------------------
r233113 | duncf | 2005-08-17 03:20:38 +0000 (Wed, 17 Aug 2005) | 3 lines

Doc fix: ok_locales arguments are not country codes, and implying that
they are either country codes or language codes is misleading.

------------------------------------------------------------------------
r233111 | jm | 2005-08-17 03:09:43 +0000 (Wed, 17 Aug 2005) | 1 line

bug 4536: avoid breakage when warns happen before Mail::SA::Logger is loaded
------------------------------------------------------------------------
r233108 | jm | 2005-08-17 02:52:04 +0000 (Wed, 17 Aug 2005) | 1 line

3.1.0-rc1 RELEASED.  checking in build notes from 3.1.0 branch
------------------------------------------------------------------------
